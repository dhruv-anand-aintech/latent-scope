function PS(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var kS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function B0(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var G1={exports:{}},Qd={},$1={exports:{}},Ft={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qu=Symbol.for("react.element"),NS=Symbol.for("react.portal"),IS=Symbol.for("react.fragment"),MS=Symbol.for("react.strict_mode"),DS=Symbol.for("react.profiler"),FS=Symbol.for("react.provider"),BS=Symbol.for("react.context"),jS=Symbol.for("react.forward_ref"),GS=Symbol.for("react.suspense"),$S=Symbol.for("react.memo"),zS=Symbol.for("react.lazy"),Dy=Symbol.iterator;function US(e){return e===null||typeof e!="object"?null:(e=Dy&&e[Dy]||e["@@iterator"],typeof e=="function"?e:null)}var z1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U1=Object.assign,V1={};function rs(e,t,n){this.props=e,this.context=t,this.refs=V1,this.updater=n||z1}rs.prototype.isReactComponent={};rs.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};rs.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function H1(){}H1.prototype=rs.prototype;function j0(e,t,n){this.props=e,this.context=t,this.refs=V1,this.updater=n||z1}var G0=j0.prototype=new H1;G0.constructor=j0;U1(G0,rs.prototype);G0.isPureReactComponent=!0;var Fy=Array.isArray,W1=Object.prototype.hasOwnProperty,$0={current:null},X1={key:!0,ref:!0,__self:!0,__source:!0};function Y1(e,t,n){var r,i={},o=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(o=""+t.key),t)W1.call(t,r)&&!X1.hasOwnProperty(r)&&(i[r]=t[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var u=Array(l),f=0;f<l;f++)u[f]=arguments[f+2];i.children=u}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:qu,type:e,key:o,ref:a,props:i,_owner:$0.current}}function VS(e,t){return{$$typeof:qu,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function z0(e){return typeof e=="object"&&e!==null&&e.$$typeof===qu}function HS(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var By=/\/+/g;function Bm(e,t){return typeof e=="object"&&e!==null&&e.key!=null?HS(""+e.key):t.toString(36)}function Qf(e,t,n,r,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case qu:case NS:a=!0}}if(a)return a=e,i=i(a),e=r===""?"."+Bm(a,0):r,Fy(i)?(n="",e!=null&&(n=e.replace(By,"$&/")+"/"),Qf(i,t,n,"",function(f){return f})):i!=null&&(z0(i)&&(i=VS(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(By,"$&/")+"/")+e)),t.push(i)),1;if(a=0,r=r===""?".":r+":",Fy(e))for(var l=0;l<e.length;l++){o=e[l];var u=r+Bm(o,l);a+=Qf(o,t,n,u,i)}else if(u=US(e),typeof u=="function")for(e=u.call(e),l=0;!(o=e.next()).done;)o=o.value,u=r+Bm(o,l++),a+=Qf(o,t,n,u,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function Tf(e,t,n){if(e==null)return e;var r=[],i=0;return Qf(e,r,"","",function(o){return t.call(n,o,i++)}),r}function WS(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ir={current:null},Kf={transition:null},XS={ReactCurrentDispatcher:ir,ReactCurrentBatchConfig:Kf,ReactCurrentOwner:$0};Ft.Children={map:Tf,forEach:function(e,t,n){Tf(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Tf(e,function(){t++}),t},toArray:function(e){return Tf(e,function(t){return t})||[]},only:function(e){if(!z0(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ft.Component=rs;Ft.Fragment=IS;Ft.Profiler=DS;Ft.PureComponent=j0;Ft.StrictMode=MS;Ft.Suspense=GS;Ft.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=XS;Ft.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=U1({},e.props),i=e.key,o=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,a=$0.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)W1.call(t,u)&&!X1.hasOwnProperty(u)&&(r[u]=t[u]===void 0&&l!==void 0?l[u]:t[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){l=Array(u);for(var f=0;f<u;f++)l[f]=arguments[f+2];r.children=l}return{$$typeof:qu,type:e.type,key:i,ref:o,props:r,_owner:a}};Ft.createContext=function(e){return e={$$typeof:BS,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:FS,_context:e},e.Consumer=e};Ft.createElement=Y1;Ft.createFactory=function(e){var t=Y1.bind(null,e);return t.type=e,t};Ft.createRef=function(){return{current:null}};Ft.forwardRef=function(e){return{$$typeof:jS,render:e}};Ft.isValidElement=z0;Ft.lazy=function(e){return{$$typeof:zS,_payload:{_status:-1,_result:e},_init:WS}};Ft.memo=function(e,t){return{$$typeof:$S,type:e,compare:t===void 0?null:t}};Ft.startTransition=function(e){var t=Kf.transition;Kf.transition={};try{e()}finally{Kf.transition=t}};Ft.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Ft.useCallback=function(e,t){return ir.current.useCallback(e,t)};Ft.useContext=function(e){return ir.current.useContext(e)};Ft.useDebugValue=function(){};Ft.useDeferredValue=function(e){return ir.current.useDeferredValue(e)};Ft.useEffect=function(e,t){return ir.current.useEffect(e,t)};Ft.useId=function(){return ir.current.useId()};Ft.useImperativeHandle=function(e,t,n){return ir.current.useImperativeHandle(e,t,n)};Ft.useInsertionEffect=function(e,t){return ir.current.useInsertionEffect(e,t)};Ft.useLayoutEffect=function(e,t){return ir.current.useLayoutEffect(e,t)};Ft.useMemo=function(e,t){return ir.current.useMemo(e,t)};Ft.useReducer=function(e,t,n){return ir.current.useReducer(e,t,n)};Ft.useRef=function(e){return ir.current.useRef(e)};Ft.useState=function(e){return ir.current.useState(e)};Ft.useSyncExternalStore=function(e,t,n){return ir.current.useSyncExternalStore(e,t,n)};Ft.useTransition=function(){return ir.current.useTransition()};Ft.version="18.2.0";$1.exports=Ft;var re=$1.exports;const Q1=B0(re),YS=PS({__proto__:null,default:Q1},[re]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QS=re,KS=Symbol.for("react.element"),qS=Symbol.for("react.fragment"),ZS=Object.prototype.hasOwnProperty,JS=QS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ew={key:!0,ref:!0,__self:!0,__source:!0};function K1(e,t,n){var r,i={},o=null,a=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)ZS.call(t,r)&&!ew.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:KS,type:e,key:o,ref:a,props:i,_owner:JS.current}}Qd.Fragment=qS;Qd.jsx=K1;Qd.jsxs=K1;G1.exports=Qd;var ye=G1.exports,Np={},q1={exports:{}},Lr={},Z1={exports:{}},J1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(Ee,Ge){var Ue=Ee.length;Ee.push(Ge);e:for(;0<Ue;){var Ce=Ue-1>>>1,qe=Ee[Ce];if(0<i(qe,Ge))Ee[Ce]=Ge,Ee[Ue]=qe,Ue=Ce;else break e}}function n(Ee){return Ee.length===0?null:Ee[0]}function r(Ee){if(Ee.length===0)return null;var Ge=Ee[0],Ue=Ee.pop();if(Ue!==Ge){Ee[0]=Ue;e:for(var Ce=0,qe=Ee.length,Et=qe>>>1;Ce<Et;){var Lt=2*(Ce+1)-1,Vt=Ee[Lt],Bt=Lt+1,Wt=Ee[Bt];if(0>i(Vt,Ue))Bt<qe&&0>i(Wt,Vt)?(Ee[Ce]=Wt,Ee[Bt]=Ue,Ce=Bt):(Ee[Ce]=Vt,Ee[Lt]=Ue,Ce=Lt);else if(Bt<qe&&0>i(Wt,Ue))Ee[Ce]=Wt,Ee[Bt]=Ue,Ce=Bt;else break e}}return Ge}function i(Ee,Ge){var Ue=Ee.sortIndex-Ge.sortIndex;return Ue!==0?Ue:Ee.id-Ge.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var u=[],f=[],m=1,h=null,p=3,L=!1,k=!1,O=!1,j=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(Ee){for(var Ge=n(f);Ge!==null;){if(Ge.callback===null)r(f);else if(Ge.startTime<=Ee)r(f),Ge.sortIndex=Ge.expirationTime,t(u,Ge);else break;Ge=n(f)}}function V(Ee){if(O=!1,C(Ee),!k)if(n(u)!==null)k=!0,dt(Y);else{var Ge=n(f);Ge!==null&&vt(V,Ge.startTime-Ee)}}function Y(Ee,Ge){k=!1,O&&(O=!1,x(se),se=-1),L=!0;var Ue=p;try{for(C(Ge),h=n(u);h!==null&&(!(h.expirationTime>Ge)||Ee&&!Ve());){var Ce=h.callback;if(typeof Ce=="function"){h.callback=null,p=h.priorityLevel;var qe=Ce(h.expirationTime<=Ge);Ge=e.unstable_now(),typeof qe=="function"?h.callback=qe:h===n(u)&&r(u),C(Ge)}else r(u);h=n(u)}if(h!==null)var Et=!0;else{var Lt=n(f);Lt!==null&&vt(V,Lt.startTime-Ge),Et=!1}return Et}finally{h=null,p=Ue,L=!1}}var le=!1,xe=null,se=-1,ct=5,Qe=-1;function Ve(){return!(e.unstable_now()-Qe<ct)}function Le(){if(xe!==null){var Ee=e.unstable_now();Qe=Ee;var Ge=!0;try{Ge=xe(!0,Ee)}finally{Ge?nt():(le=!1,xe=null)}}else le=!1}var nt;if(typeof T=="function")nt=function(){T(Le)};else if(typeof MessageChannel<"u"){var Xe=new MessageChannel,Gt=Xe.port2;Xe.port1.onmessage=Le,nt=function(){Gt.postMessage(null)}}else nt=function(){j(Le,0)};function dt(Ee){xe=Ee,le||(le=!0,nt())}function vt(Ee,Ge){se=j(function(){Ee(e.unstable_now())},Ge)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Ee){Ee.callback=null},e.unstable_continueExecution=function(){k||L||(k=!0,dt(Y))},e.unstable_forceFrameRate=function(Ee){0>Ee||125<Ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ct=0<Ee?Math.floor(1e3/Ee):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(Ee){switch(p){case 1:case 2:case 3:var Ge=3;break;default:Ge=p}var Ue=p;p=Ge;try{return Ee()}finally{p=Ue}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(Ee,Ge){switch(Ee){case 1:case 2:case 3:case 4:case 5:break;default:Ee=3}var Ue=p;p=Ee;try{return Ge()}finally{p=Ue}},e.unstable_scheduleCallback=function(Ee,Ge,Ue){var Ce=e.unstable_now();switch(typeof Ue=="object"&&Ue!==null?(Ue=Ue.delay,Ue=typeof Ue=="number"&&0<Ue?Ce+Ue:Ce):Ue=Ce,Ee){case 1:var qe=-1;break;case 2:qe=250;break;case 5:qe=1073741823;break;case 4:qe=1e4;break;default:qe=5e3}return qe=Ue+qe,Ee={id:m++,callback:Ge,priorityLevel:Ee,startTime:Ue,expirationTime:qe,sortIndex:-1},Ue>Ce?(Ee.sortIndex=Ue,t(f,Ee),n(u)===null&&Ee===n(f)&&(O?(x(se),se=-1):O=!0,vt(V,Ue-Ce))):(Ee.sortIndex=qe,t(u,Ee),k||L||(k=!0,dt(Y))),Ee},e.unstable_shouldYield=Ve,e.unstable_wrapCallback=function(Ee){var Ge=p;return function(){var Ue=p;p=Ge;try{return Ee.apply(this,arguments)}finally{p=Ue}}}})(J1);Z1.exports=J1;var tw=Z1.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ex=re,br=tw;function Pe(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var tx=new Set,Ru={};function Fa(e,t){Yl(e,t),Yl(e+"Capture",t)}function Yl(e,t){for(Ru[e]=t,e=0;e<t.length;e++)tx.add(t[e])}var Ui=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ip=Object.prototype.hasOwnProperty,nw=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,jy={},Gy={};function rw(e){return Ip.call(Gy,e)?!0:Ip.call(jy,e)?!1:nw.test(e)?Gy[e]=!0:(jy[e]=!0,!1)}function iw(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function ow(e,t,n,r){if(t===null||typeof t>"u"||iw(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function or(e,t,n,r,i,o,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var Xn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Xn[e]=new or(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Xn[t]=new or(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Xn[e]=new or(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Xn[e]=new or(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Xn[e]=new or(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Xn[e]=new or(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Xn[e]=new or(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Xn[e]=new or(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Xn[e]=new or(e,5,!1,e.toLowerCase(),null,!1,!1)});var U0=/[\-:]([a-z])/g;function V0(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(U0,V0);Xn[t]=new or(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(U0,V0);Xn[t]=new or(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(U0,V0);Xn[t]=new or(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Xn[e]=new or(e,1,!1,e.toLowerCase(),null,!1,!1)});Xn.xlinkHref=new or("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Xn[e]=new or(e,1,!1,e.toLowerCase(),null,!0,!0)});function H0(e,t,n,r){var i=Xn.hasOwnProperty(t)?Xn[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(ow(t,n,i,r)&&(n=null),r||i===null?rw(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Xi=ex.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Af=Symbol.for("react.element"),bl=Symbol.for("react.portal"),Ll=Symbol.for("react.fragment"),W0=Symbol.for("react.strict_mode"),Mp=Symbol.for("react.profiler"),nx=Symbol.for("react.provider"),rx=Symbol.for("react.context"),X0=Symbol.for("react.forward_ref"),Dp=Symbol.for("react.suspense"),Fp=Symbol.for("react.suspense_list"),Y0=Symbol.for("react.memo"),So=Symbol.for("react.lazy"),ix=Symbol.for("react.offscreen"),$y=Symbol.iterator;function iu(e){return e===null||typeof e!="object"?null:(e=$y&&e[$y]||e["@@iterator"],typeof e=="function"?e:null)}var vn=Object.assign,jm;function pu(e){if(jm===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);jm=t&&t[1]||""}return`
`+jm+e}var Gm=!1;function $m(e,t){if(!e||Gm)return"";Gm=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(f){var r=f}Reflect.construct(e,[],t)}else{try{t.call()}catch(f){r=f}e.call(t.prototype)}else{try{throw Error()}catch(f){r=f}e()}}catch(f){if(f&&r&&typeof f.stack=="string"){for(var i=f.stack.split(`
`),o=r.stack.split(`
`),a=i.length-1,l=o.length-1;1<=a&&0<=l&&i[a]!==o[l];)l--;for(;1<=a&&0<=l;a--,l--)if(i[a]!==o[l]){if(a!==1||l!==1)do if(a--,l--,0>l||i[a]!==o[l]){var u=`
`+i[a].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=a&&0<=l);break}}}finally{Gm=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?pu(e):""}function aw(e){switch(e.tag){case 5:return pu(e.type);case 16:return pu("Lazy");case 13:return pu("Suspense");case 19:return pu("SuspenseList");case 0:case 2:case 15:return e=$m(e.type,!1),e;case 11:return e=$m(e.type.render,!1),e;case 1:return e=$m(e.type,!0),e;default:return""}}function Bp(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ll:return"Fragment";case bl:return"Portal";case Mp:return"Profiler";case W0:return"StrictMode";case Dp:return"Suspense";case Fp:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case rx:return(e.displayName||"Context")+".Consumer";case nx:return(e._context.displayName||"Context")+".Provider";case X0:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Y0:return t=e.displayName||null,t!==null?t:Bp(e.type)||"Memo";case So:t=e._payload,e=e._init;try{return Bp(e(t))}catch{}}return null}function lw(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Bp(t);case 8:return t===W0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function jo(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ox(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function sw(e){var t=ox(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,o.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Cf(e){e._valueTracker||(e._valueTracker=sw(e))}function ax(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ox(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function cd(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function jp(e,t){var n=t.checked;return vn({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function zy(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=jo(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function lx(e,t){t=t.checked,t!=null&&H0(e,"checked",t,!1)}function Gp(e,t){lx(e,t);var n=jo(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?$p(e,t.type,n):t.hasOwnProperty("defaultValue")&&$p(e,t.type,jo(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Uy(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function $p(e,t,n){(t!=="number"||cd(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var vu=Array.isArray;function Gl(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+jo(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function zp(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Pe(91));return vn({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Vy(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(Pe(92));if(vu(n)){if(1<n.length)throw Error(Pe(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:jo(n)}}function sx(e,t){var n=jo(t.value),r=jo(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Hy(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function ux(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Up(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?ux(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var bf,cx=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(bf=bf||document.createElement("div"),bf.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=bf.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ou(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Eu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},uw=["Webkit","ms","Moz","O"];Object.keys(Eu).forEach(function(e){uw.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Eu[t]=Eu[e]})});function fx(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Eu.hasOwnProperty(e)&&Eu[e]?(""+t).trim():t+"px"}function dx(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=fx(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var cw=vn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Vp(e,t){if(t){if(cw[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Pe(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Pe(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Pe(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Pe(62))}}function Hp(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Wp=null;function Q0(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Xp=null,$l=null,zl=null;function Wy(e){if(e=ec(e)){if(typeof Xp!="function")throw Error(Pe(280));var t=e.stateNode;t&&(t=eh(t),Xp(e.stateNode,e.type,t))}}function hx(e){$l?zl?zl.push(e):zl=[e]:$l=e}function mx(){if($l){var e=$l,t=zl;if(zl=$l=null,Wy(e),t)for(e=0;e<t.length;e++)Wy(t[e])}}function px(e,t){return e(t)}function vx(){}var zm=!1;function yx(e,t,n){if(zm)return e(t,n);zm=!0;try{return px(e,t,n)}finally{zm=!1,($l!==null||zl!==null)&&(vx(),mx())}}function Pu(e,t){var n=e.stateNode;if(n===null)return null;var r=eh(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Pe(231,t,typeof n));return n}var Yp=!1;if(Ui)try{var ou={};Object.defineProperty(ou,"passive",{get:function(){Yp=!0}}),window.addEventListener("test",ou,ou),window.removeEventListener("test",ou,ou)}catch{Yp=!1}function fw(e,t,n,r,i,o,a,l,u){var f=Array.prototype.slice.call(arguments,3);try{t.apply(n,f)}catch(m){this.onError(m)}}var _u=!1,fd=null,dd=!1,Qp=null,dw={onError:function(e){_u=!0,fd=e}};function hw(e,t,n,r,i,o,a,l,u){_u=!1,fd=null,fw.apply(dw,arguments)}function mw(e,t,n,r,i,o,a,l,u){if(hw.apply(this,arguments),_u){if(_u){var f=fd;_u=!1,fd=null}else throw Error(Pe(198));dd||(dd=!0,Qp=f)}}function Ba(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function gx(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Xy(e){if(Ba(e)!==e)throw Error(Pe(188))}function pw(e){var t=e.alternate;if(!t){if(t=Ba(e),t===null)throw Error(Pe(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Xy(i),e;if(o===r)return Xy(i),t;o=o.sibling}throw Error(Pe(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=o;break}if(l===r){a=!0,r=i,n=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===n){a=!0,n=o,r=i;break}if(l===r){a=!0,r=o,n=i;break}l=l.sibling}if(!a)throw Error(Pe(189))}}if(n.alternate!==r)throw Error(Pe(190))}if(n.tag!==3)throw Error(Pe(188));return n.stateNode.current===n?e:t}function xx(e){return e=pw(e),e!==null?Ex(e):null}function Ex(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Ex(e);if(t!==null)return t;e=e.sibling}return null}var _x=br.unstable_scheduleCallback,Yy=br.unstable_cancelCallback,vw=br.unstable_shouldYield,yw=br.unstable_requestPaint,Rn=br.unstable_now,gw=br.unstable_getCurrentPriorityLevel,K0=br.unstable_ImmediatePriority,Sx=br.unstable_UserBlockingPriority,hd=br.unstable_NormalPriority,xw=br.unstable_LowPriority,wx=br.unstable_IdlePriority,Kd=null,xi=null;function Ew(e){if(xi&&typeof xi.onCommitFiberRoot=="function")try{xi.onCommitFiberRoot(Kd,e,void 0,(e.current.flags&128)===128)}catch{}}var Jr=Math.clz32?Math.clz32:ww,_w=Math.log,Sw=Math.LN2;function ww(e){return e>>>=0,e===0?32:31-(_w(e)/Sw|0)|0}var Lf=64,Rf=4194304;function yu(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function md(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,a=n&268435455;if(a!==0){var l=a&~i;l!==0?r=yu(l):(o&=a,o!==0&&(r=yu(o)))}else a=n&~i,a!==0?r=yu(a):o!==0&&(r=yu(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Jr(t),i=1<<n,r|=e[n],t&=~i;return r}function Tw(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Aw(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-Jr(o),l=1<<a,u=i[a];u===-1?(!(l&n)||l&r)&&(i[a]=Tw(l,t)):u<=t&&(e.expiredLanes|=l),o&=~l}}function Kp(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Tx(){var e=Lf;return Lf<<=1,!(Lf&4194240)&&(Lf=64),e}function Um(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Zu(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Jr(t),e[t]=n}function Cw(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Jr(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}function q0(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Jr(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var qt=0;function Ax(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Cx,Z0,bx,Lx,Rx,qp=!1,Of=[],Oo=null,Po=null,ko=null,ku=new Map,Nu=new Map,To=[],bw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Qy(e,t){switch(e){case"focusin":case"focusout":Oo=null;break;case"dragenter":case"dragleave":Po=null;break;case"mouseover":case"mouseout":ko=null;break;case"pointerover":case"pointerout":ku.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nu.delete(t.pointerId)}}function au(e,t,n,r,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},t!==null&&(t=ec(t),t!==null&&Z0(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Lw(e,t,n,r,i){switch(t){case"focusin":return Oo=au(Oo,e,t,n,r,i),!0;case"dragenter":return Po=au(Po,e,t,n,r,i),!0;case"mouseover":return ko=au(ko,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return ku.set(o,au(ku.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Nu.set(o,au(Nu.get(o)||null,e,t,n,r,i)),!0}return!1}function Ox(e){var t=_a(e.target);if(t!==null){var n=Ba(t);if(n!==null){if(t=n.tag,t===13){if(t=gx(n),t!==null){e.blockedOn=t,Rx(e.priority,function(){bx(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function qf(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Zp(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Wp=r,n.target.dispatchEvent(r),Wp=null}else return t=ec(n),t!==null&&Z0(t),e.blockedOn=n,!1;t.shift()}return!0}function Ky(e,t,n){qf(e)&&n.delete(t)}function Rw(){qp=!1,Oo!==null&&qf(Oo)&&(Oo=null),Po!==null&&qf(Po)&&(Po=null),ko!==null&&qf(ko)&&(ko=null),ku.forEach(Ky),Nu.forEach(Ky)}function lu(e,t){e.blockedOn===t&&(e.blockedOn=null,qp||(qp=!0,br.unstable_scheduleCallback(br.unstable_NormalPriority,Rw)))}function Iu(e){function t(i){return lu(i,e)}if(0<Of.length){lu(Of[0],e);for(var n=1;n<Of.length;n++){var r=Of[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Oo!==null&&lu(Oo,e),Po!==null&&lu(Po,e),ko!==null&&lu(ko,e),ku.forEach(t),Nu.forEach(t),n=0;n<To.length;n++)r=To[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<To.length&&(n=To[0],n.blockedOn===null);)Ox(n),n.blockedOn===null&&To.shift()}var Ul=Xi.ReactCurrentBatchConfig,pd=!0;function Ow(e,t,n,r){var i=qt,o=Ul.transition;Ul.transition=null;try{qt=1,J0(e,t,n,r)}finally{qt=i,Ul.transition=o}}function Pw(e,t,n,r){var i=qt,o=Ul.transition;Ul.transition=null;try{qt=4,J0(e,t,n,r)}finally{qt=i,Ul.transition=o}}function J0(e,t,n,r){if(pd){var i=Zp(e,t,n,r);if(i===null)Jm(e,t,r,vd,n),Qy(e,r);else if(Lw(i,e,t,n,r))r.stopPropagation();else if(Qy(e,r),t&4&&-1<bw.indexOf(e)){for(;i!==null;){var o=ec(i);if(o!==null&&Cx(o),o=Zp(e,t,n,r),o===null&&Jm(e,t,r,vd,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Jm(e,t,r,null,n)}}var vd=null;function Zp(e,t,n,r){if(vd=null,e=Q0(r),e=_a(e),e!==null)if(t=Ba(e),t===null)e=null;else if(n=t.tag,n===13){if(e=gx(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return vd=e,null}function Px(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(gw()){case K0:return 1;case Sx:return 4;case hd:case xw:return 16;case wx:return 536870912;default:return 16}default:return 16}}var Co=null,ev=null,Zf=null;function kx(){if(Zf)return Zf;var e,t=ev,n=t.length,r,i="value"in Co?Co.value:Co.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===i[o-r];r++);return Zf=i.slice(e,1<r?1-r:void 0)}function Jf(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Pf(){return!0}function qy(){return!1}function Rr(e){function t(n,r,i,o,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Pf:qy,this.isPropagationStopped=qy,this}return vn(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Pf)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Pf)},persist:function(){},isPersistent:Pf}),t}var is={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},tv=Rr(is),Ju=vn({},is,{view:0,detail:0}),kw=Rr(Ju),Vm,Hm,su,qd=vn({},Ju,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:nv,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==su&&(su&&e.type==="mousemove"?(Vm=e.screenX-su.screenX,Hm=e.screenY-su.screenY):Hm=Vm=0,su=e),Vm)},movementY:function(e){return"movementY"in e?e.movementY:Hm}}),Zy=Rr(qd),Nw=vn({},qd,{dataTransfer:0}),Iw=Rr(Nw),Mw=vn({},Ju,{relatedTarget:0}),Wm=Rr(Mw),Dw=vn({},is,{animationName:0,elapsedTime:0,pseudoElement:0}),Fw=Rr(Dw),Bw=vn({},is,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),jw=Rr(Bw),Gw=vn({},is,{data:0}),Jy=Rr(Gw),$w={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Uw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Vw(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Uw[e])?!!t[e]:!1}function nv(){return Vw}var Hw=vn({},Ju,{key:function(e){if(e.key){var t=$w[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Jf(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?zw[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:nv,charCode:function(e){return e.type==="keypress"?Jf(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Jf(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ww=Rr(Hw),Xw=vn({},qd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),eg=Rr(Xw),Yw=vn({},Ju,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:nv}),Qw=Rr(Yw),Kw=vn({},is,{propertyName:0,elapsedTime:0,pseudoElement:0}),qw=Rr(Kw),Zw=vn({},qd,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Jw=Rr(Zw),eT=[9,13,27,32],rv=Ui&&"CompositionEvent"in window,Su=null;Ui&&"documentMode"in document&&(Su=document.documentMode);var tT=Ui&&"TextEvent"in window&&!Su,Nx=Ui&&(!rv||Su&&8<Su&&11>=Su),tg=" ",ng=!1;function Ix(e,t){switch(e){case"keyup":return eT.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Mx(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Rl=!1;function nT(e,t){switch(e){case"compositionend":return Mx(t);case"keypress":return t.which!==32?null:(ng=!0,tg);case"textInput":return e=t.data,e===tg&&ng?null:e;default:return null}}function rT(e,t){if(Rl)return e==="compositionend"||!rv&&Ix(e,t)?(e=kx(),Zf=ev=Co=null,Rl=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Nx&&t.locale!=="ko"?null:t.data;default:return null}}var iT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function rg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!iT[e.type]:t==="textarea"}function Dx(e,t,n,r){hx(r),t=yd(t,"onChange"),0<t.length&&(n=new tv("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var wu=null,Mu=null;function oT(e){Xx(e,0)}function Zd(e){var t=kl(e);if(ax(t))return e}function aT(e,t){if(e==="change")return t}var Fx=!1;if(Ui){var Xm;if(Ui){var Ym="oninput"in document;if(!Ym){var ig=document.createElement("div");ig.setAttribute("oninput","return;"),Ym=typeof ig.oninput=="function"}Xm=Ym}else Xm=!1;Fx=Xm&&(!document.documentMode||9<document.documentMode)}function og(){wu&&(wu.detachEvent("onpropertychange",Bx),Mu=wu=null)}function Bx(e){if(e.propertyName==="value"&&Zd(Mu)){var t=[];Dx(t,Mu,e,Q0(e)),yx(oT,t)}}function lT(e,t,n){e==="focusin"?(og(),wu=t,Mu=n,wu.attachEvent("onpropertychange",Bx)):e==="focusout"&&og()}function sT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Zd(Mu)}function uT(e,t){if(e==="click")return Zd(t)}function cT(e,t){if(e==="input"||e==="change")return Zd(t)}function fT(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ti=typeof Object.is=="function"?Object.is:fT;function Du(e,t){if(ti(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Ip.call(t,i)||!ti(e[i],t[i]))return!1}return!0}function ag(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lg(e,t){var n=ag(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ag(n)}}function jx(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?jx(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Gx(){for(var e=window,t=cd();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=cd(e.document)}return t}function iv(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function dT(e){var t=Gx(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&jx(n.ownerDocument.documentElement,n)){if(r!==null&&iv(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=lg(n,o);var a=lg(n,r);i&&a&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var hT=Ui&&"documentMode"in document&&11>=document.documentMode,Ol=null,Jp=null,Tu=null,e0=!1;function sg(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;e0||Ol==null||Ol!==cd(r)||(r=Ol,"selectionStart"in r&&iv(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Tu&&Du(Tu,r)||(Tu=r,r=yd(Jp,"onSelect"),0<r.length&&(t=new tv("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Ol)))}function kf(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Pl={animationend:kf("Animation","AnimationEnd"),animationiteration:kf("Animation","AnimationIteration"),animationstart:kf("Animation","AnimationStart"),transitionend:kf("Transition","TransitionEnd")},Qm={},$x={};Ui&&($x=document.createElement("div").style,"AnimationEvent"in window||(delete Pl.animationend.animation,delete Pl.animationiteration.animation,delete Pl.animationstart.animation),"TransitionEvent"in window||delete Pl.transitionend.transition);function Jd(e){if(Qm[e])return Qm[e];if(!Pl[e])return e;var t=Pl[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in $x)return Qm[e]=t[n];return e}var zx=Jd("animationend"),Ux=Jd("animationiteration"),Vx=Jd("animationstart"),Hx=Jd("transitionend"),Wx=new Map,ug="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function zo(e,t){Wx.set(e,t),Fa(t,[e])}for(var Km=0;Km<ug.length;Km++){var qm=ug[Km],mT=qm.toLowerCase(),pT=qm[0].toUpperCase()+qm.slice(1);zo(mT,"on"+pT)}zo(zx,"onAnimationEnd");zo(Ux,"onAnimationIteration");zo(Vx,"onAnimationStart");zo("dblclick","onDoubleClick");zo("focusin","onFocus");zo("focusout","onBlur");zo(Hx,"onTransitionEnd");Yl("onMouseEnter",["mouseout","mouseover"]);Yl("onMouseLeave",["mouseout","mouseover"]);Yl("onPointerEnter",["pointerout","pointerover"]);Yl("onPointerLeave",["pointerout","pointerover"]);Fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);Fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vT=new Set("cancel close invalid load scroll toggle".split(" ").concat(gu));function cg(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,mw(r,t,void 0,e),e.currentTarget=null}function Xx(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var l=r[a],u=l.instance,f=l.currentTarget;if(l=l.listener,u!==o&&i.isPropagationStopped())break e;cg(i,l,f),o=u}else for(a=0;a<r.length;a++){if(l=r[a],u=l.instance,f=l.currentTarget,l=l.listener,u!==o&&i.isPropagationStopped())break e;cg(i,l,f),o=u}}}if(dd)throw e=Qp,dd=!1,Qp=null,e}function on(e,t){var n=t[o0];n===void 0&&(n=t[o0]=new Set);var r=e+"__bubble";n.has(r)||(Yx(t,e,2,!1),n.add(r))}function Zm(e,t,n){var r=0;t&&(r|=4),Yx(n,e,r,t)}var Nf="_reactListening"+Math.random().toString(36).slice(2);function Fu(e){if(!e[Nf]){e[Nf]=!0,tx.forEach(function(n){n!=="selectionchange"&&(vT.has(n)||Zm(n,!1,e),Zm(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Nf]||(t[Nf]=!0,Zm("selectionchange",!1,t))}}function Yx(e,t,n,r){switch(Px(t)){case 1:var i=Ow;break;case 4:i=Pw;break;default:i=J0}n=i.bind(null,t,n,e),i=void 0,!Yp||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Jm(e,t,n,r,i){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var u=a.tag;if((u===3||u===4)&&(u=a.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;a=a.return}for(;l!==null;){if(a=_a(l),a===null)return;if(u=a.tag,u===5||u===6){r=o=a;continue e}l=l.parentNode}}r=r.return}yx(function(){var f=o,m=Q0(n),h=[];e:{var p=Wx.get(e);if(p!==void 0){var L=tv,k=e;switch(e){case"keypress":if(Jf(n)===0)break e;case"keydown":case"keyup":L=Ww;break;case"focusin":k="focus",L=Wm;break;case"focusout":k="blur",L=Wm;break;case"beforeblur":case"afterblur":L=Wm;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":L=Zy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":L=Iw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":L=Qw;break;case zx:case Ux:case Vx:L=Fw;break;case Hx:L=qw;break;case"scroll":L=kw;break;case"wheel":L=Jw;break;case"copy":case"cut":case"paste":L=jw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":L=eg}var O=(t&4)!==0,j=!O&&e==="scroll",x=O?p!==null?p+"Capture":null:p;O=[];for(var T=f,C;T!==null;){C=T;var V=C.stateNode;if(C.tag===5&&V!==null&&(C=V,x!==null&&(V=Pu(T,x),V!=null&&O.push(Bu(T,V,C)))),j)break;T=T.return}0<O.length&&(p=new L(p,k,null,n,m),h.push({event:p,listeners:O}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",L=e==="mouseout"||e==="pointerout",p&&n!==Wp&&(k=n.relatedTarget||n.fromElement)&&(_a(k)||k[Vi]))break e;if((L||p)&&(p=m.window===m?m:(p=m.ownerDocument)?p.defaultView||p.parentWindow:window,L?(k=n.relatedTarget||n.toElement,L=f,k=k?_a(k):null,k!==null&&(j=Ba(k),k!==j||k.tag!==5&&k.tag!==6)&&(k=null)):(L=null,k=f),L!==k)){if(O=Zy,V="onMouseLeave",x="onMouseEnter",T="mouse",(e==="pointerout"||e==="pointerover")&&(O=eg,V="onPointerLeave",x="onPointerEnter",T="pointer"),j=L==null?p:kl(L),C=k==null?p:kl(k),p=new O(V,T+"leave",L,n,m),p.target=j,p.relatedTarget=C,V=null,_a(m)===f&&(O=new O(x,T+"enter",k,n,m),O.target=C,O.relatedTarget=j,V=O),j=V,L&&k)t:{for(O=L,x=k,T=0,C=O;C;C=Tl(C))T++;for(C=0,V=x;V;V=Tl(V))C++;for(;0<T-C;)O=Tl(O),T--;for(;0<C-T;)x=Tl(x),C--;for(;T--;){if(O===x||x!==null&&O===x.alternate)break t;O=Tl(O),x=Tl(x)}O=null}else O=null;L!==null&&fg(h,p,L,O,!1),k!==null&&j!==null&&fg(h,j,k,O,!0)}}e:{if(p=f?kl(f):window,L=p.nodeName&&p.nodeName.toLowerCase(),L==="select"||L==="input"&&p.type==="file")var Y=aT;else if(rg(p))if(Fx)Y=cT;else{Y=sT;var le=lT}else(L=p.nodeName)&&L.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(Y=uT);if(Y&&(Y=Y(e,f))){Dx(h,Y,n,m);break e}le&&le(e,p,f),e==="focusout"&&(le=p._wrapperState)&&le.controlled&&p.type==="number"&&$p(p,"number",p.value)}switch(le=f?kl(f):window,e){case"focusin":(rg(le)||le.contentEditable==="true")&&(Ol=le,Jp=f,Tu=null);break;case"focusout":Tu=Jp=Ol=null;break;case"mousedown":e0=!0;break;case"contextmenu":case"mouseup":case"dragend":e0=!1,sg(h,n,m);break;case"selectionchange":if(hT)break;case"keydown":case"keyup":sg(h,n,m)}var xe;if(rv)e:{switch(e){case"compositionstart":var se="onCompositionStart";break e;case"compositionend":se="onCompositionEnd";break e;case"compositionupdate":se="onCompositionUpdate";break e}se=void 0}else Rl?Ix(e,n)&&(se="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(se="onCompositionStart");se&&(Nx&&n.locale!=="ko"&&(Rl||se!=="onCompositionStart"?se==="onCompositionEnd"&&Rl&&(xe=kx()):(Co=m,ev="value"in Co?Co.value:Co.textContent,Rl=!0)),le=yd(f,se),0<le.length&&(se=new Jy(se,e,null,n,m),h.push({event:se,listeners:le}),xe?se.data=xe:(xe=Mx(n),xe!==null&&(se.data=xe)))),(xe=tT?nT(e,n):rT(e,n))&&(f=yd(f,"onBeforeInput"),0<f.length&&(m=new Jy("onBeforeInput","beforeinput",null,n,m),h.push({event:m,listeners:f}),m.data=xe))}Xx(h,t)})}function Bu(e,t,n){return{instance:e,listener:t,currentTarget:n}}function yd(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Pu(e,n),o!=null&&r.unshift(Bu(e,o,i)),o=Pu(e,t),o!=null&&r.push(Bu(e,o,i))),e=e.return}return r}function Tl(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function fg(e,t,n,r,i){for(var o=t._reactName,a=[];n!==null&&n!==r;){var l=n,u=l.alternate,f=l.stateNode;if(u!==null&&u===r)break;l.tag===5&&f!==null&&(l=f,i?(u=Pu(n,o),u!=null&&a.unshift(Bu(n,u,l))):i||(u=Pu(n,o),u!=null&&a.push(Bu(n,u,l)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var yT=/\r\n?/g,gT=/\u0000|\uFFFD/g;function dg(e){return(typeof e=="string"?e:""+e).replace(yT,`
`).replace(gT,"")}function If(e,t,n){if(t=dg(t),dg(e)!==t&&n)throw Error(Pe(425))}function gd(){}var t0=null,n0=null;function r0(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var i0=typeof setTimeout=="function"?setTimeout:void 0,xT=typeof clearTimeout=="function"?clearTimeout:void 0,hg=typeof Promise=="function"?Promise:void 0,ET=typeof queueMicrotask=="function"?queueMicrotask:typeof hg<"u"?function(e){return hg.resolve(null).then(e).catch(_T)}:i0;function _T(e){setTimeout(function(){throw e})}function ep(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Iu(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Iu(t)}function No(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function mg(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var os=Math.random().toString(36).slice(2),gi="__reactFiber$"+os,ju="__reactProps$"+os,Vi="__reactContainer$"+os,o0="__reactEvents$"+os,ST="__reactListeners$"+os,wT="__reactHandles$"+os;function _a(e){var t=e[gi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Vi]||n[gi]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=mg(e);e!==null;){if(n=e[gi])return n;e=mg(e)}return t}e=n,n=e.parentNode}return null}function ec(e){return e=e[gi]||e[Vi],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function kl(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Pe(33))}function eh(e){return e[ju]||null}var a0=[],Nl=-1;function Uo(e){return{current:e}}function an(e){0>Nl||(e.current=a0[Nl],a0[Nl]=null,Nl--)}function nn(e,t){Nl++,a0[Nl]=e.current,e.current=t}var Go={},Zn=Uo(Go),hr=Uo(!1),Ra=Go;function Ql(e,t){var n=e.type.contextTypes;if(!n)return Go;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function mr(e){return e=e.childContextTypes,e!=null}function xd(){an(hr),an(Zn)}function pg(e,t,n){if(Zn.current!==Go)throw Error(Pe(168));nn(Zn,t),nn(hr,n)}function Qx(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(Pe(108,lw(e)||"Unknown",i));return vn({},n,r)}function Ed(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Go,Ra=Zn.current,nn(Zn,e),nn(hr,hr.current),!0}function vg(e,t,n){var r=e.stateNode;if(!r)throw Error(Pe(169));n?(e=Qx(e,t,Ra),r.__reactInternalMemoizedMergedChildContext=e,an(hr),an(Zn),nn(Zn,e)):an(hr),nn(hr,n)}var ji=null,th=!1,tp=!1;function Kx(e){ji===null?ji=[e]:ji.push(e)}function TT(e){th=!0,Kx(e)}function Vo(){if(!tp&&ji!==null){tp=!0;var e=0,t=qt;try{var n=ji;for(qt=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}ji=null,th=!1}catch(i){throw ji!==null&&(ji=ji.slice(e+1)),_x(K0,Vo),i}finally{qt=t,tp=!1}}return null}var Il=[],Ml=0,_d=null,Sd=0,Fr=[],Br=0,Oa=null,Gi=1,$i="";function xa(e,t){Il[Ml++]=Sd,Il[Ml++]=_d,_d=e,Sd=t}function qx(e,t,n){Fr[Br++]=Gi,Fr[Br++]=$i,Fr[Br++]=Oa,Oa=e;var r=Gi;e=$i;var i=32-Jr(r)-1;r&=~(1<<i),n+=1;var o=32-Jr(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Gi=1<<32-Jr(t)+i|n<<i|r,$i=o+e}else Gi=1<<o|n<<i|r,$i=e}function ov(e){e.return!==null&&(xa(e,1),qx(e,1,0))}function av(e){for(;e===_d;)_d=Il[--Ml],Il[Ml]=null,Sd=Il[--Ml],Il[Ml]=null;for(;e===Oa;)Oa=Fr[--Br],Fr[Br]=null,$i=Fr[--Br],Fr[Br]=null,Gi=Fr[--Br],Fr[Br]=null}var Cr=null,Ar=null,un=!1,qr=null;function Zx(e,t){var n=jr(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function yg(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Cr=e,Ar=No(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Cr=e,Ar=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Oa!==null?{id:Gi,overflow:$i}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=jr(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Cr=e,Ar=null,!0):!1;default:return!1}}function l0(e){return(e.mode&1)!==0&&(e.flags&128)===0}function s0(e){if(un){var t=Ar;if(t){var n=t;if(!yg(e,t)){if(l0(e))throw Error(Pe(418));t=No(n.nextSibling);var r=Cr;t&&yg(e,t)?Zx(r,n):(e.flags=e.flags&-4097|2,un=!1,Cr=e)}}else{if(l0(e))throw Error(Pe(418));e.flags=e.flags&-4097|2,un=!1,Cr=e}}}function gg(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Cr=e}function Mf(e){if(e!==Cr)return!1;if(!un)return gg(e),un=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!r0(e.type,e.memoizedProps)),t&&(t=Ar)){if(l0(e))throw Jx(),Error(Pe(418));for(;t;)Zx(e,t),t=No(t.nextSibling)}if(gg(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Pe(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ar=No(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ar=null}}else Ar=Cr?No(e.stateNode.nextSibling):null;return!0}function Jx(){for(var e=Ar;e;)e=No(e.nextSibling)}function Kl(){Ar=Cr=null,un=!1}function lv(e){qr===null?qr=[e]:qr.push(e)}var AT=Xi.ReactCurrentBatchConfig;function Qr(e,t){if(e&&e.defaultProps){t=vn({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var wd=Uo(null),Td=null,Dl=null,sv=null;function uv(){sv=Dl=Td=null}function cv(e){var t=wd.current;an(wd),e._currentValue=t}function u0(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Vl(e,t){Td=e,sv=Dl=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(dr=!0),e.firstContext=null)}function $r(e){var t=e._currentValue;if(sv!==e)if(e={context:e,memoizedValue:t,next:null},Dl===null){if(Td===null)throw Error(Pe(308));Dl=e,Td.dependencies={lanes:0,firstContext:e}}else Dl=Dl.next=e;return t}var Sa=null;function fv(e){Sa===null?Sa=[e]:Sa.push(e)}function eE(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,fv(t)):(n.next=i.next,i.next=n),t.interleaved=n,Hi(e,r)}function Hi(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var wo=!1;function dv(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function tE(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function zi(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Io(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Ut&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Hi(e,n)}return i=r.interleaved,i===null?(t.next=t,fv(r)):(t.next=i.next,i.next=t),r.interleaved=t,Hi(e,n)}function ed(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,q0(e,n)}}function xg(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ad(e,t,n,r){var i=e.updateQueue;wo=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var u=l,f=u.next;u.next=null,a===null?o=f:a.next=f,a=u;var m=e.alternate;m!==null&&(m=m.updateQueue,l=m.lastBaseUpdate,l!==a&&(l===null?m.firstBaseUpdate=f:l.next=f,m.lastBaseUpdate=u))}if(o!==null){var h=i.baseState;a=0,m=f=u=null,l=o;do{var p=l.lane,L=l.eventTime;if((r&p)===p){m!==null&&(m=m.next={eventTime:L,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var k=e,O=l;switch(p=t,L=n,O.tag){case 1:if(k=O.payload,typeof k=="function"){h=k.call(L,h,p);break e}h=k;break e;case 3:k.flags=k.flags&-65537|128;case 0:if(k=O.payload,p=typeof k=="function"?k.call(L,h,p):k,p==null)break e;h=vn({},h,p);break e;case 2:wo=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,p=i.effects,p===null?i.effects=[l]:p.push(l))}else L={eventTime:L,lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},m===null?(f=m=L,u=h):m=m.next=L,a|=p;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;p=l,l=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(m===null&&(u=h),i.baseState=u,i.firstBaseUpdate=f,i.lastBaseUpdate=m,t=i.shared.interleaved,t!==null){i=t;do a|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);ka|=a,e.lanes=a,e.memoizedState=h}}function Eg(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Pe(191,i));i.call(r)}}}var nE=new ex.Component().refs;function c0(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:vn({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var nh={isMounted:function(e){return(e=e._reactInternals)?Ba(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=rr(),i=Do(e),o=zi(r,i);o.payload=t,n!=null&&(o.callback=n),t=Io(e,o,i),t!==null&&(ei(t,e,i,r),ed(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=rr(),i=Do(e),o=zi(r,i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=Io(e,o,i),t!==null&&(ei(t,e,i,r),ed(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=rr(),r=Do(e),i=zi(n,r);i.tag=2,t!=null&&(i.callback=t),t=Io(e,i,r),t!==null&&(ei(t,e,r,n),ed(t,e,r))}};function _g(e,t,n,r,i,o,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,a):t.prototype&&t.prototype.isPureReactComponent?!Du(n,r)||!Du(i,o):!0}function rE(e,t,n){var r=!1,i=Go,o=t.contextType;return typeof o=="object"&&o!==null?o=$r(o):(i=mr(t)?Ra:Zn.current,r=t.contextTypes,o=(r=r!=null)?Ql(e,i):Go),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=nh,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Sg(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&nh.enqueueReplaceState(t,t.state,null)}function f0(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=nE,dv(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=$r(o):(o=mr(t)?Ra:Zn.current,i.context=Ql(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(c0(e,t,o,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&nh.enqueueReplaceState(i,i.state,null),Ad(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function uu(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Pe(309));var r=n.stateNode}if(!r)throw Error(Pe(147,e));var i=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(a){var l=i.refs;l===nE&&(l=i.refs={}),a===null?delete l[o]:l[o]=a},t._stringRef=o,t)}if(typeof e!="string")throw Error(Pe(284));if(!n._owner)throw Error(Pe(290,e))}return e}function Df(e,t){throw e=Object.prototype.toString.call(t),Error(Pe(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function wg(e){var t=e._init;return t(e._payload)}function iE(e){function t(x,T){if(e){var C=x.deletions;C===null?(x.deletions=[T],x.flags|=16):C.push(T)}}function n(x,T){if(!e)return null;for(;T!==null;)t(x,T),T=T.sibling;return null}function r(x,T){for(x=new Map;T!==null;)T.key!==null?x.set(T.key,T):x.set(T.index,T),T=T.sibling;return x}function i(x,T){return x=Fo(x,T),x.index=0,x.sibling=null,x}function o(x,T,C){return x.index=C,e?(C=x.alternate,C!==null?(C=C.index,C<T?(x.flags|=2,T):C):(x.flags|=2,T)):(x.flags|=1048576,T)}function a(x){return e&&x.alternate===null&&(x.flags|=2),x}function l(x,T,C,V){return T===null||T.tag!==6?(T=sp(C,x.mode,V),T.return=x,T):(T=i(T,C),T.return=x,T)}function u(x,T,C,V){var Y=C.type;return Y===Ll?m(x,T,C.props.children,V,C.key):T!==null&&(T.elementType===Y||typeof Y=="object"&&Y!==null&&Y.$$typeof===So&&wg(Y)===T.type)?(V=i(T,C.props),V.ref=uu(x,T,C),V.return=x,V):(V=ad(C.type,C.key,C.props,null,x.mode,V),V.ref=uu(x,T,C),V.return=x,V)}function f(x,T,C,V){return T===null||T.tag!==4||T.stateNode.containerInfo!==C.containerInfo||T.stateNode.implementation!==C.implementation?(T=up(C,x.mode,V),T.return=x,T):(T=i(T,C.children||[]),T.return=x,T)}function m(x,T,C,V,Y){return T===null||T.tag!==7?(T=Ca(C,x.mode,V,Y),T.return=x,T):(T=i(T,C),T.return=x,T)}function h(x,T,C){if(typeof T=="string"&&T!==""||typeof T=="number")return T=sp(""+T,x.mode,C),T.return=x,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Af:return C=ad(T.type,T.key,T.props,null,x.mode,C),C.ref=uu(x,null,T),C.return=x,C;case bl:return T=up(T,x.mode,C),T.return=x,T;case So:var V=T._init;return h(x,V(T._payload),C)}if(vu(T)||iu(T))return T=Ca(T,x.mode,C,null),T.return=x,T;Df(x,T)}return null}function p(x,T,C,V){var Y=T!==null?T.key:null;if(typeof C=="string"&&C!==""||typeof C=="number")return Y!==null?null:l(x,T,""+C,V);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Af:return C.key===Y?u(x,T,C,V):null;case bl:return C.key===Y?f(x,T,C,V):null;case So:return Y=C._init,p(x,T,Y(C._payload),V)}if(vu(C)||iu(C))return Y!==null?null:m(x,T,C,V,null);Df(x,C)}return null}function L(x,T,C,V,Y){if(typeof V=="string"&&V!==""||typeof V=="number")return x=x.get(C)||null,l(T,x,""+V,Y);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case Af:return x=x.get(V.key===null?C:V.key)||null,u(T,x,V,Y);case bl:return x=x.get(V.key===null?C:V.key)||null,f(T,x,V,Y);case So:var le=V._init;return L(x,T,C,le(V._payload),Y)}if(vu(V)||iu(V))return x=x.get(C)||null,m(T,x,V,Y,null);Df(T,V)}return null}function k(x,T,C,V){for(var Y=null,le=null,xe=T,se=T=0,ct=null;xe!==null&&se<C.length;se++){xe.index>se?(ct=xe,xe=null):ct=xe.sibling;var Qe=p(x,xe,C[se],V);if(Qe===null){xe===null&&(xe=ct);break}e&&xe&&Qe.alternate===null&&t(x,xe),T=o(Qe,T,se),le===null?Y=Qe:le.sibling=Qe,le=Qe,xe=ct}if(se===C.length)return n(x,xe),un&&xa(x,se),Y;if(xe===null){for(;se<C.length;se++)xe=h(x,C[se],V),xe!==null&&(T=o(xe,T,se),le===null?Y=xe:le.sibling=xe,le=xe);return un&&xa(x,se),Y}for(xe=r(x,xe);se<C.length;se++)ct=L(xe,x,se,C[se],V),ct!==null&&(e&&ct.alternate!==null&&xe.delete(ct.key===null?se:ct.key),T=o(ct,T,se),le===null?Y=ct:le.sibling=ct,le=ct);return e&&xe.forEach(function(Ve){return t(x,Ve)}),un&&xa(x,se),Y}function O(x,T,C,V){var Y=iu(C);if(typeof Y!="function")throw Error(Pe(150));if(C=Y.call(C),C==null)throw Error(Pe(151));for(var le=Y=null,xe=T,se=T=0,ct=null,Qe=C.next();xe!==null&&!Qe.done;se++,Qe=C.next()){xe.index>se?(ct=xe,xe=null):ct=xe.sibling;var Ve=p(x,xe,Qe.value,V);if(Ve===null){xe===null&&(xe=ct);break}e&&xe&&Ve.alternate===null&&t(x,xe),T=o(Ve,T,se),le===null?Y=Ve:le.sibling=Ve,le=Ve,xe=ct}if(Qe.done)return n(x,xe),un&&xa(x,se),Y;if(xe===null){for(;!Qe.done;se++,Qe=C.next())Qe=h(x,Qe.value,V),Qe!==null&&(T=o(Qe,T,se),le===null?Y=Qe:le.sibling=Qe,le=Qe);return un&&xa(x,se),Y}for(xe=r(x,xe);!Qe.done;se++,Qe=C.next())Qe=L(xe,x,se,Qe.value,V),Qe!==null&&(e&&Qe.alternate!==null&&xe.delete(Qe.key===null?se:Qe.key),T=o(Qe,T,se),le===null?Y=Qe:le.sibling=Qe,le=Qe);return e&&xe.forEach(function(Le){return t(x,Le)}),un&&xa(x,se),Y}function j(x,T,C,V){if(typeof C=="object"&&C!==null&&C.type===Ll&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case Af:e:{for(var Y=C.key,le=T;le!==null;){if(le.key===Y){if(Y=C.type,Y===Ll){if(le.tag===7){n(x,le.sibling),T=i(le,C.props.children),T.return=x,x=T;break e}}else if(le.elementType===Y||typeof Y=="object"&&Y!==null&&Y.$$typeof===So&&wg(Y)===le.type){n(x,le.sibling),T=i(le,C.props),T.ref=uu(x,le,C),T.return=x,x=T;break e}n(x,le);break}else t(x,le);le=le.sibling}C.type===Ll?(T=Ca(C.props.children,x.mode,V,C.key),T.return=x,x=T):(V=ad(C.type,C.key,C.props,null,x.mode,V),V.ref=uu(x,T,C),V.return=x,x=V)}return a(x);case bl:e:{for(le=C.key;T!==null;){if(T.key===le)if(T.tag===4&&T.stateNode.containerInfo===C.containerInfo&&T.stateNode.implementation===C.implementation){n(x,T.sibling),T=i(T,C.children||[]),T.return=x,x=T;break e}else{n(x,T);break}else t(x,T);T=T.sibling}T=up(C,x.mode,V),T.return=x,x=T}return a(x);case So:return le=C._init,j(x,T,le(C._payload),V)}if(vu(C))return k(x,T,C,V);if(iu(C))return O(x,T,C,V);Df(x,C)}return typeof C=="string"&&C!==""||typeof C=="number"?(C=""+C,T!==null&&T.tag===6?(n(x,T.sibling),T=i(T,C),T.return=x,x=T):(n(x,T),T=sp(C,x.mode,V),T.return=x,x=T),a(x)):n(x,T)}return j}var ql=iE(!0),oE=iE(!1),tc={},Ei=Uo(tc),Gu=Uo(tc),$u=Uo(tc);function wa(e){if(e===tc)throw Error(Pe(174));return e}function hv(e,t){switch(nn($u,t),nn(Gu,e),nn(Ei,tc),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Up(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Up(t,e)}an(Ei),nn(Ei,t)}function Zl(){an(Ei),an(Gu),an($u)}function aE(e){wa($u.current);var t=wa(Ei.current),n=Up(t,e.type);t!==n&&(nn(Gu,e),nn(Ei,n))}function mv(e){Gu.current===e&&(an(Ei),an(Gu))}var mn=Uo(0);function Cd(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var np=[];function pv(){for(var e=0;e<np.length;e++)np[e]._workInProgressVersionPrimary=null;np.length=0}var td=Xi.ReactCurrentDispatcher,rp=Xi.ReactCurrentBatchConfig,Pa=0,pn=null,Dn=null,Un=null,bd=!1,Au=!1,zu=0,CT=0;function Yn(){throw Error(Pe(321))}function vv(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ti(e[n],t[n]))return!1;return!0}function yv(e,t,n,r,i,o){if(Pa=o,pn=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,td.current=e===null||e.memoizedState===null?OT:PT,e=n(r,i),Au){o=0;do{if(Au=!1,zu=0,25<=o)throw Error(Pe(301));o+=1,Un=Dn=null,t.updateQueue=null,td.current=kT,e=n(r,i)}while(Au)}if(td.current=Ld,t=Dn!==null&&Dn.next!==null,Pa=0,Un=Dn=pn=null,bd=!1,t)throw Error(Pe(300));return e}function gv(){var e=zu!==0;return zu=0,e}function vi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Un===null?pn.memoizedState=Un=e:Un=Un.next=e,Un}function zr(){if(Dn===null){var e=pn.alternate;e=e!==null?e.memoizedState:null}else e=Dn.next;var t=Un===null?pn.memoizedState:Un.next;if(t!==null)Un=t,Dn=e;else{if(e===null)throw Error(Pe(310));Dn=e,e={memoizedState:Dn.memoizedState,baseState:Dn.baseState,baseQueue:Dn.baseQueue,queue:Dn.queue,next:null},Un===null?pn.memoizedState=Un=e:Un=Un.next=e}return Un}function Uu(e,t){return typeof t=="function"?t(e):t}function ip(e){var t=zr(),n=t.queue;if(n===null)throw Error(Pe(311));n.lastRenderedReducer=e;var r=Dn,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var l=a=null,u=null,f=o;do{var m=f.lane;if((Pa&m)===m)u!==null&&(u=u.next={lane:0,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null}),r=f.hasEagerState?f.eagerState:e(r,f.action);else{var h={lane:m,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null};u===null?(l=u=h,a=r):u=u.next=h,pn.lanes|=m,ka|=m}f=f.next}while(f!==null&&f!==o);u===null?a=r:u.next=l,ti(r,t.memoizedState)||(dr=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=u,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do o=i.lane,pn.lanes|=o,ka|=o,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function op(e){var t=zr(),n=t.queue;if(n===null)throw Error(Pe(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do o=e(o,a.action),a=a.next;while(a!==i);ti(o,t.memoizedState)||(dr=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function lE(){}function sE(e,t){var n=pn,r=zr(),i=t(),o=!ti(r.memoizedState,i);if(o&&(r.memoizedState=i,dr=!0),r=r.queue,xv(fE.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||Un!==null&&Un.memoizedState.tag&1){if(n.flags|=2048,Vu(9,cE.bind(null,n,r,i,t),void 0,null),Vn===null)throw Error(Pe(349));Pa&30||uE(n,t,i)}return i}function uE(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=pn.updateQueue,t===null?(t={lastEffect:null,stores:null},pn.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function cE(e,t,n,r){t.value=n,t.getSnapshot=r,dE(t)&&hE(e)}function fE(e,t,n){return n(function(){dE(t)&&hE(e)})}function dE(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ti(e,n)}catch{return!0}}function hE(e){var t=Hi(e,1);t!==null&&ei(t,e,1,-1)}function Tg(e){var t=vi();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Uu,lastRenderedState:e},t.queue=e,e=e.dispatch=RT.bind(null,pn,e),[t.memoizedState,e]}function Vu(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=pn.updateQueue,t===null?(t={lastEffect:null,stores:null},pn.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function mE(){return zr().memoizedState}function nd(e,t,n,r){var i=vi();pn.flags|=e,i.memoizedState=Vu(1|t,n,void 0,r===void 0?null:r)}function rh(e,t,n,r){var i=zr();r=r===void 0?null:r;var o=void 0;if(Dn!==null){var a=Dn.memoizedState;if(o=a.destroy,r!==null&&vv(r,a.deps)){i.memoizedState=Vu(t,n,o,r);return}}pn.flags|=e,i.memoizedState=Vu(1|t,n,o,r)}function Ag(e,t){return nd(8390656,8,e,t)}function xv(e,t){return rh(2048,8,e,t)}function pE(e,t){return rh(4,2,e,t)}function vE(e,t){return rh(4,4,e,t)}function yE(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function gE(e,t,n){return n=n!=null?n.concat([e]):null,rh(4,4,yE.bind(null,t,e),n)}function Ev(){}function xE(e,t){var n=zr();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&vv(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function EE(e,t){var n=zr();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&vv(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function _E(e,t,n){return Pa&21?(ti(n,t)||(n=Tx(),pn.lanes|=n,ka|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,dr=!0),e.memoizedState=n)}function bT(e,t){var n=qt;qt=n!==0&&4>n?n:4,e(!0);var r=rp.transition;rp.transition={};try{e(!1),t()}finally{qt=n,rp.transition=r}}function SE(){return zr().memoizedState}function LT(e,t,n){var r=Do(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},wE(e))TE(t,n);else if(n=eE(e,t,n,r),n!==null){var i=rr();ei(n,e,r,i),AE(n,t,r)}}function RT(e,t,n){var r=Do(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(wE(e))TE(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var a=t.lastRenderedState,l=o(a,n);if(i.hasEagerState=!0,i.eagerState=l,ti(l,a)){var u=t.interleaved;u===null?(i.next=i,fv(t)):(i.next=u.next,u.next=i),t.interleaved=i;return}}catch{}finally{}n=eE(e,t,i,r),n!==null&&(i=rr(),ei(n,e,r,i),AE(n,t,r))}}function wE(e){var t=e.alternate;return e===pn||t!==null&&t===pn}function TE(e,t){Au=bd=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function AE(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,q0(e,n)}}var Ld={readContext:$r,useCallback:Yn,useContext:Yn,useEffect:Yn,useImperativeHandle:Yn,useInsertionEffect:Yn,useLayoutEffect:Yn,useMemo:Yn,useReducer:Yn,useRef:Yn,useState:Yn,useDebugValue:Yn,useDeferredValue:Yn,useTransition:Yn,useMutableSource:Yn,useSyncExternalStore:Yn,useId:Yn,unstable_isNewReconciler:!1},OT={readContext:$r,useCallback:function(e,t){return vi().memoizedState=[e,t===void 0?null:t],e},useContext:$r,useEffect:Ag,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,nd(4194308,4,yE.bind(null,t,e),n)},useLayoutEffect:function(e,t){return nd(4194308,4,e,t)},useInsertionEffect:function(e,t){return nd(4,2,e,t)},useMemo:function(e,t){var n=vi();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=vi();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=LT.bind(null,pn,e),[r.memoizedState,e]},useRef:function(e){var t=vi();return e={current:e},t.memoizedState=e},useState:Tg,useDebugValue:Ev,useDeferredValue:function(e){return vi().memoizedState=e},useTransition:function(){var e=Tg(!1),t=e[0];return e=bT.bind(null,e[1]),vi().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=pn,i=vi();if(un){if(n===void 0)throw Error(Pe(407));n=n()}else{if(n=t(),Vn===null)throw Error(Pe(349));Pa&30||uE(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Ag(fE.bind(null,r,o,e),[e]),r.flags|=2048,Vu(9,cE.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=vi(),t=Vn.identifierPrefix;if(un){var n=$i,r=Gi;n=(r&~(1<<32-Jr(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=zu++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=CT++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},PT={readContext:$r,useCallback:xE,useContext:$r,useEffect:xv,useImperativeHandle:gE,useInsertionEffect:pE,useLayoutEffect:vE,useMemo:EE,useReducer:ip,useRef:mE,useState:function(){return ip(Uu)},useDebugValue:Ev,useDeferredValue:function(e){var t=zr();return _E(t,Dn.memoizedState,e)},useTransition:function(){var e=ip(Uu)[0],t=zr().memoizedState;return[e,t]},useMutableSource:lE,useSyncExternalStore:sE,useId:SE,unstable_isNewReconciler:!1},kT={readContext:$r,useCallback:xE,useContext:$r,useEffect:xv,useImperativeHandle:gE,useInsertionEffect:pE,useLayoutEffect:vE,useMemo:EE,useReducer:op,useRef:mE,useState:function(){return op(Uu)},useDebugValue:Ev,useDeferredValue:function(e){var t=zr();return Dn===null?t.memoizedState=e:_E(t,Dn.memoizedState,e)},useTransition:function(){var e=op(Uu)[0],t=zr().memoizedState;return[e,t]},useMutableSource:lE,useSyncExternalStore:sE,useId:SE,unstable_isNewReconciler:!1};function Jl(e,t){try{var n="",r=t;do n+=aw(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function ap(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function d0(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var NT=typeof WeakMap=="function"?WeakMap:Map;function CE(e,t,n){n=zi(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Od||(Od=!0,S0=r),d0(e,t)},n}function bE(e,t,n){n=zi(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){d0(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){d0(e,t),typeof r!="function"&&(Mo===null?Mo=new Set([this]):Mo.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function Cg(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new NT;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=XT.bind(null,e,t,n),t.then(e,e))}function bg(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Lg(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=zi(-1,1),t.tag=2,Io(n,t,1))),n.lanes|=1),e)}var IT=Xi.ReactCurrentOwner,dr=!1;function tr(e,t,n,r){t.child=e===null?oE(t,null,n,r):ql(t,e.child,n,r)}function Rg(e,t,n,r,i){n=n.render;var o=t.ref;return Vl(t,i),r=yv(e,t,n,r,o,i),n=gv(),e!==null&&!dr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Wi(e,t,i)):(un&&n&&ov(t),t.flags|=1,tr(e,t,r,i),t.child)}function Og(e,t,n,r,i){if(e===null){var o=n.type;return typeof o=="function"&&!Lv(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,LE(e,t,o,r,i)):(e=ad(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:Du,n(a,r)&&e.ref===t.ref)return Wi(e,t,i)}return t.flags|=1,e=Fo(o,r),e.ref=t.ref,e.return=t,t.child=e}function LE(e,t,n,r,i){if(e!==null){var o=e.memoizedProps;if(Du(o,r)&&e.ref===t.ref)if(dr=!1,t.pendingProps=r=o,(e.lanes&i)!==0)e.flags&131072&&(dr=!0);else return t.lanes=e.lanes,Wi(e,t,i)}return h0(e,t,n,r,i)}function RE(e,t,n){var r=t.pendingProps,i=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},nn(Bl,Tr),Tr|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,nn(Bl,Tr),Tr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,nn(Bl,Tr),Tr|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,nn(Bl,Tr),Tr|=r;return tr(e,t,i,n),t.child}function OE(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function h0(e,t,n,r,i){var o=mr(n)?Ra:Zn.current;return o=Ql(t,o),Vl(t,i),n=yv(e,t,n,r,o,i),r=gv(),e!==null&&!dr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Wi(e,t,i)):(un&&r&&ov(t),t.flags|=1,tr(e,t,n,i),t.child)}function Pg(e,t,n,r,i){if(mr(n)){var o=!0;Ed(t)}else o=!1;if(Vl(t,i),t.stateNode===null)rd(e,t),rE(t,n,r),f0(t,n,r,i),r=!0;else if(e===null){var a=t.stateNode,l=t.memoizedProps;a.props=l;var u=a.context,f=n.contextType;typeof f=="object"&&f!==null?f=$r(f):(f=mr(n)?Ra:Zn.current,f=Ql(t,f));var m=n.getDerivedStateFromProps,h=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function";h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==r||u!==f)&&Sg(t,a,r,f),wo=!1;var p=t.memoizedState;a.state=p,Ad(t,r,a,i),u=t.memoizedState,l!==r||p!==u||hr.current||wo?(typeof m=="function"&&(c0(t,n,m,r),u=t.memoizedState),(l=wo||_g(t,n,l,r,p,u,f))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),a.props=r,a.state=u,a.context=f,r=l):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,tE(e,t),l=t.memoizedProps,f=t.type===t.elementType?l:Qr(t.type,l),a.props=f,h=t.pendingProps,p=a.context,u=n.contextType,typeof u=="object"&&u!==null?u=$r(u):(u=mr(n)?Ra:Zn.current,u=Ql(t,u));var L=n.getDerivedStateFromProps;(m=typeof L=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==h||p!==u)&&Sg(t,a,r,u),wo=!1,p=t.memoizedState,a.state=p,Ad(t,r,a,i);var k=t.memoizedState;l!==h||p!==k||hr.current||wo?(typeof L=="function"&&(c0(t,n,L,r),k=t.memoizedState),(f=wo||_g(t,n,f,r,p,k,u)||!1)?(m||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,k,u),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,k,u)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=k),a.props=r,a.state=k,a.context=u,r=f):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return m0(e,t,n,r,o,i)}function m0(e,t,n,r,i,o){OE(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return i&&vg(t,n,!1),Wi(e,t,o);r=t.stateNode,IT.current=t;var l=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=ql(t,e.child,null,o),t.child=ql(t,null,l,o)):tr(e,t,l,o),t.memoizedState=r.state,i&&vg(t,n,!0),t.child}function PE(e){var t=e.stateNode;t.pendingContext?pg(e,t.pendingContext,t.pendingContext!==t.context):t.context&&pg(e,t.context,!1),hv(e,t.containerInfo)}function kg(e,t,n,r,i){return Kl(),lv(i),t.flags|=256,tr(e,t,n,r),t.child}var p0={dehydrated:null,treeContext:null,retryLane:0};function v0(e){return{baseLanes:e,cachePool:null,transitions:null}}function kE(e,t,n){var r=t.pendingProps,i=mn.current,o=!1,a=(t.flags&128)!==0,l;if((l=a)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),nn(mn,i&1),e===null)return s0(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,o?(r=t.mode,o=t.child,a={mode:"hidden",children:a},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=ah(a,r,0,null),e=Ca(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=v0(n),t.memoizedState=p0,e):_v(t,a));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return MT(e,t,a,r,l,i,n);if(o){o=r.fallback,a=t.mode,i=e.child,l=i.sibling;var u={mode:"hidden",children:r.children};return!(a&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=u,t.deletions=null):(r=Fo(i,u),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?o=Fo(l,o):(o=Ca(o,a,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,a=e.child.memoizedState,a=a===null?v0(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=e.childLanes&~n,t.memoizedState=p0,r}return o=e.child,e=o.sibling,r=Fo(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function _v(e,t){return t=ah({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ff(e,t,n,r){return r!==null&&lv(r),ql(t,e.child,null,n),e=_v(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function MT(e,t,n,r,i,o,a){if(n)return t.flags&256?(t.flags&=-257,r=ap(Error(Pe(422))),Ff(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=ah({mode:"visible",children:r.children},i,0,null),o=Ca(o,i,a,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&ql(t,e.child,null,a),t.child.memoizedState=v0(a),t.memoizedState=p0,o);if(!(t.mode&1))return Ff(e,t,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,o=Error(Pe(419)),r=ap(o,r,void 0),Ff(e,t,a,r)}if(l=(a&e.childLanes)!==0,dr||l){if(r=Vn,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Hi(e,i),ei(r,e,i,-1))}return bv(),r=ap(Error(Pe(421))),Ff(e,t,a,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=YT.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,Ar=No(i.nextSibling),Cr=t,un=!0,qr=null,e!==null&&(Fr[Br++]=Gi,Fr[Br++]=$i,Fr[Br++]=Oa,Gi=e.id,$i=e.overflow,Oa=t),t=_v(t,r.children),t.flags|=4096,t)}function Ng(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),u0(e.return,t,n)}function lp(e,t,n,r,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function NE(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(tr(e,t,r.children,n),r=mn.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ng(e,n,t);else if(e.tag===19)Ng(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(nn(mn,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Cd(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),lp(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Cd(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}lp(t,!0,n,null,o);break;case"together":lp(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function rd(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Wi(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ka|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Pe(153));if(t.child!==null){for(e=t.child,n=Fo(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Fo(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function DT(e,t,n){switch(t.tag){case 3:PE(t),Kl();break;case 5:aE(t);break;case 1:mr(t.type)&&Ed(t);break;case 4:hv(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;nn(wd,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(nn(mn,mn.current&1),t.flags|=128,null):n&t.child.childLanes?kE(e,t,n):(nn(mn,mn.current&1),e=Wi(e,t,n),e!==null?e.sibling:null);nn(mn,mn.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return NE(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),nn(mn,mn.current),r)break;return null;case 22:case 23:return t.lanes=0,RE(e,t,n)}return Wi(e,t,n)}var IE,y0,ME,DE;IE=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};y0=function(){};ME=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,wa(Ei.current);var o=null;switch(n){case"input":i=jp(e,i),r=jp(e,r),o=[];break;case"select":i=vn({},i,{value:void 0}),r=vn({},r,{value:void 0}),o=[];break;case"textarea":i=zp(e,i),r=zp(e,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=gd)}Vp(n,r);var a;n=null;for(f in i)if(!r.hasOwnProperty(f)&&i.hasOwnProperty(f)&&i[f]!=null)if(f==="style"){var l=i[f];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else f!=="dangerouslySetInnerHTML"&&f!=="children"&&f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(Ru.hasOwnProperty(f)?o||(o=[]):(o=o||[]).push(f,null));for(f in r){var u=r[f];if(l=i!=null?i[f]:void 0,r.hasOwnProperty(f)&&u!==l&&(u!=null||l!=null))if(f==="style")if(l){for(a in l)!l.hasOwnProperty(a)||u&&u.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in u)u.hasOwnProperty(a)&&l[a]!==u[a]&&(n||(n={}),n[a]=u[a])}else n||(o||(o=[]),o.push(f,n)),n=u;else f==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(o=o||[]).push(f,u)):f==="children"?typeof u!="string"&&typeof u!="number"||(o=o||[]).push(f,""+u):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&(Ru.hasOwnProperty(f)?(u!=null&&f==="onScroll"&&on("scroll",e),o||l===u||(o=[])):(o=o||[]).push(f,u))}n&&(o=o||[]).push("style",n);var f=o;(t.updateQueue=f)&&(t.flags|=4)}};DE=function(e,t,n,r){n!==r&&(t.flags|=4)};function cu(e,t){if(!un)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Qn(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function FT(e,t,n){var r=t.pendingProps;switch(av(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qn(t),null;case 1:return mr(t.type)&&xd(),Qn(t),null;case 3:return r=t.stateNode,Zl(),an(hr),an(Zn),pv(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Mf(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,qr!==null&&(A0(qr),qr=null))),y0(e,t),Qn(t),null;case 5:mv(t);var i=wa($u.current);if(n=t.type,e!==null&&t.stateNode!=null)ME(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(Pe(166));return Qn(t),null}if(e=wa(Ei.current),Mf(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[gi]=t,r[ju]=o,e=(t.mode&1)!==0,n){case"dialog":on("cancel",r),on("close",r);break;case"iframe":case"object":case"embed":on("load",r);break;case"video":case"audio":for(i=0;i<gu.length;i++)on(gu[i],r);break;case"source":on("error",r);break;case"img":case"image":case"link":on("error",r),on("load",r);break;case"details":on("toggle",r);break;case"input":zy(r,o),on("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},on("invalid",r);break;case"textarea":Vy(r,o),on("invalid",r)}Vp(n,o),i=null;for(var a in o)if(o.hasOwnProperty(a)){var l=o[a];a==="children"?typeof l=="string"?r.textContent!==l&&(o.suppressHydrationWarning!==!0&&If(r.textContent,l,e),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&If(r.textContent,l,e),i=["children",""+l]):Ru.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&on("scroll",r)}switch(n){case"input":Cf(r),Uy(r,o,!0);break;case"textarea":Cf(r),Hy(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=gd)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=ux(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[gi]=t,e[ju]=r,IE(e,t,!1,!1),t.stateNode=e;e:{switch(a=Hp(n,r),n){case"dialog":on("cancel",e),on("close",e),i=r;break;case"iframe":case"object":case"embed":on("load",e),i=r;break;case"video":case"audio":for(i=0;i<gu.length;i++)on(gu[i],e);i=r;break;case"source":on("error",e),i=r;break;case"img":case"image":case"link":on("error",e),on("load",e),i=r;break;case"details":on("toggle",e),i=r;break;case"input":zy(e,r),i=jp(e,r),on("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=vn({},r,{value:void 0}),on("invalid",e);break;case"textarea":Vy(e,r),i=zp(e,r),on("invalid",e);break;default:i=r}Vp(n,i),l=i;for(o in l)if(l.hasOwnProperty(o)){var u=l[o];o==="style"?dx(e,u):o==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&cx(e,u)):o==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&Ou(e,u):typeof u=="number"&&Ou(e,""+u):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Ru.hasOwnProperty(o)?u!=null&&o==="onScroll"&&on("scroll",e):u!=null&&H0(e,o,u,a))}switch(n){case"input":Cf(e),Uy(e,r,!1);break;case"textarea":Cf(e),Hy(e);break;case"option":r.value!=null&&e.setAttribute("value",""+jo(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?Gl(e,!!r.multiple,o,!1):r.defaultValue!=null&&Gl(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=gd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Qn(t),null;case 6:if(e&&t.stateNode!=null)DE(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(Pe(166));if(n=wa($u.current),wa(Ei.current),Mf(t)){if(r=t.stateNode,n=t.memoizedProps,r[gi]=t,(o=r.nodeValue!==n)&&(e=Cr,e!==null))switch(e.tag){case 3:If(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&If(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[gi]=t,t.stateNode=r}return Qn(t),null;case 13:if(an(mn),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(un&&Ar!==null&&t.mode&1&&!(t.flags&128))Jx(),Kl(),t.flags|=98560,o=!1;else if(o=Mf(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(Pe(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(Pe(317));o[gi]=t}else Kl(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Qn(t),o=!1}else qr!==null&&(A0(qr),qr=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||mn.current&1?Fn===0&&(Fn=3):bv())),t.updateQueue!==null&&(t.flags|=4),Qn(t),null);case 4:return Zl(),y0(e,t),e===null&&Fu(t.stateNode.containerInfo),Qn(t),null;case 10:return cv(t.type._context),Qn(t),null;case 17:return mr(t.type)&&xd(),Qn(t),null;case 19:if(an(mn),o=t.memoizedState,o===null)return Qn(t),null;if(r=(t.flags&128)!==0,a=o.rendering,a===null)if(r)cu(o,!1);else{if(Fn!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=Cd(e),a!==null){for(t.flags|=128,cu(o,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,e=a.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return nn(mn,mn.current&1|2),t.child}e=e.sibling}o.tail!==null&&Rn()>es&&(t.flags|=128,r=!0,cu(o,!1),t.lanes=4194304)}else{if(!r)if(e=Cd(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),cu(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!un)return Qn(t),null}else 2*Rn()-o.renderingStartTime>es&&n!==1073741824&&(t.flags|=128,r=!0,cu(o,!1),t.lanes=4194304);o.isBackwards?(a.sibling=t.child,t.child=a):(n=o.last,n!==null?n.sibling=a:t.child=a,o.last=a)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Rn(),t.sibling=null,n=mn.current,nn(mn,r?n&1|2:n&1),t):(Qn(t),null);case 22:case 23:return Cv(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Tr&1073741824&&(Qn(t),t.subtreeFlags&6&&(t.flags|=8192)):Qn(t),null;case 24:return null;case 25:return null}throw Error(Pe(156,t.tag))}function BT(e,t){switch(av(t),t.tag){case 1:return mr(t.type)&&xd(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Zl(),an(hr),an(Zn),pv(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return mv(t),null;case 13:if(an(mn),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Pe(340));Kl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return an(mn),null;case 4:return Zl(),null;case 10:return cv(t.type._context),null;case 22:case 23:return Cv(),null;case 24:return null;default:return null}}var Bf=!1,Kn=!1,jT=typeof WeakSet=="function"?WeakSet:Set,tt=null;function Fl(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Sn(e,t,r)}else n.current=null}function g0(e,t,n){try{n()}catch(r){Sn(e,t,r)}}var Ig=!1;function GT(e,t){if(t0=pd,e=Gx(),iv(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,l=-1,u=-1,f=0,m=0,h=e,p=null;t:for(;;){for(var L;h!==n||i!==0&&h.nodeType!==3||(l=a+i),h!==o||r!==0&&h.nodeType!==3||(u=a+r),h.nodeType===3&&(a+=h.nodeValue.length),(L=h.firstChild)!==null;)p=h,h=L;for(;;){if(h===e)break t;if(p===n&&++f===i&&(l=a),p===o&&++m===r&&(u=a),(L=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=L}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(n0={focusedElem:e,selectionRange:n},pd=!1,tt=t;tt!==null;)if(t=tt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,tt=e;else for(;tt!==null;){t=tt;try{var k=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(k!==null){var O=k.memoizedProps,j=k.memoizedState,x=t.stateNode,T=x.getSnapshotBeforeUpdate(t.elementType===t.type?O:Qr(t.type,O),j);x.__reactInternalSnapshotBeforeUpdate=T}break;case 3:var C=t.stateNode.containerInfo;C.nodeType===1?C.textContent="":C.nodeType===9&&C.documentElement&&C.removeChild(C.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Pe(163))}}catch(V){Sn(t,t.return,V)}if(e=t.sibling,e!==null){e.return=t.return,tt=e;break}tt=t.return}return k=Ig,Ig=!1,k}function Cu(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&g0(t,n,o)}i=i.next}while(i!==r)}}function ih(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function x0(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function FE(e){var t=e.alternate;t!==null&&(e.alternate=null,FE(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[gi],delete t[ju],delete t[o0],delete t[ST],delete t[wT])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function BE(e){return e.tag===5||e.tag===3||e.tag===4}function Mg(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||BE(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function E0(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=gd));else if(r!==4&&(e=e.child,e!==null))for(E0(e,t,n),e=e.sibling;e!==null;)E0(e,t,n),e=e.sibling}function _0(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(_0(e,t,n),e=e.sibling;e!==null;)_0(e,t,n),e=e.sibling}var Hn=null,Kr=!1;function go(e,t,n){for(n=n.child;n!==null;)jE(e,t,n),n=n.sibling}function jE(e,t,n){if(xi&&typeof xi.onCommitFiberUnmount=="function")try{xi.onCommitFiberUnmount(Kd,n)}catch{}switch(n.tag){case 5:Kn||Fl(n,t);case 6:var r=Hn,i=Kr;Hn=null,go(e,t,n),Hn=r,Kr=i,Hn!==null&&(Kr?(e=Hn,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Hn.removeChild(n.stateNode));break;case 18:Hn!==null&&(Kr?(e=Hn,n=n.stateNode,e.nodeType===8?ep(e.parentNode,n):e.nodeType===1&&ep(e,n),Iu(e)):ep(Hn,n.stateNode));break;case 4:r=Hn,i=Kr,Hn=n.stateNode.containerInfo,Kr=!0,go(e,t,n),Hn=r,Kr=i;break;case 0:case 11:case 14:case 15:if(!Kn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&g0(n,t,a),i=i.next}while(i!==r)}go(e,t,n);break;case 1:if(!Kn&&(Fl(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Sn(n,t,l)}go(e,t,n);break;case 21:go(e,t,n);break;case 22:n.mode&1?(Kn=(r=Kn)||n.memoizedState!==null,go(e,t,n),Kn=r):go(e,t,n);break;default:go(e,t,n)}}function Dg(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new jT),t.forEach(function(r){var i=QT.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Yr(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,a=t,l=a;e:for(;l!==null;){switch(l.tag){case 5:Hn=l.stateNode,Kr=!1;break e;case 3:Hn=l.stateNode.containerInfo,Kr=!0;break e;case 4:Hn=l.stateNode.containerInfo,Kr=!0;break e}l=l.return}if(Hn===null)throw Error(Pe(160));jE(o,a,i),Hn=null,Kr=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(f){Sn(i,t,f)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)GE(t,e),t=t.sibling}function GE(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Yr(t,e),hi(e),r&4){try{Cu(3,e,e.return),ih(3,e)}catch(O){Sn(e,e.return,O)}try{Cu(5,e,e.return)}catch(O){Sn(e,e.return,O)}}break;case 1:Yr(t,e),hi(e),r&512&&n!==null&&Fl(n,n.return);break;case 5:if(Yr(t,e),hi(e),r&512&&n!==null&&Fl(n,n.return),e.flags&32){var i=e.stateNode;try{Ou(i,"")}catch(O){Sn(e,e.return,O)}}if(r&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,a=n!==null?n.memoizedProps:o,l=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&lx(i,o),Hp(l,a);var f=Hp(l,o);for(a=0;a<u.length;a+=2){var m=u[a],h=u[a+1];m==="style"?dx(i,h):m==="dangerouslySetInnerHTML"?cx(i,h):m==="children"?Ou(i,h):H0(i,m,h,f)}switch(l){case"input":Gp(i,o);break;case"textarea":sx(i,o);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var L=o.value;L!=null?Gl(i,!!o.multiple,L,!1):p!==!!o.multiple&&(o.defaultValue!=null?Gl(i,!!o.multiple,o.defaultValue,!0):Gl(i,!!o.multiple,o.multiple?[]:"",!1))}i[ju]=o}catch(O){Sn(e,e.return,O)}}break;case 6:if(Yr(t,e),hi(e),r&4){if(e.stateNode===null)throw Error(Pe(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(O){Sn(e,e.return,O)}}break;case 3:if(Yr(t,e),hi(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Iu(t.containerInfo)}catch(O){Sn(e,e.return,O)}break;case 4:Yr(t,e),hi(e);break;case 13:Yr(t,e),hi(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Tv=Rn())),r&4&&Dg(e);break;case 22:if(m=n!==null&&n.memoizedState!==null,e.mode&1?(Kn=(f=Kn)||m,Yr(t,e),Kn=f):Yr(t,e),hi(e),r&8192){if(f=e.memoizedState!==null,(e.stateNode.isHidden=f)&&!m&&e.mode&1)for(tt=e,m=e.child;m!==null;){for(h=tt=m;tt!==null;){switch(p=tt,L=p.child,p.tag){case 0:case 11:case 14:case 15:Cu(4,p,p.return);break;case 1:Fl(p,p.return);var k=p.stateNode;if(typeof k.componentWillUnmount=="function"){r=p,n=p.return;try{t=r,k.props=t.memoizedProps,k.state=t.memoizedState,k.componentWillUnmount()}catch(O){Sn(r,n,O)}}break;case 5:Fl(p,p.return);break;case 22:if(p.memoizedState!==null){Bg(h);continue}}L!==null?(L.return=p,tt=L):Bg(h)}m=m.sibling}e:for(m=null,h=e;;){if(h.tag===5){if(m===null){m=h;try{i=h.stateNode,f?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=h.stateNode,u=h.memoizedProps.style,a=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=fx("display",a))}catch(O){Sn(e,e.return,O)}}}else if(h.tag===6){if(m===null)try{h.stateNode.nodeValue=f?"":h.memoizedProps}catch(O){Sn(e,e.return,O)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;m===h&&(m=null),h=h.return}m===h&&(m=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Yr(t,e),hi(e),r&4&&Dg(e);break;case 21:break;default:Yr(t,e),hi(e)}}function hi(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(BE(n)){var r=n;break e}n=n.return}throw Error(Pe(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Ou(i,""),r.flags&=-33);var o=Mg(e);_0(e,o,i);break;case 3:case 4:var a=r.stateNode.containerInfo,l=Mg(e);E0(e,l,a);break;default:throw Error(Pe(161))}}catch(u){Sn(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function $T(e,t,n){tt=e,$E(e)}function $E(e,t,n){for(var r=(e.mode&1)!==0;tt!==null;){var i=tt,o=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||Bf;if(!a){var l=i.alternate,u=l!==null&&l.memoizedState!==null||Kn;l=Bf;var f=Kn;if(Bf=a,(Kn=u)&&!f)for(tt=i;tt!==null;)a=tt,u=a.child,a.tag===22&&a.memoizedState!==null?jg(i):u!==null?(u.return=a,tt=u):jg(i);for(;o!==null;)tt=o,$E(o),o=o.sibling;tt=i,Bf=l,Kn=f}Fg(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,tt=o):Fg(e)}}function Fg(e){for(;tt!==null;){var t=tt;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Kn||ih(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Kn)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Qr(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&Eg(t,o,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Eg(t,a,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var f=t.alternate;if(f!==null){var m=f.memoizedState;if(m!==null){var h=m.dehydrated;h!==null&&Iu(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Pe(163))}Kn||t.flags&512&&x0(t)}catch(p){Sn(t,t.return,p)}}if(t===e){tt=null;break}if(n=t.sibling,n!==null){n.return=t.return,tt=n;break}tt=t.return}}function Bg(e){for(;tt!==null;){var t=tt;if(t===e){tt=null;break}var n=t.sibling;if(n!==null){n.return=t.return,tt=n;break}tt=t.return}}function jg(e){for(;tt!==null;){var t=tt;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ih(4,t)}catch(u){Sn(t,n,u)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(u){Sn(t,i,u)}}var o=t.return;try{x0(t)}catch(u){Sn(t,o,u)}break;case 5:var a=t.return;try{x0(t)}catch(u){Sn(t,a,u)}}}catch(u){Sn(t,t.return,u)}if(t===e){tt=null;break}var l=t.sibling;if(l!==null){l.return=t.return,tt=l;break}tt=t.return}}var zT=Math.ceil,Rd=Xi.ReactCurrentDispatcher,Sv=Xi.ReactCurrentOwner,Gr=Xi.ReactCurrentBatchConfig,Ut=0,Vn=null,kn=null,Wn=0,Tr=0,Bl=Uo(0),Fn=0,Hu=null,ka=0,oh=0,wv=0,bu=null,fr=null,Tv=0,es=1/0,Bi=null,Od=!1,S0=null,Mo=null,jf=!1,bo=null,Pd=0,Lu=0,w0=null,id=-1,od=0;function rr(){return Ut&6?Rn():id!==-1?id:id=Rn()}function Do(e){return e.mode&1?Ut&2&&Wn!==0?Wn&-Wn:AT.transition!==null?(od===0&&(od=Tx()),od):(e=qt,e!==0||(e=window.event,e=e===void 0?16:Px(e.type)),e):1}function ei(e,t,n,r){if(50<Lu)throw Lu=0,w0=null,Error(Pe(185));Zu(e,n,r),(!(Ut&2)||e!==Vn)&&(e===Vn&&(!(Ut&2)&&(oh|=n),Fn===4&&Ao(e,Wn)),pr(e,r),n===1&&Ut===0&&!(t.mode&1)&&(es=Rn()+500,th&&Vo()))}function pr(e,t){var n=e.callbackNode;Aw(e,t);var r=md(e,e===Vn?Wn:0);if(r===0)n!==null&&Yy(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Yy(n),t===1)e.tag===0?TT(Gg.bind(null,e)):Kx(Gg.bind(null,e)),ET(function(){!(Ut&6)&&Vo()}),n=null;else{switch(Ax(r)){case 1:n=K0;break;case 4:n=Sx;break;case 16:n=hd;break;case 536870912:n=wx;break;default:n=hd}n=QE(n,zE.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function zE(e,t){if(id=-1,od=0,Ut&6)throw Error(Pe(327));var n=e.callbackNode;if(Hl()&&e.callbackNode!==n)return null;var r=md(e,e===Vn?Wn:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=kd(e,r);else{t=r;var i=Ut;Ut|=2;var o=VE();(Vn!==e||Wn!==t)&&(Bi=null,es=Rn()+500,Aa(e,t));do try{HT();break}catch(l){UE(e,l)}while(!0);uv(),Rd.current=o,Ut=i,kn!==null?t=0:(Vn=null,Wn=0,t=Fn)}if(t!==0){if(t===2&&(i=Kp(e),i!==0&&(r=i,t=T0(e,i))),t===1)throw n=Hu,Aa(e,0),Ao(e,r),pr(e,Rn()),n;if(t===6)Ao(e,r);else{if(i=e.current.alternate,!(r&30)&&!UT(i)&&(t=kd(e,r),t===2&&(o=Kp(e),o!==0&&(r=o,t=T0(e,o))),t===1))throw n=Hu,Aa(e,0),Ao(e,r),pr(e,Rn()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(Pe(345));case 2:Ea(e,fr,Bi);break;case 3:if(Ao(e,r),(r&130023424)===r&&(t=Tv+500-Rn(),10<t)){if(md(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){rr(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=i0(Ea.bind(null,e,fr,Bi),t);break}Ea(e,fr,Bi);break;case 4:if(Ao(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-Jr(r);o=1<<a,a=t[a],a>i&&(i=a),r&=~o}if(r=i,r=Rn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*zT(r/1960))-r,10<r){e.timeoutHandle=i0(Ea.bind(null,e,fr,Bi),r);break}Ea(e,fr,Bi);break;case 5:Ea(e,fr,Bi);break;default:throw Error(Pe(329))}}}return pr(e,Rn()),e.callbackNode===n?zE.bind(null,e):null}function T0(e,t){var n=bu;return e.current.memoizedState.isDehydrated&&(Aa(e,t).flags|=256),e=kd(e,t),e!==2&&(t=fr,fr=n,t!==null&&A0(t)),e}function A0(e){fr===null?fr=e:fr.push.apply(fr,e)}function UT(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!ti(o(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ao(e,t){for(t&=~wv,t&=~oh,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Jr(t),r=1<<n;e[n]=-1,t&=~r}}function Gg(e){if(Ut&6)throw Error(Pe(327));Hl();var t=md(e,0);if(!(t&1))return pr(e,Rn()),null;var n=kd(e,t);if(e.tag!==0&&n===2){var r=Kp(e);r!==0&&(t=r,n=T0(e,r))}if(n===1)throw n=Hu,Aa(e,0),Ao(e,t),pr(e,Rn()),n;if(n===6)throw Error(Pe(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ea(e,fr,Bi),pr(e,Rn()),null}function Av(e,t){var n=Ut;Ut|=1;try{return e(t)}finally{Ut=n,Ut===0&&(es=Rn()+500,th&&Vo())}}function Na(e){bo!==null&&bo.tag===0&&!(Ut&6)&&Hl();var t=Ut;Ut|=1;var n=Gr.transition,r=qt;try{if(Gr.transition=null,qt=1,e)return e()}finally{qt=r,Gr.transition=n,Ut=t,!(Ut&6)&&Vo()}}function Cv(){Tr=Bl.current,an(Bl)}function Aa(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,xT(n)),kn!==null)for(n=kn.return;n!==null;){var r=n;switch(av(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&xd();break;case 3:Zl(),an(hr),an(Zn),pv();break;case 5:mv(r);break;case 4:Zl();break;case 13:an(mn);break;case 19:an(mn);break;case 10:cv(r.type._context);break;case 22:case 23:Cv()}n=n.return}if(Vn=e,kn=e=Fo(e.current,null),Wn=Tr=t,Fn=0,Hu=null,wv=oh=ka=0,fr=bu=null,Sa!==null){for(t=0;t<Sa.length;t++)if(n=Sa[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var a=o.next;o.next=i,r.next=a}n.pending=r}Sa=null}return e}function UE(e,t){do{var n=kn;try{if(uv(),td.current=Ld,bd){for(var r=pn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}bd=!1}if(Pa=0,Un=Dn=pn=null,Au=!1,zu=0,Sv.current=null,n===null||n.return===null){Fn=1,Hu=t,kn=null;break}e:{var o=e,a=n.return,l=n,u=t;if(t=Wn,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var f=u,m=l,h=m.tag;if(!(m.mode&1)&&(h===0||h===11||h===15)){var p=m.alternate;p?(m.updateQueue=p.updateQueue,m.memoizedState=p.memoizedState,m.lanes=p.lanes):(m.updateQueue=null,m.memoizedState=null)}var L=bg(a);if(L!==null){L.flags&=-257,Lg(L,a,l,o,t),L.mode&1&&Cg(o,f,t),t=L,u=f;var k=t.updateQueue;if(k===null){var O=new Set;O.add(u),t.updateQueue=O}else k.add(u);break e}else{if(!(t&1)){Cg(o,f,t),bv();break e}u=Error(Pe(426))}}else if(un&&l.mode&1){var j=bg(a);if(j!==null){!(j.flags&65536)&&(j.flags|=256),Lg(j,a,l,o,t),lv(Jl(u,l));break e}}o=u=Jl(u,l),Fn!==4&&(Fn=2),bu===null?bu=[o]:bu.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var x=CE(o,u,t);xg(o,x);break e;case 1:l=u;var T=o.type,C=o.stateNode;if(!(o.flags&128)&&(typeof T.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(Mo===null||!Mo.has(C)))){o.flags|=65536,t&=-t,o.lanes|=t;var V=bE(o,l,t);xg(o,V);break e}}o=o.return}while(o!==null)}WE(n)}catch(Y){t=Y,kn===n&&n!==null&&(kn=n=n.return);continue}break}while(!0)}function VE(){var e=Rd.current;return Rd.current=Ld,e===null?Ld:e}function bv(){(Fn===0||Fn===3||Fn===2)&&(Fn=4),Vn===null||!(ka&268435455)&&!(oh&268435455)||Ao(Vn,Wn)}function kd(e,t){var n=Ut;Ut|=2;var r=VE();(Vn!==e||Wn!==t)&&(Bi=null,Aa(e,t));do try{VT();break}catch(i){UE(e,i)}while(!0);if(uv(),Ut=n,Rd.current=r,kn!==null)throw Error(Pe(261));return Vn=null,Wn=0,Fn}function VT(){for(;kn!==null;)HE(kn)}function HT(){for(;kn!==null&&!vw();)HE(kn)}function HE(e){var t=YE(e.alternate,e,Tr);e.memoizedProps=e.pendingProps,t===null?WE(e):kn=t,Sv.current=null}function WE(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=BT(n,t),n!==null){n.flags&=32767,kn=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Fn=6,kn=null;return}}else if(n=FT(n,t,Tr),n!==null){kn=n;return}if(t=t.sibling,t!==null){kn=t;return}kn=t=e}while(t!==null);Fn===0&&(Fn=5)}function Ea(e,t,n){var r=qt,i=Gr.transition;try{Gr.transition=null,qt=1,WT(e,t,n,r)}finally{Gr.transition=i,qt=r}return null}function WT(e,t,n,r){do Hl();while(bo!==null);if(Ut&6)throw Error(Pe(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(Pe(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(Cw(e,o),e===Vn&&(kn=Vn=null,Wn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||jf||(jf=!0,QE(hd,function(){return Hl(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Gr.transition,Gr.transition=null;var a=qt;qt=1;var l=Ut;Ut|=4,Sv.current=null,GT(e,n),GE(n,e),dT(n0),pd=!!t0,n0=t0=null,e.current=n,$T(n),yw(),Ut=l,qt=a,Gr.transition=o}else e.current=n;if(jf&&(jf=!1,bo=e,Pd=i),o=e.pendingLanes,o===0&&(Mo=null),Ew(n.stateNode),pr(e,Rn()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Od)throw Od=!1,e=S0,S0=null,e;return Pd&1&&e.tag!==0&&Hl(),o=e.pendingLanes,o&1?e===w0?Lu++:(Lu=0,w0=e):Lu=0,Vo(),null}function Hl(){if(bo!==null){var e=Ax(Pd),t=Gr.transition,n=qt;try{if(Gr.transition=null,qt=16>e?16:e,bo===null)var r=!1;else{if(e=bo,bo=null,Pd=0,Ut&6)throw Error(Pe(331));var i=Ut;for(Ut|=4,tt=e.current;tt!==null;){var o=tt,a=o.child;if(tt.flags&16){var l=o.deletions;if(l!==null){for(var u=0;u<l.length;u++){var f=l[u];for(tt=f;tt!==null;){var m=tt;switch(m.tag){case 0:case 11:case 15:Cu(8,m,o)}var h=m.child;if(h!==null)h.return=m,tt=h;else for(;tt!==null;){m=tt;var p=m.sibling,L=m.return;if(FE(m),m===f){tt=null;break}if(p!==null){p.return=L,tt=p;break}tt=L}}}var k=o.alternate;if(k!==null){var O=k.child;if(O!==null){k.child=null;do{var j=O.sibling;O.sibling=null,O=j}while(O!==null)}}tt=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,tt=a;else e:for(;tt!==null;){if(o=tt,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Cu(9,o,o.return)}var x=o.sibling;if(x!==null){x.return=o.return,tt=x;break e}tt=o.return}}var T=e.current;for(tt=T;tt!==null;){a=tt;var C=a.child;if(a.subtreeFlags&2064&&C!==null)C.return=a,tt=C;else e:for(a=T;tt!==null;){if(l=tt,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:ih(9,l)}}catch(Y){Sn(l,l.return,Y)}if(l===a){tt=null;break e}var V=l.sibling;if(V!==null){V.return=l.return,tt=V;break e}tt=l.return}}if(Ut=i,Vo(),xi&&typeof xi.onPostCommitFiberRoot=="function")try{xi.onPostCommitFiberRoot(Kd,e)}catch{}r=!0}return r}finally{qt=n,Gr.transition=t}}return!1}function $g(e,t,n){t=Jl(n,t),t=CE(e,t,1),e=Io(e,t,1),t=rr(),e!==null&&(Zu(e,1,t),pr(e,t))}function Sn(e,t,n){if(e.tag===3)$g(e,e,n);else for(;t!==null;){if(t.tag===3){$g(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Mo===null||!Mo.has(r))){e=Jl(n,e),e=bE(t,e,1),t=Io(t,e,1),e=rr(),t!==null&&(Zu(t,1,e),pr(t,e));break}}t=t.return}}function XT(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=rr(),e.pingedLanes|=e.suspendedLanes&n,Vn===e&&(Wn&n)===n&&(Fn===4||Fn===3&&(Wn&130023424)===Wn&&500>Rn()-Tv?Aa(e,0):wv|=n),pr(e,t)}function XE(e,t){t===0&&(e.mode&1?(t=Rf,Rf<<=1,!(Rf&130023424)&&(Rf=4194304)):t=1);var n=rr();e=Hi(e,t),e!==null&&(Zu(e,t,n),pr(e,n))}function YT(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),XE(e,n)}function QT(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(Pe(314))}r!==null&&r.delete(t),XE(e,n)}var YE;YE=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||hr.current)dr=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return dr=!1,DT(e,t,n);dr=!!(e.flags&131072)}else dr=!1,un&&t.flags&1048576&&qx(t,Sd,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;rd(e,t),e=t.pendingProps;var i=Ql(t,Zn.current);Vl(t,n),i=yv(null,t,r,e,i,n);var o=gv();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,mr(r)?(o=!0,Ed(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,dv(t),i.updater=nh,t.stateNode=i,i._reactInternals=t,f0(t,r,e,n),t=m0(null,t,r,!0,o,n)):(t.tag=0,un&&o&&ov(t),tr(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(rd(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=qT(r),e=Qr(r,e),i){case 0:t=h0(null,t,r,e,n);break e;case 1:t=Pg(null,t,r,e,n);break e;case 11:t=Rg(null,t,r,e,n);break e;case 14:t=Og(null,t,r,Qr(r.type,e),n);break e}throw Error(Pe(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Qr(r,i),h0(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Qr(r,i),Pg(e,t,r,i,n);case 3:e:{if(PE(t),e===null)throw Error(Pe(387));r=t.pendingProps,o=t.memoizedState,i=o.element,tE(e,t),Ad(t,r,null,n);var a=t.memoizedState;if(r=a.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=Jl(Error(Pe(423)),t),t=kg(e,t,r,n,i);break e}else if(r!==i){i=Jl(Error(Pe(424)),t),t=kg(e,t,r,n,i);break e}else for(Ar=No(t.stateNode.containerInfo.firstChild),Cr=t,un=!0,qr=null,n=oE(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Kl(),r===i){t=Wi(e,t,n);break e}tr(e,t,r,n)}t=t.child}return t;case 5:return aE(t),e===null&&s0(t),r=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,a=i.children,r0(r,i)?a=null:o!==null&&r0(r,o)&&(t.flags|=32),OE(e,t),tr(e,t,a,n),t.child;case 6:return e===null&&s0(t),null;case 13:return kE(e,t,n);case 4:return hv(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=ql(t,null,r,n):tr(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Qr(r,i),Rg(e,t,r,i,n);case 7:return tr(e,t,t.pendingProps,n),t.child;case 8:return tr(e,t,t.pendingProps.children,n),t.child;case 12:return tr(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,a=i.value,nn(wd,r._currentValue),r._currentValue=a,o!==null)if(ti(o.value,a)){if(o.children===i.children&&!hr.current){t=Wi(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var l=o.dependencies;if(l!==null){a=o.child;for(var u=l.firstContext;u!==null;){if(u.context===r){if(o.tag===1){u=zi(-1,n&-n),u.tag=2;var f=o.updateQueue;if(f!==null){f=f.shared;var m=f.pending;m===null?u.next=u:(u.next=m.next,m.next=u),f.pending=u}}o.lanes|=n,u=o.alternate,u!==null&&(u.lanes|=n),u0(o.return,n,t),l.lanes|=n;break}u=u.next}}else if(o.tag===10)a=o.type===t.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(Pe(341));a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),u0(a,n,t),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===t){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}tr(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Vl(t,n),i=$r(i),r=r(i),t.flags|=1,tr(e,t,r,n),t.child;case 14:return r=t.type,i=Qr(r,t.pendingProps),i=Qr(r.type,i),Og(e,t,r,i,n);case 15:return LE(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Qr(r,i),rd(e,t),t.tag=1,mr(r)?(e=!0,Ed(t)):e=!1,Vl(t,n),rE(t,r,i),f0(t,r,i,n),m0(null,t,r,!0,e,n);case 19:return NE(e,t,n);case 22:return RE(e,t,n)}throw Error(Pe(156,t.tag))};function QE(e,t){return _x(e,t)}function KT(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jr(e,t,n,r){return new KT(e,t,n,r)}function Lv(e){return e=e.prototype,!(!e||!e.isReactComponent)}function qT(e){if(typeof e=="function")return Lv(e)?1:0;if(e!=null){if(e=e.$$typeof,e===X0)return 11;if(e===Y0)return 14}return 2}function Fo(e,t){var n=e.alternate;return n===null?(n=jr(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ad(e,t,n,r,i,o){var a=2;if(r=e,typeof e=="function")Lv(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case Ll:return Ca(n.children,i,o,t);case W0:a=8,i|=8;break;case Mp:return e=jr(12,n,t,i|2),e.elementType=Mp,e.lanes=o,e;case Dp:return e=jr(13,n,t,i),e.elementType=Dp,e.lanes=o,e;case Fp:return e=jr(19,n,t,i),e.elementType=Fp,e.lanes=o,e;case ix:return ah(n,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case nx:a=10;break e;case rx:a=9;break e;case X0:a=11;break e;case Y0:a=14;break e;case So:a=16,r=null;break e}throw Error(Pe(130,e==null?e:typeof e,""))}return t=jr(a,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function Ca(e,t,n,r){return e=jr(7,e,r,t),e.lanes=n,e}function ah(e,t,n,r){return e=jr(22,e,r,t),e.elementType=ix,e.lanes=n,e.stateNode={isHidden:!1},e}function sp(e,t,n){return e=jr(6,e,null,t),e.lanes=n,e}function up(e,t,n){return t=jr(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function ZT(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Um(0),this.expirationTimes=Um(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Um(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Rv(e,t,n,r,i,o,a,l,u){return e=new ZT(e,t,n,l,u),t===1?(t=1,o===!0&&(t|=8)):t=0,o=jr(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},dv(o),e}function JT(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:bl,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function KE(e){if(!e)return Go;e=e._reactInternals;e:{if(Ba(e)!==e||e.tag!==1)throw Error(Pe(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(mr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Pe(171))}if(e.tag===1){var n=e.type;if(mr(n))return Qx(e,n,t)}return t}function qE(e,t,n,r,i,o,a,l,u){return e=Rv(n,r,!0,e,i,o,a,l,u),e.context=KE(null),n=e.current,r=rr(),i=Do(n),o=zi(r,i),o.callback=t??null,Io(n,o,i),e.current.lanes=i,Zu(e,i,r),pr(e,r),e}function lh(e,t,n,r){var i=t.current,o=rr(),a=Do(i);return n=KE(n),t.context===null?t.context=n:t.pendingContext=n,t=zi(o,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Io(i,t,a),e!==null&&(ei(e,i,a,o),ed(e,i,a)),a}function Nd(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function zg(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Ov(e,t){zg(e,t),(e=e.alternate)&&zg(e,t)}function eA(){return null}var ZE=typeof reportError=="function"?reportError:function(e){console.error(e)};function Pv(e){this._internalRoot=e}sh.prototype.render=Pv.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Pe(409));lh(e,t,null,null)};sh.prototype.unmount=Pv.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Na(function(){lh(null,e,null,null)}),t[Vi]=null}};function sh(e){this._internalRoot=e}sh.prototype.unstable_scheduleHydration=function(e){if(e){var t=Lx();e={blockedOn:null,target:e,priority:t};for(var n=0;n<To.length&&t!==0&&t<To[n].priority;n++);To.splice(n,0,e),n===0&&Ox(e)}};function kv(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function uh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Ug(){}function tA(e,t,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var f=Nd(a);o.call(f)}}var a=qE(t,r,e,0,null,!1,!1,"",Ug);return e._reactRootContainer=a,e[Vi]=a.current,Fu(e.nodeType===8?e.parentNode:e),Na(),a}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var f=Nd(u);l.call(f)}}var u=Rv(e,0,!1,null,null,!1,!1,"",Ug);return e._reactRootContainer=u,e[Vi]=u.current,Fu(e.nodeType===8?e.parentNode:e),Na(function(){lh(t,u,n,r)}),u}function ch(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if(typeof i=="function"){var l=i;i=function(){var u=Nd(a);l.call(u)}}lh(t,a,e,i)}else a=tA(n,t,e,i,r);return Nd(a)}Cx=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=yu(t.pendingLanes);n!==0&&(q0(t,n|1),pr(t,Rn()),!(Ut&6)&&(es=Rn()+500,Vo()))}break;case 13:Na(function(){var r=Hi(e,1);if(r!==null){var i=rr();ei(r,e,1,i)}}),Ov(e,1)}};Z0=function(e){if(e.tag===13){var t=Hi(e,134217728);if(t!==null){var n=rr();ei(t,e,134217728,n)}Ov(e,134217728)}};bx=function(e){if(e.tag===13){var t=Do(e),n=Hi(e,t);if(n!==null){var r=rr();ei(n,e,t,r)}Ov(e,t)}};Lx=function(){return qt};Rx=function(e,t){var n=qt;try{return qt=e,t()}finally{qt=n}};Xp=function(e,t,n){switch(t){case"input":if(Gp(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=eh(r);if(!i)throw Error(Pe(90));ax(r),Gp(r,i)}}}break;case"textarea":sx(e,n);break;case"select":t=n.value,t!=null&&Gl(e,!!n.multiple,t,!1)}};px=Av;vx=Na;var nA={usingClientEntryPoint:!1,Events:[ec,kl,eh,hx,mx,Av]},fu={findFiberByHostInstance:_a,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rA={bundleType:fu.bundleType,version:fu.version,rendererPackageName:fu.rendererPackageName,rendererConfig:fu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Xi.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=xx(e),e===null?null:e.stateNode},findFiberByHostInstance:fu.findFiberByHostInstance||eA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gf.isDisabled&&Gf.supportsFiber)try{Kd=Gf.inject(rA),xi=Gf}catch{}}Lr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nA;Lr.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!kv(t))throw Error(Pe(200));return JT(e,t,null,n)};Lr.createRoot=function(e,t){if(!kv(e))throw Error(Pe(299));var n=!1,r="",i=ZE;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Rv(e,1,!1,null,null,n,!1,r,i),e[Vi]=t.current,Fu(e.nodeType===8?e.parentNode:e),new Pv(t)};Lr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Pe(188)):(e=Object.keys(e).join(","),Error(Pe(268,e)));return e=xx(t),e=e===null?null:e.stateNode,e};Lr.flushSync=function(e){return Na(e)};Lr.hydrate=function(e,t,n){if(!uh(t))throw Error(Pe(200));return ch(null,e,t,!0,n)};Lr.hydrateRoot=function(e,t,n){if(!kv(e))throw Error(Pe(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",a=ZE;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=qE(t,null,e,1,n??null,i,!1,o,a),e[Vi]=t.current,Fu(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new sh(t)};Lr.render=function(e,t,n){if(!uh(t))throw Error(Pe(200));return ch(null,e,t,!1,n)};Lr.unmountComponentAtNode=function(e){if(!uh(e))throw Error(Pe(40));return e._reactRootContainer?(Na(function(){ch(null,null,e,!1,function(){e._reactRootContainer=null,e[Vi]=null})}),!0):!1};Lr.unstable_batchedUpdates=Av;Lr.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!uh(n))throw Error(Pe(200));if(e==null||e._reactInternals===void 0)throw Error(Pe(38));return ch(e,t,n,!1,r)};Lr.version="18.2.0-next-9e3b772b8-20220608";function JE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(JE)}catch(e){console.error(e)}}JE(),q1.exports=Lr;var iA=q1.exports,Vg=iA;Np.createRoot=Vg.createRoot,Np.hydrateRoot=Vg.hydrateRoot;/**
 * @remix-run/router v1.13.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wu(){return Wu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wu.apply(this,arguments)}var Lo;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Lo||(Lo={}));const Hg="popstate";function oA(e){e===void 0&&(e={});function t(i,o){let{pathname:a="/",search:l="",hash:u=""}=ja(i.location.hash.substr(1));return!a.startsWith("/")&&!a.startsWith(".")&&(a="/"+a),C0("",{pathname:a,search:l,hash:u},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(i,o){let a=i.document.querySelector("base"),l="";if(a&&a.getAttribute("href")){let u=i.location.href,f=u.indexOf("#");l=f===-1?u:u.slice(0,f)}return l+"#"+(typeof o=="string"?o:Id(o))}function r(i,o){fh(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(o)+")")}return lA(t,n,r,e)}function Nn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function fh(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function aA(){return Math.random().toString(36).substr(2,8)}function Wg(e,t){return{usr:e.state,key:e.key,idx:t}}function C0(e,t,n,r){return n===void 0&&(n=null),Wu({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?ja(t):t,{state:n,key:t&&t.key||r||aA()})}function Id(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function ja(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function lA(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,a=i.history,l=Lo.Pop,u=null,f=m();f==null&&(f=0,a.replaceState(Wu({},a.state,{idx:f}),""));function m(){return(a.state||{idx:null}).idx}function h(){l=Lo.Pop;let j=m(),x=j==null?null:j-f;f=j,u&&u({action:l,location:O.location,delta:x})}function p(j,x){l=Lo.Push;let T=C0(O.location,j,x);n&&n(T,j),f=m()+1;let C=Wg(T,f),V=O.createHref(T);try{a.pushState(C,"",V)}catch(Y){if(Y instanceof DOMException&&Y.name==="DataCloneError")throw Y;i.location.assign(V)}o&&u&&u({action:l,location:O.location,delta:1})}function L(j,x){l=Lo.Replace;let T=C0(O.location,j,x);n&&n(T,j),f=m();let C=Wg(T,f),V=O.createHref(T);a.replaceState(C,"",V),o&&u&&u({action:l,location:O.location,delta:0})}function k(j){let x=i.location.origin!=="null"?i.location.origin:i.location.href,T=typeof j=="string"?j:Id(j);return Nn(x,"No window.location.(origin|href) available to create URL for href: "+T),new URL(T,x)}let O={get action(){return l},get location(){return e(i,a)},listen(j){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(Hg,h),u=j,()=>{i.removeEventListener(Hg,h),u=null}},createHref(j){return t(i,j)},createURL:k,encodeLocation(j){let x=k(j);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:p,replace:L,go(j){return a.go(j)}};return O}var Xg;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Xg||(Xg={}));function sA(e,t,n){n===void 0&&(n="/");let r=typeof t=="string"?ja(t):t,i=Nv(r.pathname||"/",n);if(i==null)return null;let o=e_(e);uA(o);let a=null;for(let l=0;a==null&&l<o.length;++l)a=gA(o[l],_A(i));return a}function e_(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,a,l)=>{let u={relativePath:l===void 0?o.path||"":l,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};u.relativePath.startsWith("/")&&(Nn(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let f=Bo([r,u.relativePath]),m=n.concat(u);o.children&&o.children.length>0&&(Nn(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+f+'".')),e_(o.children,t,m,f)),!(o.path==null&&!o.index)&&t.push({path:f,score:vA(f,o.index),routesMeta:m})};return e.forEach((o,a)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))i(o,a);else for(let u of t_(o.path))i(o,a,u)}),t}function t_(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let a=t_(r.join("/")),l=[];return l.push(...a.map(u=>u===""?o:[o,u].join("/"))),i&&l.push(...a),l.map(u=>e.startsWith("/")&&u===""?"/":u)}function uA(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:yA(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const cA=/^:\w+$/,fA=3,dA=2,hA=1,mA=10,pA=-2,Yg=e=>e==="*";function vA(e,t){let n=e.split("/"),r=n.length;return n.some(Yg)&&(r+=pA),t&&(r+=dA),n.filter(i=>!Yg(i)).reduce((i,o)=>i+(cA.test(o)?fA:o===""?hA:mA),r)}function yA(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function gA(e,t){let{routesMeta:n}=e,r={},i="/",o=[];for(let a=0;a<n.length;++a){let l=n[a],u=a===n.length-1,f=i==="/"?t:t.slice(i.length)||"/",m=xA({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},f);if(!m)return null;Object.assign(r,m.params);let h=l.route;o.push({params:r,pathname:Bo([i,m.pathname]),pathnameBase:AA(Bo([i,m.pathnameBase])),route:h}),m.pathnameBase!=="/"&&(i=Bo([i,m.pathnameBase]))}return o}function xA(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=EA(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((f,m,h)=>{let{paramName:p,isOptional:L}=m;if(p==="*"){let O=l[h]||"";a=o.slice(0,o.length-O.length).replace(/(.)\/+$/,"$1")}const k=l[h];return L&&!k?f[p]=void 0:f[p]=SA(k||"",p),f},{}),pathname:o,pathnameBase:a,pattern:e}}function EA(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),fh(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,(a,l,u)=>(r.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function _A(e){try{return decodeURI(e)}catch(t){return fh(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function SA(e,t){try{return decodeURIComponent(e)}catch(n){return fh(!1,'The value for the URL param "'+t+'" will not be decoded because'+(' the string "'+e+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),e}}function Nv(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function wA(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?ja(e):e;return{pathname:n?n.startsWith("/")?n:TA(n,t):t,search:CA(r),hash:bA(i)}}function TA(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function cp(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function n_(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function r_(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=ja(e):(i=Wu({},e),Nn(!i.pathname||!i.pathname.includes("?"),cp("?","pathname","search",i)),Nn(!i.pathname||!i.pathname.includes("#"),cp("#","pathname","hash",i)),Nn(!i.search||!i.search.includes("#"),cp("#","search","hash",i)));let o=e===""||i.pathname==="",a=o?"/":i.pathname,l;if(a==null)l=n;else if(r){let h=t[t.length-1].replace(/^\//,"").split("/");if(a.startsWith("..")){let p=a.split("/");for(;p[0]==="..";)p.shift(),h.pop();i.pathname=p.join("/")}l="/"+h.join("/")}else{let h=t.length-1;if(a.startsWith("..")){let p=a.split("/");for(;p[0]==="..";)p.shift(),h-=1;i.pathname=p.join("/")}l=h>=0?t[h]:"/"}let u=wA(i,l),f=a&&a!=="/"&&a.endsWith("/"),m=(o||a===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(f||m)&&(u.pathname+="/"),u}const Bo=e=>e.join("/").replace(/\/\/+/g,"/"),AA=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),CA=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,bA=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function LA(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const i_=["post","put","patch","delete"];new Set(i_);const RA=["get",...i_];new Set(RA);/**
 * React Router v6.20.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Md(){return Md=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Md.apply(this,arguments)}const Iv=re.createContext(null),OA=re.createContext(null),as=re.createContext(null),dh=re.createContext(null),Ho=re.createContext({outlet:null,matches:[],isDataRoute:!1}),o_=re.createContext(null);function PA(e,t){let{relative:n}=t===void 0?{}:t;nc()||Nn(!1);let{basename:r,navigator:i}=re.useContext(as),{hash:o,pathname:a,search:l}=s_(e,{relative:n}),u=a;return r!=="/"&&(u=a==="/"?r:Bo([r,a])),i.createHref({pathname:u,search:l,hash:o})}function nc(){return re.useContext(dh)!=null}function hh(){return nc()||Nn(!1),re.useContext(dh).location}function a_(e){re.useContext(as).static||re.useLayoutEffect(e)}function l_(){let{isDataRoute:e}=re.useContext(Ho);return e?HA():kA()}function kA(){nc()||Nn(!1);let e=re.useContext(Iv),{basename:t,navigator:n}=re.useContext(as),{matches:r}=re.useContext(Ho),{pathname:i}=hh(),o=JSON.stringify(n_(r).map(u=>u.pathnameBase)),a=re.useRef(!1);return a_(()=>{a.current=!0}),re.useCallback(function(u,f){if(f===void 0&&(f={}),!a.current)return;if(typeof u=="number"){n.go(u);return}let m=r_(u,JSON.parse(o),i,f.relative==="path");e==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:Bo([t,m.pathname])),(f.replace?n.replace:n.push)(m,f.state,f)},[t,n,o,i,e])}function NA(){let{matches:e}=re.useContext(Ho),t=e[e.length-1];return t?t.params:{}}function s_(e,t){let{relative:n}=t===void 0?{}:t,{matches:r}=re.useContext(Ho),{pathname:i}=hh(),o=JSON.stringify(n_(r).map(a=>a.pathnameBase));return re.useMemo(()=>r_(e,JSON.parse(o),i,n==="path"),[e,o,i,n])}function IA(e,t){return MA(e,t)}function MA(e,t,n){nc()||Nn(!1);let{navigator:r}=re.useContext(as),{matches:i}=re.useContext(Ho),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=hh(),f;if(t){var m;let O=typeof t=="string"?ja(t):t;l==="/"||(m=O.pathname)!=null&&m.startsWith(l)||Nn(!1),f=O}else f=u;let h=f.pathname||"/",p=l==="/"?h:h.slice(l.length)||"/",L=sA(e,{pathname:p}),k=GA(L&&L.map(O=>Object.assign({},O,{params:Object.assign({},a,O.params),pathname:Bo([l,r.encodeLocation?r.encodeLocation(O.pathname).pathname:O.pathname]),pathnameBase:O.pathnameBase==="/"?l:Bo([l,r.encodeLocation?r.encodeLocation(O.pathnameBase).pathname:O.pathnameBase])})),i,n);return t&&k?re.createElement(dh.Provider,{value:{location:Md({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:Lo.Pop}},k):k}function DA(){let e=VA(),t=LA(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},o=null;return re.createElement(re.Fragment,null,re.createElement("h2",null,"Unexpected Application Error!"),re.createElement("h3",{style:{fontStyle:"italic"}},t),n?re.createElement("pre",{style:i},n):null,o)}const FA=re.createElement(DA,null);class BA extends re.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error||n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error?re.createElement(Ho.Provider,{value:this.props.routeContext},re.createElement(o_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function jA(e){let{routeContext:t,match:n,children:r}=e,i=re.useContext(Iv);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),re.createElement(Ho.Provider,{value:t},r)}function GA(e,t,n){var r;if(t===void 0&&(t=[]),n===void 0&&(n=null),e==null){var i;if((i=n)!=null&&i.errors)e=n.matches;else return null}let o=e,a=(r=n)==null?void 0:r.errors;if(a!=null){let l=o.findIndex(u=>u.route.id&&(a==null?void 0:a[u.route.id]));l>=0||Nn(!1),o=o.slice(0,Math.min(o.length,l+1))}return o.reduceRight((l,u,f)=>{let m=u.route.id?a==null?void 0:a[u.route.id]:null,h=null;n&&(h=u.route.errorElement||FA);let p=t.concat(o.slice(0,f+1)),L=()=>{let k;return m?k=h:u.route.Component?k=re.createElement(u.route.Component,null):u.route.element?k=u.route.element:k=l,re.createElement(jA,{match:u,routeContext:{outlet:l,matches:p,isDataRoute:n!=null},children:k})};return n&&(u.route.ErrorBoundary||u.route.errorElement||f===0)?re.createElement(BA,{location:n.location,revalidation:n.revalidation,component:h,error:m,children:L(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):L()},null)}var u_=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(u_||{}),Dd=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Dd||{});function $A(e){let t=re.useContext(Iv);return t||Nn(!1),t}function zA(e){let t=re.useContext(OA);return t||Nn(!1),t}function UA(e){let t=re.useContext(Ho);return t||Nn(!1),t}function c_(e){let t=UA(),n=t.matches[t.matches.length-1];return n.route.id||Nn(!1),n.route.id}function VA(){var e;let t=re.useContext(o_),n=zA(Dd.UseRouteError),r=c_(Dd.UseRouteError);return t||((e=n.errors)==null?void 0:e[r])}function HA(){let{router:e}=$A(u_.UseNavigateStable),t=c_(Dd.UseNavigateStable),n=re.useRef(!1);return a_(()=>{n.current=!0}),re.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,Md({fromRouteId:t},o)))},[e,t])}function b0(e){Nn(!1)}function WA(e){let{basename:t="/",children:n=null,location:r,navigationType:i=Lo.Pop,navigator:o,static:a=!1}=e;nc()&&Nn(!1);let l=t.replace(/^\/*/,"/"),u=re.useMemo(()=>({basename:l,navigator:o,static:a}),[l,o,a]);typeof r=="string"&&(r=ja(r));let{pathname:f="/",search:m="",hash:h="",state:p=null,key:L="default"}=r,k=re.useMemo(()=>{let O=Nv(f,l);return O==null?null:{location:{pathname:O,search:m,hash:h,state:p,key:L},navigationType:i}},[l,f,m,h,p,L,i]);return k==null?null:re.createElement(as.Provider,{value:u},re.createElement(dh.Provider,{children:n,value:k}))}function XA(e){let{children:t,location:n}=e;return IA(L0(t),n)}new Promise(()=>{});function L0(e,t){t===void 0&&(t=[]);let n=[];return re.Children.forEach(e,(r,i)=>{if(!re.isValidElement(r))return;let o=[...t,i];if(r.type===re.Fragment){n.push.apply(n,L0(r.props.children,o));return}r.type!==b0&&Nn(!1),!r.props.index||!r.props.children||Nn(!1);let a={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=L0(r.props.children,o)),n.push(a)}),n}/**
 * React Router DOM v6.20.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function R0(){return R0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},R0.apply(this,arguments)}function YA(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function QA(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function KA(e,t){return e.button===0&&(!t||t==="_self")&&!QA(e)}const qA=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],ZA="startTransition",Qg=YS[ZA];function JA(e){let{basename:t,children:n,future:r,window:i}=e,o=re.useRef();o.current==null&&(o.current=oA({window:i,v5Compat:!0}));let a=o.current,[l,u]=re.useState({action:a.action,location:a.location}),{v7_startTransition:f}=r||{},m=re.useCallback(h=>{f&&Qg?Qg(()=>u(h)):u(h)},[u,f]);return re.useLayoutEffect(()=>a.listen(m),[a,m]),re.createElement(WA,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:a})}const e2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",t2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,f_=re.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:o,replace:a,state:l,target:u,to:f,preventScrollReset:m,unstable_viewTransition:h}=t,p=YA(t,qA),{basename:L}=re.useContext(as),k,O=!1;if(typeof f=="string"&&t2.test(f)&&(k=f,e2))try{let C=new URL(window.location.href),V=f.startsWith("//")?new URL(C.protocol+f):new URL(f),Y=Nv(V.pathname,L);V.origin===C.origin&&Y!=null?f=Y+V.search+V.hash:O=!0}catch{}let j=PA(f,{relative:i}),x=n2(f,{replace:a,state:l,target:u,preventScrollReset:m,relative:i,unstable_viewTransition:h});function T(C){r&&r(C),C.defaultPrevented||x(C)}return re.createElement("a",R0({},p,{href:k||j,onClick:O||o?r:T,ref:n,target:u}))});var Kg;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Kg||(Kg={}));var qg;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(qg||(qg={}));function n2(e,t){let{target:n,replace:r,state:i,preventScrollReset:o,relative:a,unstable_viewTransition:l}=t===void 0?{}:t,u=l_(),f=hh(),m=s_(e,{relative:a});return re.useCallback(h=>{if(KA(h,n)){h.preventDefault();let p=r!==void 0?r:Id(f)===Id(m);u(e,{replace:p,state:i,preventScrollReset:o,relative:a,unstable_viewTransition:l})}},[f,u,m,r,i,n,e,o,a,l])}var d_={exports:{}},r2="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",i2=r2,o2=i2;function h_(){}function m_(){}m_.resetWarningCache=h_;var a2=function(){function e(r,i,o,a,l,u){if(u!==o2){var f=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw f.name="Invariant Violation",f}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:m_,resetWarningCache:h_};return n.PropTypes=n,n};d_.exports=a2();var l2=d_.exports;const Je=B0(l2);Je.object,Je.bool,Je.func.isRequired,Je.func;const fp="https://api.latentscope.com/api";function s2(){const[e,t]=re.useState([]);re.useEffect(()=>{fetch(`${fp}/datasets`).then(l=>l.json()).then(l=>t(l))},[]);const[n,r]=re.useState({});re.useEffect(()=>{e.forEach(l=>{fetch(`${fp}/datasets/${l.id}/scopes`).then(u=>u.json()).then(u=>r(f=>{const m={...f};return m[l.id]=u,m}))})},[e]),re.useEffect(()=>{console.log("scopes",n)},[n]);const[i,o]=re.useState(null),a=l_();return re.useEffect(()=>{i&&i.status==="completed"&&setTimeout(function(){a(`/datasets/${i.dataset}/setup`)},1e3)},[i,a]),ye.jsxs("div",{className:"home",children:[null,ye.jsx("h3",{children:"Datasets"}),ye.jsx("ul",{children:e.map(l=>{var u;return ye.jsxs("li",{children:[ye.jsxs("h3",{children:[" ",l.id," - ",l.length," rows"]}),null,ye.jsx("div",{className:"scope-links",children:n[l.id]&&n[l.id].map&&((u=n[l.id])==null?void 0:u.map((f,m)=>ye.jsxs("div",{className:"scope-link",children:[ye.jsxs(f_,{to:`/datasets/${l.id}/explore/${f.id}`,children:["Explore ",f.id," ",ye.jsx("br",{})," ",f.label,ye.jsx("br",{}),ye.jsx("img",{src:`${fp}/files/${l.id}/clusters/${f.cluster_id}.png`})]}),ye.jsx("br",{}),null]},m)))})]},l.id)})})]})}const Zg="https://api.latentscope.com/api";p_.propTypes={data:Je.array.isRequired,tagset:Je.object,datasetId:Je.string,maxRows:Je.number,onTagset:Je.func,onHover:Je.func,onClick:Je.func};function p_({data:e,tagset:t,datasetId:n,maxRows:r,onTagset:i,onHover:o,onClick:a}){if(!e.length)return ye.jsx("p",{children:"No data available."});const l=Object.keys(e[0]);let u;function f(h,p){console.log("tag",h),console.log("index",p),console.log("tagset",t),console.log("tagset[tag]",t[h]),t[h].includes(p)?(console.log("removing"),fetch(`${Zg}/tags/remove?dataset=${n}&tag=${h}&index=${p}`).then(L=>L.json()).then(L=>{console.log("removed",L),i(L)})):(console.log("adding"),fetch(`${Zg}/tags/add?dataset=${n}&tag=${h}&index=${p}`).then(L=>L.json()).then(L=>{console.log("added",L),i(L)}))}t&&(u=Object.keys(t));const m=r?e.slice(0,r):e;return ye.jsxs(ye.Fragment,{children:[ye.jsxs("table",{className:"datatable",children:[ye.jsx("thead",{children:ye.jsxs("tr",{children:[l.map((h,p)=>ye.jsx("th",{children:h},p)),u?ye.jsx("th",{children:"tags"}):null]})}),ye.jsx("tbody",{children:m.map((h,p)=>ye.jsxs("tr",{onMouseEnter:()=>o&&o(h.index),onMouseLeave:()=>o&&o(),onClick:()=>a&&a(h.index),children:[l.map((L,k)=>ye.jsx("td",{children:L=="url"?ye.jsx("a",{href:h[L],children:"url"}):h[L]},k)),u?ye.jsx("td",{children:u.map((L,k)=>ye.jsx("button",{onClick:O=>{f(L,h.index),O.preventDefault(),O.stopPropagation()},className:t[L].includes(h.index)?"tag-active":"tag-inactive",children:L},k))}):null]},p))})]}),r&&e.length>r?ye.jsxs("p",{children:["Showing ",r," of ",e.length," rows."]}):null]})}const u2="https://api.latentscope.com/api";xu.propTypes={dataset:Je.object.isRequired,indices:Je.array.isRequired,distances:Je.array,clusterIndices:Je.array,clusterLabels:Je.array,maxRows:Je.number,tagset:Je.object,onHover:Je.func,onClick:Je.func,onTagset:Je.func};function xu({dataset:e,indices:t,distances:n=[],clusterIndices:r=[],clusterLabels:i=[],maxRows:o,tagset:a,onHover:l,onClick:u,onTagset:f}){const[m,h]=re.useState([]),p=re.useCallback(L=>{e&&fetch(`${u2}/indexed?dataset=${e.id}&indices=${JSON.stringify(L)}`).then(k=>k.json()).then(k=>{let O=k.map((j,x)=>{let T=L[x],C={index:T,...j};return n&&n.length&&(C.distance=n[x]),r&&r.length&&i&&i.length&&(C.cluster=i[r[T].cluster].label),C});h(O)})},[e,n,r,i]);return re.useEffect(()=>{t&&t.length&&(console.log("refetching hydrate"),p(t))},[t]),ye.jsx("div",{children:ye.jsx(p_,{data:m,tagset:a,datasetId:e==null?void 0:e.id,maxRows:o,onTagset:f,onHover:l,onClick:u})})}const v_=(()=>{try{return new window.BroadcastChannel("pub-sub-es")}catch{return{postMessage:()=>{}}}})(),Mv=(e,t)=>t?e.toLowerCase():e,y_=(e,{caseInsensitive:t}={})=>(n,r,i=1/0)=>{const o=Mv(n,t);return e[o]||(e[o]=[],e.__times__[o]=[]),e[o].push(r),e.__times__[o].push(+i||1/0),{event:o,handler:r}},Dv=(e,{caseInsensitive:t}={})=>(n,r)=>{typeof n=="object"&&(r=n.handler,n=n.event);const i=Mv(n,t);if(!e[i])return;const o=e[i].indexOf(r);o===-1||o>=e[i].length||(e[i].splice(o,1),e.__times__[i].splice(o,1))},Jg=(e,t)=>()=>{e.forEach(n=>n(t))},g_=(e,{isGlobal:t,caseInsensitive:n,async:r}={})=>{const i=Dv(e);return(o,a,l={})=>{const u=Mv(o,n);if(!e[u])return;const f=[...e[u]];if(f.forEach((m,h)=>{--e.__times__[u][h]<1&&i(u,m)}),r||l.async?setTimeout(Jg(f,a),0):Jg(f,a)(),t&&!l.isNoGlobalBroadcast)try{v_.postMessage({event:u,news:a})}catch(m){if(m instanceof DOMException)console.warn(`Could not broadcast '${u}' globally. Payload is not clonable.`);else throw m}}},c2=e=>()=>{Object.keys(e).filter(t=>t[0]!=="_").forEach(t=>{e[t]=void 0,e.__times__[t]=void 0,delete e[t],delete e.__times__[t]})},x_=()=>({__times__:{}}),f2=({async:e=!1,caseInsensitive:t=!1,stack:n=x_()}={})=>(n.__times__||(n.__times__={}),{publish:g_(n,{async:e,caseInsensitive:t}),subscribe:y_(n,{caseInsensitive:t}),unsubscribe:Dv(n,{caseInsensitive:t}),clear:c2(n),stack:n}),$f=x_(),d2={publish:g_($f,{isGlobal:!0}),subscribe:y_($f),unsubscribe:Dv($f),stack:$f};v_.onmessage=({data:{event:e,news:t}})=>d2.publish(e,t,{isNoGlobalBroadcast:!0});var E_={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(kS,function(){var n=function(c){return c instanceof Uint8Array||c instanceof Uint16Array||c instanceof Uint32Array||c instanceof Int8Array||c instanceof Int16Array||c instanceof Int32Array||c instanceof Float32Array||c instanceof Float64Array||c instanceof Uint8ClampedArray},r=function(c,v){for(var A=Object.keys(v),H=0;H<A.length;++H)c[A[H]]=v[A[H]];return c},i=`
`;function o(c){return typeof atob<"u"?atob(c):"base64:"+c}function a(c){var v=new Error("(regl) "+c);throw console.error(v),v}function l(c,v){c||a(v)}function u(c){return c?": "+c:""}function f(c,v,A){c in v||a("unknown parameter ("+c+")"+u(A)+". possible values: "+Object.keys(v).join())}function m(c,v){n(c)||a("invalid parameter type"+u(v)+". must be a typed array")}function h(c,v){switch(v){case"number":return typeof c=="number";case"object":return typeof c=="object";case"string":return typeof c=="string";case"boolean":return typeof c=="boolean";case"function":return typeof c=="function";case"undefined":return typeof c>"u";case"symbol":return typeof c=="symbol"}}function p(c,v,A){h(c,v)||a("invalid parameter type"+u(A)+". expected "+v+", got "+typeof c)}function L(c,v){c>=0&&(c|0)===c||a("invalid parameter type, ("+c+")"+u(v)+". must be a nonnegative integer")}function k(c,v,A){v.indexOf(c)<0&&a("invalid value"+u(A)+". must be one of: "+v)}var O=["gl","canvas","container","attributes","pixelRatio","extensions","optionalExtensions","profile","onDone"];function j(c){Object.keys(c).forEach(function(v){O.indexOf(v)<0&&a('invalid regl constructor argument "'+v+'". must be one of '+O)})}function x(c,v){for(c=c+"";c.length<v;)c=" "+c;return c}function T(){this.name="unknown",this.lines=[],this.index={},this.hasErrors=!1}function C(c,v){this.number=c,this.line=v,this.errors=[]}function V(c,v,A){this.file=c,this.line=v,this.message=A}function Y(){var c=new Error,v=(c.stack||c).toString(),A=/compileProcedure.*\n\s*at.*\((.*)\)/.exec(v);if(A)return A[1];var H=/compileProcedure.*\n\s*at\s+(.*)(\n|$)/.exec(v);return H?H[1]:"unknown"}function le(){var c=new Error,v=(c.stack||c).toString(),A=/at REGLCommand.*\n\s+at.*\((.*)\)/.exec(v);if(A)return A[1];var H=/at REGLCommand.*\n\s+at\s+(.*)\n/.exec(v);return H?H[1]:"unknown"}function xe(c,v){var A=c.split(`
`),H=1,ee=0,U={unknown:new T,0:new T};U.unknown.name=U[0].name=v||Y(),U.unknown.lines.push(new C(0,""));for(var Q=0;Q<A.length;++Q){var ce=A[Q],ue=/^\s*#\s*(\w+)\s+(.+)\s*$/.exec(ce);if(ue)switch(ue[1]){case"line":var pe=/(\d+)(\s+\d+)?/.exec(ue[2]);pe&&(H=pe[1]|0,pe[2]&&(ee=pe[2]|0,ee in U||(U[ee]=new T)));break;case"define":var ge=/SHADER_NAME(_B64)?\s+(.*)$/.exec(ue[2]);ge&&(U[ee].name=ge[1]?o(ge[2]):ge[2]);break}U[ee].lines.push(new C(H++,ce))}return Object.keys(U).forEach(function(ve){var Se=U[ve];Se.lines.forEach(function(fe){Se.index[fe.number]=fe})}),U}function se(c){var v=[];return c.split(`
`).forEach(function(A){if(!(A.length<5)){var H=/^ERROR:\s+(\d+):(\d+):\s*(.*)$/.exec(A);H?v.push(new V(H[1]|0,H[2]|0,H[3].trim())):A.length>0&&v.push(new V("unknown",0,A))}}),v}function ct(c,v){v.forEach(function(A){var H=c[A.file];if(H){var ee=H.index[A.line];if(ee){ee.errors.push(A),H.hasErrors=!0;return}}c.unknown.hasErrors=!0,c.unknown.lines[0].errors.push(A)})}function Qe(c,v,A,H,ee){if(!c.getShaderParameter(v,c.COMPILE_STATUS)){var U=c.getShaderInfoLog(v),Q=H===c.FRAGMENT_SHADER?"fragment":"vertex";vt(A,"string",Q+" shader source must be a string",ee);var ce=xe(A,ee),ue=se(U);ct(ce,ue),Object.keys(ce).forEach(function(pe){var ge=ce[pe];if(!ge.hasErrors)return;var ve=[""],Se=[""];function fe(me,D){ve.push(me),Se.push(D||"")}fe("file number "+pe+": "+ge.name+`
`,"color:red;text-decoration:underline;font-weight:bold"),ge.lines.forEach(function(me){if(me.errors.length>0){fe(x(me.number,4)+"|  ","background-color:yellow; font-weight:bold"),fe(me.line+i,"color:red; background-color:yellow; font-weight:bold");var D=0;me.errors.forEach(function(X){var he=X.message,De=/^\s*'(.*)'\s*:\s*(.*)$/.exec(he);if(De){var ae=De[1];switch(he=De[2],ae){case"assign":ae="=";break}D=Math.max(me.line.indexOf(ae,D),0)}else D=0;fe(x("| ",6)),fe(x("^^^",D+3)+i,"font-weight:bold"),fe(x("| ",6)),fe(he+i,"font-weight:bold")}),fe(x("| ",6)+i)}else fe(x(me.number,4)+"|  "),fe(me.line+i,"color:red")}),typeof document<"u"&&!window.chrome?(Se[0]=ve.join("%c"),console.log.apply(console,Se)):console.log(ve.join(""))}),l.raise("Error compiling "+Q+" shader, "+ce[0].name)}}function Ve(c,v,A,H,ee){if(!c.getProgramParameter(v,c.LINK_STATUS)){var U=c.getProgramInfoLog(v),Q=xe(A,ee),ce=xe(H,ee),ue='Error linking program with vertex shader, "'+ce[0].name+'", and fragment shader "'+Q[0].name+'"';typeof document<"u"?console.log("%c"+ue+i+"%c"+U,"color:red;text-decoration:underline;font-weight:bold","color:red"):console.log(ue+i+U),l.raise(ue)}}function Le(c){c._commandRef=Y()}function nt(c,v,A,H){Le(c);function ee(ue){return ue?H.id(ue):0}c._fragId=ee(c.static.frag),c._vertId=ee(c.static.vert);function U(ue,pe){Object.keys(pe).forEach(function(ge){ue[H.id(ge)]=!0})}var Q=c._uniformSet={};U(Q,v.static),U(Q,v.dynamic);var ce=c._attributeSet={};U(ce,A.static),U(ce,A.dynamic),c._hasCount="count"in c.static||"count"in c.dynamic||"elements"in c.static||"elements"in c.dynamic}function Xe(c,v){var A=le();a(c+" in command "+(v||Y())+(A==="unknown"?"":" called from "+A))}function Gt(c,v,A){c||Xe(v,A||Y())}function dt(c,v,A,H){c in v||Xe("unknown parameter ("+c+")"+u(A)+". possible values: "+Object.keys(v).join(),H||Y())}function vt(c,v,A,H){h(c,v)||Xe("invalid parameter type"+u(A)+". expected "+v+", got "+typeof c,H||Y())}function Ee(c){c()}function Ge(c,v,A){c.texture?k(c.texture._texture.internalformat,v,"unsupported texture format for attachment"):k(c.renderbuffer._renderbuffer.format,A,"unsupported renderbuffer format for attachment")}var Ue=33071,Ce=9728,qe=9984,Et=9985,Lt=9986,Vt=9987,Bt=5120,Wt=5121,Pt=5122,ln=5123,Qt=5124,cn=5125,Ht=5126,Xt=32819,yt=32820,_t=33635,bt=34042,mt=36193,At={};At[Bt]=At[Wt]=1,At[Pt]=At[ln]=At[mt]=At[_t]=At[Xt]=At[yt]=2,At[Qt]=At[cn]=At[Ht]=At[bt]=4;function zt(c,v){return c===yt||c===Xt||c===_t?2:c===bt?4:At[c]*v}function sn(c){return!(c&c-1)&&!!c}function Bn(c,v,A){var H,ee=v.width,U=v.height,Q=v.channels;l(ee>0&&ee<=A.maxTextureSize&&U>0&&U<=A.maxTextureSize,"invalid texture shape"),(c.wrapS!==Ue||c.wrapT!==Ue)&&l(sn(ee)&&sn(U),"incompatible wrap mode for texture, both width and height must be power of 2"),v.mipmask===1?ee!==1&&U!==1&&l(c.minFilter!==qe&&c.minFilter!==Lt&&c.minFilter!==Et&&c.minFilter!==Vt,"min filter requires mipmap"):(l(sn(ee)&&sn(U),"texture must be a square power of 2 to support mipmapping"),l(v.mipmask===(ee<<1)-1,"missing or incomplete mipmap data")),v.type===Ht&&(A.extensions.indexOf("oes_texture_float_linear")<0&&l(c.minFilter===Ce&&c.magFilter===Ce,"filter not supported, must enable oes_texture_float_linear"),l(!c.genMipmaps,"mipmap generation not supported with float textures"));var ce=v.images;for(H=0;H<16;++H)if(ce[H]){var ue=ee>>H,pe=U>>H;l(v.mipmask&1<<H,"missing mipmap data");var ge=ce[H];if(l(ge.width===ue&&ge.height===pe,"invalid shape for mip images"),l(ge.format===v.format&&ge.internalformat===v.internalformat&&ge.type===v.type,"incompatible type for mip image"),!ge.compressed)if(ge.data){var ve=Math.ceil(zt(ge.type,Q)*ue/ge.unpackAlignment)*ge.unpackAlignment;l(ge.data.byteLength===ve*pe,"invalid data for image, buffer size is inconsistent with image format")}else ge.element||ge.copy}else c.genMipmaps||l((v.mipmask&1<<H)===0,"extra mipmap data");v.compressed&&l(!c.genMipmaps,"mipmap generation for compressed images not supported")}function Ur(c,v,A,H){var ee=c.width,U=c.height,Q=c.channels;l(ee>0&&ee<=H.maxTextureSize&&U>0&&U<=H.maxTextureSize,"invalid texture shape"),l(ee===U,"cube map must be square"),l(v.wrapS===Ue&&v.wrapT===Ue,"wrap mode not supported by cube map");for(var ce=0;ce<A.length;++ce){var ue=A[ce];l(ue.width===ee&&ue.height===U,"inconsistent cube map face shape"),v.genMipmaps&&(l(!ue.compressed,"can not generate mipmap for compressed textures"),l(ue.mipmask===1,"can not specify mipmaps and generate mipmaps"));for(var pe=ue.images,ge=0;ge<16;++ge){var ve=pe[ge];if(ve){var Se=ee>>ge,fe=U>>ge;l(ue.mipmask&1<<ge,"missing mipmap data"),l(ve.width===Se&&ve.height===fe,"invalid shape for mip images"),l(ve.format===c.format&&ve.internalformat===c.internalformat&&ve.type===c.type,"incompatible type for mip image"),ve.compressed||(ve.data?l(ve.data.byteLength===Se*fe*Math.max(zt(ve.type,Q),ve.unpackAlignment),"invalid data for image, buffer size is inconsistent with image format"):ve.element||ve.copy)}}}}var y=r(l,{optional:Ee,raise:a,commandRaise:Xe,command:Gt,parameter:f,commandParameter:dt,constructor:j,type:p,commandType:vt,isTypedArray:m,nni:L,oneOf:k,shaderError:Qe,linkError:Ve,callSite:le,saveCommandRef:Le,saveDrawInfo:nt,framebufferFormat:Ge,guessCommand:Y,texture2D:Bn,textureCube:Ur}),et=0,kt=0,Me=5,Yt=6;function gt(c,v){this.id=et++,this.type=c,this.data=v}function Ne(c){return c.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}function Ct(c){if(c.length===0)return[];var v=c.charAt(0),A=c.charAt(c.length-1);if(c.length>1&&v===A&&(v==='"'||v==="'"))return['"'+Ne(c.substr(1,c.length-2))+'"'];var H=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(c);if(H)return Ct(c.substr(0,H.index)).concat(Ct(H[1])).concat(Ct(c.substr(H.index+H[0].length)));var ee=c.split(".");if(ee.length===1)return['"'+Ne(c)+'"'];for(var U=[],Q=0;Q<ee.length;++Q)U=U.concat(Ct(ee[Q]));return U}function q(c){return"["+Ct(c).join("][")+"]"}function Fe(c,v){return new gt(c,q(v+""))}function Kt(c){return typeof c=="function"&&!c._reglType||c instanceof gt}function en(c,v){if(typeof c=="function")return new gt(kt,c);if(typeof c=="number"||typeof c=="boolean")return new gt(Me,c);if(Array.isArray(c))return new gt(Yt,c.map(function(A,H){return en(A,v+"["+H+"]")}));if(c instanceof gt)return c;y(!1,"invalid option type in uniform "+v)}var Rt={DynamicVariable:gt,define:Fe,isDynamic:Kt,unbox:en,accessor:q},yn={next:typeof requestAnimationFrame=="function"?function(c){return requestAnimationFrame(c)}:function(c){return setTimeout(c,16)},cancel:typeof cancelAnimationFrame=="function"?function(c){return cancelAnimationFrame(c)}:clearTimeout},wn=typeof performance<"u"&&performance.now?function(){return performance.now()}:function(){return+new Date};function Vr(){var c={"":0},v=[""];return{id:function(A){var H=c[A];return H||(H=c[A]=v.length,v.push(A),H)},str:function(A){return v[A]}}}function Or(c,v,A){var H=document.createElement("canvas");r(H.style,{border:0,margin:0,padding:0,top:0,left:0,width:"100%",height:"100%"}),c.appendChild(H),c===document.body&&(H.style.position="absolute",r(c.style,{margin:0,padding:0}));function ee(){var ce=window.innerWidth,ue=window.innerHeight;if(c!==document.body){var pe=H.getBoundingClientRect();ce=pe.right-pe.left,ue=pe.bottom-pe.top}H.width=A*ce,H.height=A*ue}var U;c!==document.body&&typeof ResizeObserver=="function"?(U=new ResizeObserver(function(){setTimeout(ee)}),U.observe(c)):window.addEventListener("resize",ee,!1);function Q(){U?U.disconnect():window.removeEventListener("resize",ee),c.removeChild(H)}return ee(),{canvas:H,onDestroy:Q}}function Si(c,v){function A(H){try{return c.getContext(H,v)}catch{return null}}return A("webgl")||A("experimental-webgl")||A("webgl-experimental")}function jn(c){return typeof c.nodeName=="string"&&typeof c.appendChild=="function"&&typeof c.getBoundingClientRect=="function"}function Yi(c){return typeof c.drawArrays=="function"||typeof c.drawElements=="function"}function Ga(c){return typeof c=="string"?c.split():(y(Array.isArray(c),"invalid extension array"),c)}function $a(c){return typeof c=="string"?(y(typeof document<"u","not supported outside of DOM"),document.querySelector(c)):c}function Qi(c){var v=c||{},A,H,ee,U,Q={},ce=[],ue=[],pe=typeof window>"u"?1:window.devicePixelRatio,ge=!1,ve=function(me){me&&y.raise(me)},Se=function(){};if(typeof v=="string"?(y(typeof document<"u","selector queries only supported in DOM enviroments"),A=document.querySelector(v),y(A,"invalid query string for element")):typeof v=="object"?jn(v)?A=v:Yi(v)?(U=v,ee=U.canvas):(y.constructor(v),"gl"in v?U=v.gl:"canvas"in v?ee=$a(v.canvas):"container"in v&&(H=$a(v.container)),"attributes"in v&&(Q=v.attributes,y.type(Q,"object","invalid context attributes")),"extensions"in v&&(ce=Ga(v.extensions)),"optionalExtensions"in v&&(ue=Ga(v.optionalExtensions)),"onDone"in v&&(y.type(v.onDone,"function","invalid or missing onDone callback"),ve=v.onDone),"profile"in v&&(ge=!!v.profile),"pixelRatio"in v&&(pe=+v.pixelRatio,y(pe>0,"invalid pixel ratio"))):y.raise("invalid arguments to regl"),A&&(A.nodeName.toLowerCase()==="canvas"?ee=A:H=A),!U){if(!ee){y(typeof document<"u","must manually specify webgl context outside of DOM environments");var fe=Or(H||document.body,ve,pe);if(!fe)return null;ee=fe.canvas,Se=fe.onDestroy}Q.premultipliedAlpha===void 0&&(Q.premultipliedAlpha=!0),U=Si(ee,Q)}return U?{gl:U,canvas:ee,container:H,extensions:ce,optionalExtensions:ue,pixelRatio:pe,profile:ge,onDone:ve,onDestroy:Se}:(Se(),ve("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null)}function Ki(c,v){var A={};function H(Q){y.type(Q,"string","extension name must be string");var ce=Q.toLowerCase(),ue;try{ue=A[ce]=c.getExtension(ce)}catch{}return!!ue}for(var ee=0;ee<v.extensions.length;++ee){var U=v.extensions[ee];if(!H(U))return v.onDestroy(),v.onDone('"'+U+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null}return v.optionalExtensions.forEach(H),{extensions:A,restore:function(){Object.keys(A).forEach(function(Q){if(A[Q]&&!H(Q))throw new Error("(regl): error restoring extension "+Q)})}}}function fn(c,v){for(var A=Array(c),H=0;H<c;++H)A[H]=v(H);return A}var vr=5120,ss=5121,Wo=5122,Xo=5123,us=5124,za=5125,qi=5126;function Yo(c){for(var v=16;v<=1<<28;v*=16)if(c<=v)return v;return 0}function Zi(c){var v,A;return v=(c>65535)<<4,c>>>=v,A=(c>255)<<3,c>>>=A,v|=A,A=(c>15)<<2,c>>>=A,v|=A,A=(c>3)<<1,c>>>=A,v|=A,v|c>>1}function Ua(){var c=fn(8,function(){return[]});function v(U){var Q=Yo(U),ce=c[Zi(Q)>>2];return ce.length>0?ce.pop():new ArrayBuffer(Q)}function A(U){c[Zi(U.byteLength)>>2].push(U)}function H(U,Q){var ce=null;switch(U){case vr:ce=new Int8Array(v(Q),0,Q);break;case ss:ce=new Uint8Array(v(Q),0,Q);break;case Wo:ce=new Int16Array(v(2*Q),0,Q);break;case Xo:ce=new Uint16Array(v(2*Q),0,Q);break;case us:ce=new Int32Array(v(4*Q),0,Q);break;case za:ce=new Uint32Array(v(4*Q),0,Q);break;case qi:ce=new Float32Array(v(4*Q),0,Q);break;default:return null}return ce.length!==Q?ce.subarray(0,Q):ce}function ee(U){A(U.buffer)}return{alloc:v,free:A,allocType:H,freeType:ee}}var pt=Ua();pt.zero=Ua();var wi=3408,Va=3410,rc=3411,ni=3412,ri=3413,ii=3414,ic=3415,yr=33901,cs=33902,Qo=3379,fs=3386,Ko=34921,Ha=36347,Wa=36348,Xa=35661,Ya=35660,Ti=34930,qo=36349,ds=34076,hs=34024,oc=7936,Ji=7937,eo=7938,Qa=35724,to=34047,ms=36063,ar=34852,oi=3553,ai=34067,Ai=34069,On=33984,Pr=6408,In=5126,gn=5121,no=36160,Ka=36053,qa=36064,Za=16384,ac=function(c,v){var A=1;v.ext_texture_filter_anisotropic&&(A=c.getParameter(to));var H=1,ee=1;v.webgl_draw_buffers&&(H=c.getParameter(ar),ee=c.getParameter(ms));var U=!!v.oes_texture_float;if(U){var Q=c.createTexture();c.bindTexture(oi,Q),c.texImage2D(oi,0,Pr,1,1,0,Pr,In,null);var ce=c.createFramebuffer();if(c.bindFramebuffer(no,ce),c.framebufferTexture2D(no,qa,oi,Q,0),c.bindTexture(oi,null),c.checkFramebufferStatus(no)!==Ka)U=!1;else{c.viewport(0,0,1,1),c.clearColor(1,0,0,1),c.clear(Za);var ue=pt.allocType(In,4);c.readPixels(0,0,1,1,Pr,In,ue),c.getError()?U=!1:(c.deleteFramebuffer(ce),c.deleteTexture(Q),U=ue[0]===1),pt.freeType(ue)}}var pe=typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion)||/Edge/.test(navigator.userAgent)),ge=!0;if(!pe){var ve=c.createTexture(),Se=pt.allocType(gn,36);c.activeTexture(On),c.bindTexture(ai,ve),c.texImage2D(Ai,0,Pr,3,3,0,Pr,gn,Se),pt.freeType(Se),c.bindTexture(ai,null),c.deleteTexture(ve),ge=!c.getError()}return{colorBits:[c.getParameter(Va),c.getParameter(rc),c.getParameter(ni),c.getParameter(ri)],depthBits:c.getParameter(ii),stencilBits:c.getParameter(ic),subpixelBits:c.getParameter(wi),extensions:Object.keys(v).filter(function(fe){return!!v[fe]}),maxAnisotropic:A,maxDrawbuffers:H,maxColorAttachments:ee,pointSizeDims:c.getParameter(yr),lineWidthDims:c.getParameter(cs),maxViewportDims:c.getParameter(fs),maxCombinedTextureUnits:c.getParameter(Xa),maxCubeMapSize:c.getParameter(ds),maxRenderbufferSize:c.getParameter(hs),maxTextureUnits:c.getParameter(Ti),maxTextureSize:c.getParameter(Qo),maxAttributes:c.getParameter(Ko),maxVertexUniforms:c.getParameter(Ha),maxVertexTextureUnits:c.getParameter(Ya),maxVaryingVectors:c.getParameter(Wa),maxFragmentUniforms:c.getParameter(qo),glsl:c.getParameter(Qa),renderer:c.getParameter(Ji),vendor:c.getParameter(oc),version:c.getParameter(eo),readFloat:U,npotTextureCube:ge}};function lr(c){return!!c&&typeof c=="object"&&Array.isArray(c.shape)&&Array.isArray(c.stride)&&typeof c.offset=="number"&&c.shape.length===c.stride.length&&(Array.isArray(c.data)||n(c.data))}var Jn=function(c){return Object.keys(c).map(function(v){return c[v]})},gr={shape:xh,flatten:gh};function lc(c,v,A){for(var H=0;H<v;++H)A[H]=c[H]}function ps(c,v,A,H){for(var ee=0,U=0;U<v;++U)for(var Q=c[U],ce=0;ce<A;++ce)H[ee++]=Q[ce]}function Ja(c,v,A,H,ee,U){for(var Q=U,ce=0;ce<v;++ce)for(var ue=c[ce],pe=0;pe<A;++pe)for(var ge=ue[pe],ve=0;ve<H;++ve)ee[Q++]=ge[ve]}function vs(c,v,A,H,ee){for(var U=1,Q=A+1;Q<v.length;++Q)U*=v[Q];var ce=v[A];if(v.length-A===4){var ue=v[A+1],pe=v[A+2],ge=v[A+3];for(Q=0;Q<ce;++Q)Ja(c[Q],ue,pe,ge,H,ee),ee+=U}else for(Q=0;Q<ce;++Q)vs(c[Q],v,A+1,H,ee),ee+=U}function gh(c,v,A,H){var ee=1;if(v.length)for(var U=0;U<v.length;++U)ee*=v[U];else ee=0;var Q=H||pt.allocType(A,ee);switch(v.length){case 0:break;case 1:lc(c,v[0],Q);break;case 2:ps(c,v[0],v[1],Q);break;case 3:Ja(c,v[0],v[1],v[2],Q,0);break;default:vs(c,v,0,Q,0)}return Q}function xh(c){for(var v=[],A=c;A.length;A=A[0])v.push(A.length);return v}var ro={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},Zo=5120,Ci=5122,el=5124,Eh=5121,tl=5123,io=5125,Jo=5126,ys=5126,oo={int8:Zo,int16:Ci,int32:el,uint8:Eh,uint16:tl,uint32:io,float:Jo,float32:ys},qv=35048,Tn=35040,nl={dynamic:qv,stream:Tn,static:35044},ea=gr.flatten,sc=gr.shape,gs=35044,xs=35040,rl=5121,il=5126,Hr=[];Hr[5120]=1,Hr[5122]=2,Hr[5124]=4,Hr[5121]=1,Hr[5123]=2,Hr[5125]=4,Hr[5126]=4;function ta(c){return ro[Object.prototype.toString.call(c)]|0}function ol(c,v){for(var A=0;A<v.length;++A)c[A]=v[A]}function Es(c,v,A,H,ee,U,Q){for(var ce=0,ue=0;ue<A;++ue)for(var pe=0;pe<H;++pe)c[ce++]=v[ee*ue+U*pe+Q]}function _s(c,v,A,H){var ee=0,U={};function Q(D){this.id=ee++,this.buffer=c.createBuffer(),this.type=D,this.usage=gs,this.byteLength=0,this.dimension=1,this.dtype=rl,this.persistentData=null,A.profile&&(this.stats={size:0})}Q.prototype.bind=function(){c.bindBuffer(this.type,this.buffer)},Q.prototype.destroy=function(){Se(this)};var ce=[];function ue(D,X){var he=ce.pop();return he||(he=new Q(D)),he.bind(),ve(he,X,xs,0,1,!1),he}function pe(D){ce.push(D)}function ge(D,X,he){D.byteLength=X.byteLength,c.bufferData(D.type,X,he)}function ve(D,X,he,De,ae,ke){var Re;if(D.usage=he,Array.isArray(X)){if(D.dtype=De||il,X.length>0){var Ze;if(Array.isArray(X[0])){Re=sc(X);for(var te=1,J=1;J<Re.length;++J)te*=Re[J];D.dimension=te,Ze=ea(X,Re,D.dtype),ge(D,Ze,he),ke?D.persistentData=Ze:pt.freeType(Ze)}else if(typeof X[0]=="number"){D.dimension=ae;var ze=pt.allocType(D.dtype,X.length);ol(ze,X),ge(D,ze,he),ke?D.persistentData=ze:pt.freeType(ze)}else n(X[0])?(D.dimension=X[0].length,D.dtype=De||ta(X[0])||il,Ze=ea(X,[X.length,X[0].length],D.dtype),ge(D,Ze,he),ke?D.persistentData=Ze:pt.freeType(Ze)):y.raise("invalid buffer data")}}else if(n(X))D.dtype=De||ta(X),D.dimension=ae,ge(D,X,he),ke&&(D.persistentData=new Uint8Array(new Uint8Array(X.buffer)));else if(lr(X)){Re=X.shape;var Te=X.stride,de=X.offset,Ae=0,be=0,st=0,lt=0;Re.length===1?(Ae=Re[0],be=1,st=Te[0],lt=0):Re.length===2?(Ae=Re[0],be=Re[1],st=Te[0],lt=Te[1]):y.raise("invalid shape"),D.dtype=De||ta(X.data)||il,D.dimension=be;var Oe=pt.allocType(D.dtype,Ae*be);Es(Oe,X.data,Ae,be,st,lt,de),ge(D,Oe,he),ke?D.persistentData=Oe:pt.freeType(Oe)}else X instanceof ArrayBuffer?(D.dtype=rl,D.dimension=ae,ge(D,X,he),ke&&(D.persistentData=new Uint8Array(new Uint8Array(X)))):y.raise("invalid buffer data")}function Se(D){v.bufferCount--,H(D);var X=D.buffer;y(X,"buffer must not be deleted already"),c.deleteBuffer(X),D.buffer=null,delete U[D.id]}function fe(D,X,he,De){v.bufferCount++;var ae=new Q(X);U[ae.id]=ae;function ke(te){var J=gs,ze=null,Te=0,de=0,Ae=1;return Array.isArray(te)||n(te)||lr(te)||te instanceof ArrayBuffer?ze=te:typeof te=="number"?Te=te|0:te&&(y.type(te,"object","buffer arguments must be an object, a number or an array"),"data"in te&&(y(ze===null||Array.isArray(ze)||n(ze)||lr(ze),"invalid data for buffer"),ze=te.data),"usage"in te&&(y.parameter(te.usage,nl,"invalid buffer usage"),J=nl[te.usage]),"type"in te&&(y.parameter(te.type,oo,"invalid buffer type"),de=oo[te.type]),"dimension"in te&&(y.type(te.dimension,"number","invalid dimension"),Ae=te.dimension|0),"length"in te&&(y.nni(Te,"buffer length must be a nonnegative integer"),Te=te.length|0)),ae.bind(),ze?ve(ae,ze,J,de,Ae,De):(Te&&c.bufferData(ae.type,Te,J),ae.dtype=de||rl,ae.usage=J,ae.dimension=Ae,ae.byteLength=Te),A.profile&&(ae.stats.size=ae.byteLength*Hr[ae.dtype]),ke}function Re(te,J){y(J+te.byteLength<=ae.byteLength,"invalid buffer subdata call, buffer is too small.  Can't write data of size "+te.byteLength+" starting from offset "+J+" to a buffer of size "+ae.byteLength),c.bufferSubData(ae.type,J,te)}function Ze(te,J){var ze=(J||0)|0,Te;if(ae.bind(),n(te)||te instanceof ArrayBuffer)Re(te,ze);else if(Array.isArray(te)){if(te.length>0)if(typeof te[0]=="number"){var de=pt.allocType(ae.dtype,te.length);ol(de,te),Re(de,ze),pt.freeType(de)}else if(Array.isArray(te[0])||n(te[0])){Te=sc(te);var Ae=ea(te,Te,ae.dtype);Re(Ae,ze),pt.freeType(Ae)}else y.raise("invalid buffer data")}else if(lr(te)){Te=te.shape;var be=te.stride,st=0,lt=0,Oe=0,Ie=0;Te.length===1?(st=Te[0],lt=1,Oe=be[0],Ie=0):Te.length===2?(st=Te[0],lt=Te[1],Oe=be[0],Ie=be[1]):y.raise("invalid shape");var it=Array.isArray(te.data)?ae.dtype:ta(te.data),ut=pt.allocType(it,st*lt);Es(ut,te.data,st,lt,Oe,Ie,te.offset),Re(ut,ze),pt.freeType(ut)}else y.raise("invalid data for buffer subdata");return ke}return he||ke(D),ke._reglType="buffer",ke._buffer=ae,ke.subdata=Ze,A.profile&&(ke.stats=ae.stats),ke.destroy=function(){Se(ae)},ke}function me(){Jn(U).forEach(function(D){D.buffer=c.createBuffer(),c.bindBuffer(D.type,D.buffer),c.bufferData(D.type,D.persistentData||D.byteLength,D.usage)})}return A.profile&&(v.getTotalBufferSize=function(){var D=0;return Object.keys(U).forEach(function(X){D+=U[X].stats.size}),D}),{create:fe,createStream:ue,destroyStream:pe,clear:function(){Jn(U).forEach(Se),ce.forEach(Se)},getBuffer:function(D){return D&&D._buffer instanceof Q?D._buffer:null},restore:me,_initBuffer:ve}}var _h=0,Ss=0,Sh=1,ws=1,wh=4,Th=4,li={points:_h,point:Ss,lines:Sh,line:ws,triangles:wh,triangle:Th,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},Ah=0,bi=1,Li=4,Ch=5120,si=5121,uc=5122,ao=5123,cc=5124,Wr=5125,Ts=34963,bh=35040,As=35044;function Cs(c,v,A,H){var ee={},U=0,Q={uint8:si,uint16:ao};v.oes_element_index_uint&&(Q.uint32=Wr);function ce(me){this.id=U++,ee[this.id]=this,this.buffer=me,this.primType=Li,this.vertCount=0,this.type=0}ce.prototype.bind=function(){this.buffer.bind()};var ue=[];function pe(me){var D=ue.pop();return D||(D=new ce(A.create(null,Ts,!0,!1)._buffer)),ve(D,me,bh,-1,-1,0,0),D}function ge(me){ue.push(me)}function ve(me,D,X,he,De,ae,ke){me.buffer.bind();var Re;if(D){var Ze=ke;!ke&&(!n(D)||lr(D)&&!n(D.data))&&(Ze=v.oes_element_index_uint?Wr:ao),A._initBuffer(me.buffer,D,X,Ze,3)}else c.bufferData(Ts,ae,X),me.buffer.dtype=Re||si,me.buffer.usage=X,me.buffer.dimension=3,me.buffer.byteLength=ae;if(Re=ke,!ke){switch(me.buffer.dtype){case si:case Ch:Re=si;break;case ao:case uc:Re=ao;break;case Wr:case cc:Re=Wr;break;default:y.raise("unsupported type for element array")}me.buffer.dtype=Re}me.type=Re,y(Re!==Wr||!!v.oes_element_index_uint,"32 bit element buffers not supported, enable oes_element_index_uint first");var te=De;te<0&&(te=me.buffer.byteLength,Re===ao?te>>=1:Re===Wr&&(te>>=2)),me.vertCount=te;var J=he;if(he<0){J=Li;var ze=me.buffer.dimension;ze===1&&(J=Ah),ze===2&&(J=bi),ze===3&&(J=Li)}me.primType=J}function Se(me){H.elementsCount--,y(me.buffer!==null,"must not double destroy elements"),delete ee[me.id],me.buffer.destroy(),me.buffer=null}function fe(me,D){var X=A.create(null,Ts,!0),he=new ce(X._buffer);H.elementsCount++;function De(ae){if(!ae)X(),he.primType=Li,he.vertCount=0,he.type=si;else if(typeof ae=="number")X(ae),he.primType=Li,he.vertCount=ae|0,he.type=si;else{var ke=null,Re=As,Ze=-1,te=-1,J=0,ze=0;Array.isArray(ae)||n(ae)||lr(ae)?ke=ae:(y.type(ae,"object","invalid arguments for elements"),"data"in ae&&(ke=ae.data,y(Array.isArray(ke)||n(ke)||lr(ke),"invalid data for element buffer")),"usage"in ae&&(y.parameter(ae.usage,nl,"invalid element buffer usage"),Re=nl[ae.usage]),"primitive"in ae&&(y.parameter(ae.primitive,li,"invalid element buffer primitive"),Ze=li[ae.primitive]),"count"in ae&&(y(typeof ae.count=="number"&&ae.count>=0,"invalid vertex count for elements"),te=ae.count|0),"type"in ae&&(y.parameter(ae.type,Q,"invalid buffer type"),ze=Q[ae.type]),"length"in ae?J=ae.length|0:(J=te,ze===ao||ze===uc?J*=2:(ze===Wr||ze===cc)&&(J*=4))),ve(he,ke,Re,Ze,te,J,ze)}return De}return De(me),De._reglType="elements",De._elements=he,De.subdata=function(ae,ke){return X.subdata(ae,ke),De},De.destroy=function(){Se(he)},De}return{create:fe,createStream:pe,destroyStream:ge,getElements:function(me){return typeof me=="function"&&me._elements instanceof ce?me._elements:null},clear:function(){Jn(ee).forEach(Se)}}}var fc=new Float32Array(1),Lh=new Uint32Array(fc.buffer),Rh=5123;function dc(c){for(var v=pt.allocType(Rh,c.length),A=0;A<c.length;++A)if(isNaN(c[A]))v[A]=65535;else if(c[A]===1/0)v[A]=31744;else if(c[A]===-1/0)v[A]=64512;else{fc[0]=c[A];var H=Lh[0],ee=H>>>31<<15,U=(H<<1>>>24)-127,Q=H>>13&1023;if(U<-24)v[A]=ee;else if(U<-14){var ce=-14-U;v[A]=ee+(Q+1024>>ce)}else U>15?v[A]=ee+31744:v[A]=ee+(U+15<<10)+Q}return v}function Zt(c){return Array.isArray(c)||n(c)}var hc=function(c){return!(c&c-1)&&!!c},Oh=34467,kr=3553,bs=34067,al=34069,Ri=6408,Ls=6406,ll=6407,Oi=6409,sl=6410,mc=32854,Rs=32855,Os=36194,Ph=32819,kh=32820,Nh=33635,pc=34042,ul=6402,na=34041,ra=35904,ia=35906,lo=36193,Pi=33776,Ps=33777,ks=33778,Ns=33779,vc=35986,yc=35987,gc=34798,xc=35840,Ec=35841,_c=35842,Sc=35843,wc=36196,so=5121,Is=5123,Ms=5125,xr=5126,Ih=10242,Mh=10243,Dh=10497,Ds=33071,Fh=33648,Bh=10240,jh=10241,Fs=9728,Gh=9729,cl=9984,Bs=9985,Tc=9986,js=9987,$h=33170,oa=4352,Ac=4353,zh=4354,Uh=34046,Vh=3317,Hh=37440,Wh=37441,Xh=37443,uo=37444,aa=33984,Cc=[cl,Tc,Bs,js],la=[0,Oi,sl,ll,Ri],Er={};Er[Oi]=Er[Ls]=Er[ul]=1,Er[na]=Er[sl]=2,Er[ll]=Er[ra]=3,Er[Ri]=Er[ia]=4;function co(c){return"[object "+c+"]"}var bc=co("HTMLCanvasElement"),Lc=co("OffscreenCanvas"),Rc=co("CanvasRenderingContext2D"),Oc=co("ImageBitmap"),Pc=co("HTMLImageElement"),fl=co("HTMLVideoElement"),Yh=Object.keys(ro).concat([bc,Lc,Rc,Oc,Pc,fl]),fo=[];fo[so]=1,fo[xr]=4,fo[lo]=2,fo[Is]=2,fo[Ms]=4;var An=[];An[mc]=2,An[Rs]=2,An[Os]=2,An[na]=4,An[Pi]=.5,An[Ps]=.5,An[ks]=1,An[Ns]=1,An[vc]=.5,An[yc]=1,An[gc]=1,An[xc]=.5,An[Ec]=.25,An[_c]=.5,An[Sc]=.25,An[wc]=.5;function kc(c){return Array.isArray(c)&&(c.length===0||typeof c[0]=="number")}function Gs(c){if(!Array.isArray(c))return!1;var v=c.length;return!(v===0||!Zt(c[0]))}function ki(c){return Object.prototype.toString.call(c)}function $s(c){return ki(c)===bc}function Nc(c){return ki(c)===Lc}function Qh(c){return ki(c)===Rc}function zs(c){return ki(c)===Oc}function Ic(c){return ki(c)===Pc}function Mc(c){return ki(c)===fl}function Us(c){if(!c)return!1;var v=ki(c);return Yh.indexOf(v)>=0?!0:kc(c)||Gs(c)||lr(c)}function Dc(c){return ro[Object.prototype.toString.call(c)]|0}function Kh(c,v){var A=v.length;switch(c.type){case so:case Is:case Ms:case xr:var H=pt.allocType(c.type,A);H.set(v),c.data=H;break;case lo:c.data=dc(v);break;default:y.raise("unsupported texture type, must specify a typed array")}}function Fc(c,v){return pt.allocType(c.type===lo?xr:c.type,v)}function Bc(c,v){c.type===lo?(c.data=dc(v),pt.freeType(v)):c.data=v}function jc(c,v,A,H,ee,U){for(var Q=c.width,ce=c.height,ue=c.channels,pe=Q*ce*ue,ge=Fc(c,pe),ve=0,Se=0;Se<ce;++Se)for(var fe=0;fe<Q;++fe)for(var me=0;me<ue;++me)ge[ve++]=v[A*fe+H*Se+ee*me+U];Bc(c,ge)}function dl(c,v,A,H,ee,U){var Q;if(typeof An[c]<"u"?Q=An[c]:Q=Er[c]*fo[v],U&&(Q*=6),ee){for(var ce=0,ue=A;ue>=1;)ce+=Q*ue*ue,ue/=2;return ce}else return Q*A*H}function qh(c,v,A,H,ee,U,Q){var ce={"don't care":oa,"dont care":oa,nice:zh,fast:Ac},ue={repeat:Dh,clamp:Ds,mirror:Fh},pe={nearest:Fs,linear:Gh},ge=r({mipmap:js,"nearest mipmap nearest":cl,"linear mipmap nearest":Bs,"nearest mipmap linear":Tc,"linear mipmap linear":js},pe),ve={none:0,browser:uo},Se={uint8:so,rgba4:Ph,rgb565:Nh,"rgb5 a1":kh},fe={alpha:Ls,luminance:Oi,"luminance alpha":sl,rgb:ll,rgba:Ri,rgba4:mc,"rgb5 a1":Rs,rgb565:Os},me={};v.ext_srgb&&(fe.srgb=ra,fe.srgba=ia),v.oes_texture_float&&(Se.float32=Se.float=xr),v.oes_texture_half_float&&(Se.float16=Se["half float"]=lo),v.webgl_depth_texture&&(r(fe,{depth:ul,"depth stencil":na}),r(Se,{uint16:Is,uint32:Ms,"depth stencil":pc})),v.webgl_compressed_texture_s3tc&&r(me,{"rgb s3tc dxt1":Pi,"rgba s3tc dxt1":Ps,"rgba s3tc dxt3":ks,"rgba s3tc dxt5":Ns}),v.webgl_compressed_texture_atc&&r(me,{"rgb atc":vc,"rgba atc explicit alpha":yc,"rgba atc interpolated alpha":gc}),v.webgl_compressed_texture_pvrtc&&r(me,{"rgb pvrtc 4bppv1":xc,"rgb pvrtc 2bppv1":Ec,"rgba pvrtc 4bppv1":_c,"rgba pvrtc 2bppv1":Sc}),v.webgl_compressed_texture_etc1&&(me["rgb etc1"]=wc);var D=Array.prototype.slice.call(c.getParameter(Oh));Object.keys(me).forEach(function(S){var W=me[S];D.indexOf(W)>=0&&(fe[S]=W)});var X=Object.keys(fe);A.textureFormats=X;var he=[];Object.keys(fe).forEach(function(S){var W=fe[S];he[W]=S});var De=[];Object.keys(Se).forEach(function(S){var W=Se[S];De[W]=S});var ae=[];Object.keys(pe).forEach(function(S){var W=pe[S];ae[W]=S});var ke=[];Object.keys(ge).forEach(function(S){var W=ge[S];ke[W]=S});var Re=[];Object.keys(ue).forEach(function(S){var W=ue[S];Re[W]=S});var Ze=X.reduce(function(S,W){var z=fe[W];return z===Oi||z===Ls||z===Oi||z===sl||z===ul||z===na||v.ext_srgb&&(z===ra||z===ia)?S[z]=z:z===Rs||W.indexOf("rgba")>=0?S[z]=Ri:S[z]=ll,S},{});function te(){this.internalformat=Ri,this.format=Ri,this.type=so,this.compressed=!1,this.premultiplyAlpha=!1,this.flipY=!1,this.unpackAlignment=1,this.colorSpace=uo,this.width=0,this.height=0,this.channels=0}function J(S,W){S.internalformat=W.internalformat,S.format=W.format,S.type=W.type,S.compressed=W.compressed,S.premultiplyAlpha=W.premultiplyAlpha,S.flipY=W.flipY,S.unpackAlignment=W.unpackAlignment,S.colorSpace=W.colorSpace,S.width=W.width,S.height=W.height,S.channels=W.channels}function ze(S,W){if(!(typeof W!="object"||!W)){if("premultiplyAlpha"in W&&(y.type(W.premultiplyAlpha,"boolean","invalid premultiplyAlpha"),S.premultiplyAlpha=W.premultiplyAlpha),"flipY"in W&&(y.type(W.flipY,"boolean","invalid texture flip"),S.flipY=W.flipY),"alignment"in W&&(y.oneOf(W.alignment,[1,2,4,8],"invalid texture unpack alignment"),S.unpackAlignment=W.alignment),"colorSpace"in W&&(y.parameter(W.colorSpace,ve,"invalid colorSpace"),S.colorSpace=ve[W.colorSpace]),"type"in W){var z=W.type;y(v.oes_texture_float||!(z==="float"||z==="float32"),"you must enable the OES_texture_float extension in order to use floating point textures."),y(v.oes_texture_half_float||!(z==="half float"||z==="float16"),"you must enable the OES_texture_half_float extension in order to use 16-bit floating point textures."),y(v.webgl_depth_texture||!(z==="uint16"||z==="uint32"||z==="depth stencil"),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),y.parameter(z,Se,"invalid texture type"),S.type=Se[z]}var $e=S.width,xt=S.height,g=S.channels,d=!1;"shape"in W?(y(Array.isArray(W.shape)&&W.shape.length>=2,"shape must be an array"),$e=W.shape[0],xt=W.shape[1],W.shape.length===3&&(g=W.shape[2],y(g>0&&g<=4,"invalid number of channels"),d=!0),y($e>=0&&$e<=A.maxTextureSize,"invalid width"),y(xt>=0&&xt<=A.maxTextureSize,"invalid height")):("radius"in W&&($e=xt=W.radius,y($e>=0&&$e<=A.maxTextureSize,"invalid radius")),"width"in W&&($e=W.width,y($e>=0&&$e<=A.maxTextureSize,"invalid width")),"height"in W&&(xt=W.height,y(xt>=0&&xt<=A.maxTextureSize,"invalid height")),"channels"in W&&(g=W.channels,y(g>0&&g<=4,"invalid number of channels"),d=!0)),S.width=$e|0,S.height=xt|0,S.channels=g|0;var b=!1;if("format"in W){var M=W.format;y(v.webgl_depth_texture||!(M==="depth"||M==="depth stencil"),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),y.parameter(M,fe,"invalid texture format");var F=S.internalformat=fe[M];S.format=Ze[F],M in Se&&("type"in W||(S.type=Se[M])),M in me&&(S.compressed=!0),b=!0}!d&&b?S.channels=Er[S.format]:d&&!b?S.channels!==la[S.format]&&(S.format=S.internalformat=la[S.channels]):b&&d&&y(S.channels===Er[S.format],"number of channels inconsistent with specified format")}}function Te(S){c.pixelStorei(Hh,S.flipY),c.pixelStorei(Wh,S.premultiplyAlpha),c.pixelStorei(Xh,S.colorSpace),c.pixelStorei(Vh,S.unpackAlignment)}function de(){te.call(this),this.xOffset=0,this.yOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1}function Ae(S,W){var z=null;if(Us(W)?z=W:W&&(y.type(W,"object","invalid pixel data type"),ze(S,W),"x"in W&&(S.xOffset=W.x|0),"y"in W&&(S.yOffset=W.y|0),Us(W.data)&&(z=W.data)),y(!S.compressed||z instanceof Uint8Array,"compressed texture data must be stored in a uint8array"),W.copy){y(!z,"can not specify copy and data field for the same texture");var $e=ee.viewportWidth,xt=ee.viewportHeight;S.width=S.width||$e-S.xOffset,S.height=S.height||xt-S.yOffset,S.needsCopy=!0,y(S.xOffset>=0&&S.xOffset<$e&&S.yOffset>=0&&S.yOffset<xt&&S.width>0&&S.width<=$e&&S.height>0&&S.height<=xt,"copy texture read out of bounds")}else if(!z)S.width=S.width||1,S.height=S.height||1,S.channels=S.channels||4;else if(n(z))S.channels=S.channels||4,S.data=z,!("type"in W)&&S.type===so&&(S.type=Dc(z));else if(kc(z))S.channels=S.channels||4,Kh(S,z),S.alignment=1,S.needsFree=!0;else if(lr(z)){var g=z.data;!Array.isArray(g)&&S.type===so&&(S.type=Dc(g));var d=z.shape,b=z.stride,M,F,P,R,I,E;d.length===3?(P=d[2],E=b[2]):(y(d.length===2,"invalid ndarray pixel data, must be 2 or 3D"),P=1,E=1),M=d[0],F=d[1],R=b[0],I=b[1],S.alignment=1,S.width=M,S.height=F,S.channels=P,S.format=S.internalformat=la[P],S.needsFree=!0,jc(S,g,R,I,E,z.offset)}else if($s(z)||Nc(z)||Qh(z))$s(z)||Nc(z)?S.element=z:S.element=z.canvas,S.width=S.element.width,S.height=S.element.height,S.channels=4;else if(zs(z))S.element=z,S.width=z.width,S.height=z.height,S.channels=4;else if(Ic(z))S.element=z,S.width=z.naturalWidth,S.height=z.naturalHeight,S.channels=4;else if(Mc(z))S.element=z,S.width=z.videoWidth,S.height=z.videoHeight,S.channels=4;else if(Gs(z)){var w=S.width||z[0].length,_=S.height||z.length,$=S.channels;Zt(z[0][0])?$=$||z[0][0].length:$=$||1;for(var B=gr.shape(z),Z=1,ne=0;ne<B.length;++ne)Z*=B[ne];var _e=Fc(S,Z);gr.flatten(z,B,"",_e),Bc(S,_e),S.alignment=1,S.width=w,S.height=_,S.channels=$,S.format=S.internalformat=la[$],S.needsFree=!0}S.type===xr?y(A.extensions.indexOf("oes_texture_float")>=0,"oes_texture_float extension not enabled"):S.type===lo&&y(A.extensions.indexOf("oes_texture_half_float")>=0,"oes_texture_half_float extension not enabled")}function be(S,W,z){var $e=S.element,xt=S.data,g=S.internalformat,d=S.format,b=S.type,M=S.width,F=S.height;Te(S),$e?c.texImage2D(W,z,d,d,b,$e):S.compressed?c.compressedTexImage2D(W,z,g,M,F,0,xt):S.needsCopy?(H(),c.copyTexImage2D(W,z,d,S.xOffset,S.yOffset,M,F,0)):c.texImage2D(W,z,d,M,F,0,d,b,xt||null)}function st(S,W,z,$e,xt){var g=S.element,d=S.data,b=S.internalformat,M=S.format,F=S.type,P=S.width,R=S.height;Te(S),g?c.texSubImage2D(W,xt,z,$e,M,F,g):S.compressed?c.compressedTexSubImage2D(W,xt,z,$e,b,P,R,d):S.needsCopy?(H(),c.copyTexSubImage2D(W,xt,z,$e,S.xOffset,S.yOffset,P,R)):c.texSubImage2D(W,xt,z,$e,P,R,M,F,d)}var lt=[];function Oe(){return lt.pop()||new de}function Ie(S){S.needsFree&&pt.freeType(S.data),de.call(S),lt.push(S)}function it(){te.call(this),this.genMipmaps=!1,this.mipmapHint=oa,this.mipmask=0,this.images=Array(16)}function ut(S,W,z){var $e=S.images[0]=Oe();S.mipmask=1,$e.width=S.width=W,$e.height=S.height=z,$e.channels=S.channels=4}function St(S,W){var z=null;if(Us(W))z=S.images[0]=Oe(),J(z,S),Ae(z,W),S.mipmask=1;else if(ze(S,W),Array.isArray(W.mipmap))for(var $e=W.mipmap,xt=0;xt<$e.length;++xt)z=S.images[xt]=Oe(),J(z,S),z.width>>=xt,z.height>>=xt,Ae(z,$e[xt]),S.mipmask|=1<<xt;else z=S.images[0]=Oe(),J(z,S),Ae(z,W),S.mipmask=1;J(S,S.images[0]),S.compressed&&(S.internalformat===Pi||S.internalformat===Ps||S.internalformat===ks||S.internalformat===Ns)&&y(S.width%4===0&&S.height%4===0,"for compressed texture formats, mipmap level 0 must have width and height that are a multiple of 4")}function tn(S,W){for(var z=S.images,$e=0;$e<z.length;++$e){if(!z[$e])return;be(z[$e],W,$e)}}var rn=[];function Tt(){var S=rn.pop()||new it;te.call(S),S.mipmask=0;for(var W=0;W<16;++W)S.images[W]=null;return S}function Cn(S){for(var W=S.images,z=0;z<W.length;++z)W[z]&&Ie(W[z]),W[z]=null;rn.push(S)}function Jt(){this.minFilter=Fs,this.magFilter=Fs,this.wrapS=Ds,this.wrapT=Ds,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=oa}function _n(S,W){if("min"in W){var z=W.min;y.parameter(z,ge),S.minFilter=ge[z],Cc.indexOf(S.minFilter)>=0&&!("faces"in W)&&(S.genMipmaps=!0)}if("mag"in W){var $e=W.mag;y.parameter($e,pe),S.magFilter=pe[$e]}var xt=S.wrapS,g=S.wrapT;if("wrap"in W){var d=W.wrap;typeof d=="string"?(y.parameter(d,ue),xt=g=ue[d]):Array.isArray(d)&&(y.parameter(d[0],ue),y.parameter(d[1],ue),xt=ue[d[0]],g=ue[d[1]])}else{if("wrapS"in W){var b=W.wrapS;y.parameter(b,ue),xt=ue[b]}if("wrapT"in W){var M=W.wrapT;y.parameter(M,ue),g=ue[M]}}if(S.wrapS=xt,S.wrapT=g,"anisotropic"in W){var F=W.anisotropic;y(typeof F=="number"&&F>=1&&F<=A.maxAnisotropic,"aniso samples must be between 1 and "),S.anisotropic=W.anisotropic}if("mipmap"in W){var P=!1;switch(typeof W.mipmap){case"string":y.parameter(W.mipmap,ce,"invalid mipmap hint"),S.mipmapHint=ce[W.mipmap],S.genMipmaps=!0,P=!0;break;case"boolean":P=S.genMipmaps=W.mipmap;break;case"object":y(Array.isArray(W.mipmap),"invalid mipmap type"),S.genMipmaps=!1,P=!0;break;default:y.raise("invalid mipmap type")}P&&!("min"in W)&&(S.minFilter=cl)}}function bn(S,W){c.texParameteri(W,jh,S.minFilter),c.texParameteri(W,Bh,S.magFilter),c.texParameteri(W,Ih,S.wrapS),c.texParameteri(W,Mh,S.wrapT),v.ext_texture_filter_anisotropic&&c.texParameteri(W,Uh,S.anisotropic),S.genMipmaps&&(c.hint($h,S.mipmapHint),c.generateMipmap(W))}var Ln=0,Mn={},Gn=A.maxTextureUnits,dn=Array(Gn).map(function(){return null});function ht(S){te.call(this),this.mipmask=0,this.internalformat=Ri,this.id=Ln++,this.refCount=1,this.target=S,this.texture=c.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new Jt,Q.profile&&(this.stats={size:0})}function $n(S){c.activeTexture(aa),c.bindTexture(S.target,S.texture)}function Dt(){var S=dn[0];S?c.bindTexture(S.target,S.texture):c.bindTexture(kr,null)}function rt(S){var W=S.texture;y(W,"must not double destroy texture");var z=S.unit,$e=S.target;z>=0&&(c.activeTexture(aa+z),c.bindTexture($e,null),dn[z]=null),c.deleteTexture(W),S.texture=null,S.params=null,S.pixels=null,S.refCount=0,delete Mn[S.id],U.textureCount--}r(ht.prototype,{bind:function(){var S=this;S.bindCount+=1;var W=S.unit;if(W<0){for(var z=0;z<Gn;++z){var $e=dn[z];if($e){if($e.bindCount>0)continue;$e.unit=-1}dn[z]=S,W=z;break}W>=Gn&&y.raise("insufficient number of texture units"),Q.profile&&U.maxTextureUnits<W+1&&(U.maxTextureUnits=W+1),S.unit=W,c.activeTexture(aa+W),c.bindTexture(S.target,S.texture)}return W},unbind:function(){this.bindCount-=1},decRef:function(){--this.refCount<=0&&rt(this)}});function wt(S,W){var z=new ht(kr);Mn[z.id]=z,U.textureCount++;function $e(d,b){var M=z.texInfo;Jt.call(M);var F=Tt();return typeof d=="number"?typeof b=="number"?ut(F,d|0,b|0):ut(F,d|0,d|0):d?(y.type(d,"object","invalid arguments to regl.texture"),_n(M,d),St(F,d)):ut(F,1,1),M.genMipmaps&&(F.mipmask=(F.width<<1)-1),z.mipmask=F.mipmask,J(z,F),y.texture2D(M,F,A),z.internalformat=F.internalformat,$e.width=F.width,$e.height=F.height,$n(z),tn(F,kr),bn(M,kr),Dt(),Cn(F),Q.profile&&(z.stats.size=dl(z.internalformat,z.type,F.width,F.height,M.genMipmaps,!1)),$e.format=he[z.internalformat],$e.type=De[z.type],$e.mag=ae[M.magFilter],$e.min=ke[M.minFilter],$e.wrapS=Re[M.wrapS],$e.wrapT=Re[M.wrapT],$e}function xt(d,b,M,F){y(!!d,"must specify image data");var P=b|0,R=M|0,I=F|0,E=Oe();return J(E,z),E.width=0,E.height=0,Ae(E,d),E.width=E.width||(z.width>>I)-P,E.height=E.height||(z.height>>I)-R,y(z.type===E.type&&z.format===E.format&&z.internalformat===E.internalformat,"incompatible format for texture.subimage"),y(P>=0&&R>=0&&P+E.width<=z.width&&R+E.height<=z.height,"texture.subimage write out of bounds"),y(z.mipmask&1<<I,"missing mipmap data"),y(E.data||E.element||E.needsCopy,"missing image data"),$n(z),st(E,kr,P,R,I),Dt(),Ie(E),$e}function g(d,b){var M=d|0,F=b|0||M;if(M===z.width&&F===z.height)return $e;$e.width=z.width=M,$e.height=z.height=F,$n(z);for(var P=0;z.mipmask>>P;++P){var R=M>>P,I=F>>P;if(!R||!I)break;c.texImage2D(kr,P,z.format,R,I,0,z.format,z.type,null)}return Dt(),Q.profile&&(z.stats.size=dl(z.internalformat,z.type,M,F,!1,!1)),$e}return $e(S,W),$e.subimage=xt,$e.resize=g,$e._reglType="texture2d",$e._texture=z,Q.profile&&($e.stats=z.stats),$e.destroy=function(){z.decRef()},$e}function Ot(S,W,z,$e,xt,g){var d=new ht(bs);Mn[d.id]=d,U.cubeCount++;var b=new Array(6);function M(R,I,E,w,_,$){var B,Z=d.texInfo;for(Jt.call(Z),B=0;B<6;++B)b[B]=Tt();if(typeof R=="number"||!R){var ne=R|0||1;for(B=0;B<6;++B)ut(b[B],ne,ne)}else if(typeof R=="object")if(I)St(b[0],R),St(b[1],I),St(b[2],E),St(b[3],w),St(b[4],_),St(b[5],$);else if(_n(Z,R),ze(d,R),"faces"in R){var _e=R.faces;for(y(Array.isArray(_e)&&_e.length===6,"cube faces must be a length 6 array"),B=0;B<6;++B)y(typeof _e[B]=="object"&&!!_e[B],"invalid input for cube map face"),J(b[B],d),St(b[B],_e[B])}else for(B=0;B<6;++B)St(b[B],R);else y.raise("invalid arguments to cube map");for(J(d,b[0]),y.optional(function(){A.npotTextureCube||y(hc(d.width)&&hc(d.height),"your browser does not support non power or two texture dimensions")}),Z.genMipmaps?d.mipmask=(b[0].width<<1)-1:d.mipmask=b[0].mipmask,y.textureCube(d,Z,b,A),d.internalformat=b[0].internalformat,M.width=b[0].width,M.height=b[0].height,$n(d),B=0;B<6;++B)tn(b[B],al+B);for(bn(Z,bs),Dt(),Q.profile&&(d.stats.size=dl(d.internalformat,d.type,M.width,M.height,Z.genMipmaps,!0)),M.format=he[d.internalformat],M.type=De[d.type],M.mag=ae[Z.magFilter],M.min=ke[Z.minFilter],M.wrapS=Re[Z.wrapS],M.wrapT=Re[Z.wrapT],B=0;B<6;++B)Cn(b[B]);return M}function F(R,I,E,w,_){y(!!I,"must specify image data"),y(typeof R=="number"&&R===(R|0)&&R>=0&&R<6,"invalid face");var $=E|0,B=w|0,Z=_|0,ne=Oe();return J(ne,d),ne.width=0,ne.height=0,Ae(ne,I),ne.width=ne.width||(d.width>>Z)-$,ne.height=ne.height||(d.height>>Z)-B,y(d.type===ne.type&&d.format===ne.format&&d.internalformat===ne.internalformat,"incompatible format for texture.subimage"),y($>=0&&B>=0&&$+ne.width<=d.width&&B+ne.height<=d.height,"texture.subimage write out of bounds"),y(d.mipmask&1<<Z,"missing mipmap data"),y(ne.data||ne.element||ne.needsCopy,"missing image data"),$n(d),st(ne,al+R,$,B,Z),Dt(),Ie(ne),M}function P(R){var I=R|0;if(I!==d.width){M.width=d.width=I,M.height=d.height=I,$n(d);for(var E=0;E<6;++E)for(var w=0;d.mipmask>>w;++w)c.texImage2D(al+E,w,d.format,I>>w,I>>w,0,d.format,d.type,null);return Dt(),Q.profile&&(d.stats.size=dl(d.internalformat,d.type,M.width,M.height,!1,!0)),M}}return M(S,W,z,$e,xt,g),M.subimage=F,M.resize=P,M._reglType="textureCube",M._texture=d,Q.profile&&(M.stats=d.stats),M.destroy=function(){d.decRef()},M}function hn(){for(var S=0;S<Gn;++S)c.activeTexture(aa+S),c.bindTexture(kr,null),dn[S]=null;Jn(Mn).forEach(rt),U.cubeCount=0,U.textureCount=0}Q.profile&&(U.getTotalTextureSize=function(){var S=0;return Object.keys(Mn).forEach(function(W){S+=Mn[W].stats.size}),S});function fi(){for(var S=0;S<Gn;++S){var W=dn[S];W&&(W.bindCount=0,W.unit=-1,dn[S]=null)}Jn(Mn).forEach(function(z){z.texture=c.createTexture(),c.bindTexture(z.target,z.texture);for(var $e=0;$e<32;++$e)if(z.mipmask&1<<$e)if(z.target===kr)c.texImage2D(kr,$e,z.internalformat,z.width>>$e,z.height>>$e,0,z.internalformat,z.type,null);else for(var xt=0;xt<6;++xt)c.texImage2D(al+xt,$e,z.internalformat,z.width>>$e,z.height>>$e,0,z.internalformat,z.type,null);bn(z.texInfo,z.target)})}function pa(){for(var S=0;S<Gn;++S){var W=dn[S];W&&(W.bindCount=0,W.unit=-1,dn[S]=null),c.activeTexture(aa+S),c.bindTexture(kr,null),c.bindTexture(bs,null)}}return{create2D:wt,createCube:Ot,clear:hn,getTexture:function(S){return null},restore:fi,refresh:pa}}var ui=36161,hl=32854,Gc=32855,$c=36194,zc=33189,Uc=36168,Vc=34041,Hc=35907,Wc=34836,Xc=34842,Yc=34843,_r=[];_r[hl]=2,_r[Gc]=2,_r[$c]=2,_r[zc]=2,_r[Uc]=1,_r[Vc]=4,_r[Hc]=4,_r[Wc]=16,_r[Xc]=8,_r[Yc]=6;function Qc(c,v,A){return _r[c]*v*A}var Zh=function(c,v,A,H,ee){var U={rgba4:hl,rgb565:$c,"rgb5 a1":Gc,depth:zc,stencil:Uc,"depth stencil":Vc};v.ext_srgb&&(U.srgba=Hc),v.ext_color_buffer_half_float&&(U.rgba16f=Xc,U.rgb16f=Yc),v.webgl_color_buffer_float&&(U.rgba32f=Wc);var Q=[];Object.keys(U).forEach(function(fe){var me=U[fe];Q[me]=fe});var ce=0,ue={};function pe(fe){this.id=ce++,this.refCount=1,this.renderbuffer=fe,this.format=hl,this.width=0,this.height=0,ee.profile&&(this.stats={size:0})}pe.prototype.decRef=function(){--this.refCount<=0&&ge(this)};function ge(fe){var me=fe.renderbuffer;y(me,"must not double destroy renderbuffer"),c.bindRenderbuffer(ui,null),c.deleteRenderbuffer(me),fe.renderbuffer=null,fe.refCount=0,delete ue[fe.id],H.renderbufferCount--}function ve(fe,me){var D=new pe(c.createRenderbuffer());ue[D.id]=D,H.renderbufferCount++;function X(De,ae){var ke=0,Re=0,Ze=hl;if(typeof De=="object"&&De){var te=De;if("shape"in te){var J=te.shape;y(Array.isArray(J)&&J.length>=2,"invalid renderbuffer shape"),ke=J[0]|0,Re=J[1]|0}else"radius"in te&&(ke=Re=te.radius|0),"width"in te&&(ke=te.width|0),"height"in te&&(Re=te.height|0);"format"in te&&(y.parameter(te.format,U,"invalid renderbuffer format"),Ze=U[te.format])}else typeof De=="number"?(ke=De|0,typeof ae=="number"?Re=ae|0:Re=ke):De?y.raise("invalid arguments to renderbuffer constructor"):ke=Re=1;if(y(ke>0&&Re>0&&ke<=A.maxRenderbufferSize&&Re<=A.maxRenderbufferSize,"invalid renderbuffer size"),!(ke===D.width&&Re===D.height&&Ze===D.format))return X.width=D.width=ke,X.height=D.height=Re,D.format=Ze,c.bindRenderbuffer(ui,D.renderbuffer),c.renderbufferStorage(ui,Ze,ke,Re),y(c.getError()===0,"invalid render buffer format"),ee.profile&&(D.stats.size=Qc(D.format,D.width,D.height)),X.format=Q[D.format],X}function he(De,ae){var ke=De|0,Re=ae|0||ke;return ke===D.width&&Re===D.height||(y(ke>0&&Re>0&&ke<=A.maxRenderbufferSize&&Re<=A.maxRenderbufferSize,"invalid renderbuffer size"),X.width=D.width=ke,X.height=D.height=Re,c.bindRenderbuffer(ui,D.renderbuffer),c.renderbufferStorage(ui,D.format,ke,Re),y(c.getError()===0,"invalid render buffer format"),ee.profile&&(D.stats.size=Qc(D.format,D.width,D.height))),X}return X(fe,me),X.resize=he,X._reglType="renderbuffer",X._renderbuffer=D,ee.profile&&(X.stats=D.stats),X.destroy=function(){D.decRef()},X}ee.profile&&(H.getTotalRenderbufferSize=function(){var fe=0;return Object.keys(ue).forEach(function(me){fe+=ue[me].stats.size}),fe});function Se(){Jn(ue).forEach(function(fe){fe.renderbuffer=c.createRenderbuffer(),c.bindRenderbuffer(ui,fe.renderbuffer),c.renderbufferStorage(ui,fe.format,fe.width,fe.height)}),c.bindRenderbuffer(ui,null)}return{create:ve,clear:function(){Jn(ue).forEach(ge)},restore:Se}},Xr=36160,Vs=36161,Ni=3553,ml=34069,Kc=36064,pl=36096,qc=36128,Zc=33306,Jc=36053,Jh=36054,em=36055,tm=36057,nm=36061,rm=36193,im=5121,om=5126,ef=6407,tf=6408,am=6402,lm=[ef,tf],Hs=[];Hs[tf]=4,Hs[ef]=3;var sa=[];sa[im]=1,sa[om]=4,sa[rm]=2;var sm=32854,nf=32855,um=36194,rf=33189,of=36168,Ws=34041,af=35907,cm=34836,ua=34842,fm=34843,dm=[sm,nf,um,af,ua,fm,cm],ho={};ho[Jc]="complete",ho[Jh]="incomplete attachment",ho[tm]="incomplete dimensions",ho[em]="incomplete, missing attachment",ho[nm]="unsupported";function hm(c,v,A,H,ee,U){var Q={cur:null,next:null,dirty:!1,setFBO:null},ce=["rgba"],ue=["rgba4","rgb565","rgb5 a1"];v.ext_srgb&&ue.push("srgba"),v.ext_color_buffer_half_float&&ue.push("rgba16f","rgb16f"),v.webgl_color_buffer_float&&ue.push("rgba32f");var pe=["uint8"];v.oes_texture_half_float&&pe.push("half float","float16"),v.oes_texture_float&&pe.push("float","float32");function ge(de,Ae,be){this.target=de,this.texture=Ae,this.renderbuffer=be;var st=0,lt=0;Ae?(st=Ae.width,lt=Ae.height):be&&(st=be.width,lt=be.height),this.width=st,this.height=lt}function ve(de){de&&(de.texture&&de.texture._texture.decRef(),de.renderbuffer&&de.renderbuffer._renderbuffer.decRef())}function Se(de,Ae,be){if(de)if(de.texture){var st=de.texture._texture,lt=Math.max(1,st.width),Oe=Math.max(1,st.height);y(lt===Ae&&Oe===be,"inconsistent width/height for supplied texture"),st.refCount+=1}else{var Ie=de.renderbuffer._renderbuffer;y(Ie.width===Ae&&Ie.height===be,"inconsistent width/height for renderbuffer"),Ie.refCount+=1}}function fe(de,Ae){Ae&&(Ae.texture?c.framebufferTexture2D(Xr,de,Ae.target,Ae.texture._texture.texture,0):c.framebufferRenderbuffer(Xr,de,Vs,Ae.renderbuffer._renderbuffer.renderbuffer))}function me(de){var Ae=Ni,be=null,st=null,lt=de;typeof de=="object"&&(lt=de.data,"target"in de&&(Ae=de.target|0)),y.type(lt,"function","invalid attachment data");var Oe=lt._reglType;return Oe==="texture2d"?(be=lt,y(Ae===Ni)):Oe==="textureCube"?(be=lt,y(Ae>=ml&&Ae<ml+6,"invalid cube map target")):Oe==="renderbuffer"?(st=lt,Ae=Vs):y.raise("invalid regl object for attachment"),new ge(Ae,be,st)}function D(de,Ae,be,st,lt){if(be){var Oe=H.create2D({width:de,height:Ae,format:st,type:lt});return Oe._texture.refCount=0,new ge(Ni,Oe,null)}else{var Ie=ee.create({width:de,height:Ae,format:st});return Ie._renderbuffer.refCount=0,new ge(Vs,null,Ie)}}function X(de){return de&&(de.texture||de.renderbuffer)}function he(de,Ae,be){de&&(de.texture?de.texture.resize(Ae,be):de.renderbuffer&&de.renderbuffer.resize(Ae,be),de.width=Ae,de.height=be)}var De=0,ae={};function ke(){this.id=De++,ae[this.id]=this,this.framebuffer=c.createFramebuffer(),this.width=0,this.height=0,this.colorAttachments=[],this.depthAttachment=null,this.stencilAttachment=null,this.depthStencilAttachment=null}function Re(de){de.colorAttachments.forEach(ve),ve(de.depthAttachment),ve(de.stencilAttachment),ve(de.depthStencilAttachment)}function Ze(de){var Ae=de.framebuffer;y(Ae,"must not double destroy framebuffer"),c.deleteFramebuffer(Ae),de.framebuffer=null,U.framebufferCount--,delete ae[de.id]}function te(de){var Ae;c.bindFramebuffer(Xr,de.framebuffer);var be=de.colorAttachments;for(Ae=0;Ae<be.length;++Ae)fe(Kc+Ae,be[Ae]);for(Ae=be.length;Ae<A.maxColorAttachments;++Ae)c.framebufferTexture2D(Xr,Kc+Ae,Ni,null,0);c.framebufferTexture2D(Xr,Zc,Ni,null,0),c.framebufferTexture2D(Xr,pl,Ni,null,0),c.framebufferTexture2D(Xr,qc,Ni,null,0),fe(pl,de.depthAttachment),fe(qc,de.stencilAttachment),fe(Zc,de.depthStencilAttachment);var st=c.checkFramebufferStatus(Xr);!c.isContextLost()&&st!==Jc&&y.raise("framebuffer configuration not supported, status = "+ho[st]),c.bindFramebuffer(Xr,Q.next?Q.next.framebuffer:null),Q.cur=Q.next,c.getError()}function J(de,Ae){var be=new ke;U.framebufferCount++;function st(Oe,Ie){var it;y(Q.next!==be,"can not update framebuffer which is currently in use");var ut=0,St=0,tn=!0,rn=!0,Tt=null,Cn=!0,Jt="rgba",_n="uint8",bn=1,Ln=null,Mn=null,Gn=null,dn=!1;if(typeof Oe=="number")ut=Oe|0,St=Ie|0||ut;else if(!Oe)ut=St=1;else{y.type(Oe,"object","invalid arguments for framebuffer");var ht=Oe;if("shape"in ht){var $n=ht.shape;y(Array.isArray($n)&&$n.length>=2,"invalid shape for framebuffer"),ut=$n[0],St=$n[1]}else"radius"in ht&&(ut=St=ht.radius),"width"in ht&&(ut=ht.width),"height"in ht&&(St=ht.height);("color"in ht||"colors"in ht)&&(Tt=ht.color||ht.colors,Array.isArray(Tt)&&y(Tt.length===1||v.webgl_draw_buffers,"multiple render targets not supported")),Tt||("colorCount"in ht&&(bn=ht.colorCount|0,y(bn>0,"invalid color buffer count")),"colorTexture"in ht&&(Cn=!!ht.colorTexture,Jt="rgba4"),"colorType"in ht&&(_n=ht.colorType,Cn?(y(v.oes_texture_float||!(_n==="float"||_n==="float32"),"you must enable OES_texture_float in order to use floating point framebuffer objects"),y(v.oes_texture_half_float||!(_n==="half float"||_n==="float16"),"you must enable OES_texture_half_float in order to use 16-bit floating point framebuffer objects")):_n==="half float"||_n==="float16"?(y(v.ext_color_buffer_half_float,"you must enable EXT_color_buffer_half_float to use 16-bit render buffers"),Jt="rgba16f"):(_n==="float"||_n==="float32")&&(y(v.webgl_color_buffer_float,"you must enable WEBGL_color_buffer_float in order to use 32-bit floating point renderbuffers"),Jt="rgba32f"),y.oneOf(_n,pe,"invalid color type")),"colorFormat"in ht&&(Jt=ht.colorFormat,ce.indexOf(Jt)>=0?Cn=!0:ue.indexOf(Jt)>=0?Cn=!1:y.optional(function(){Cn?y.oneOf(ht.colorFormat,ce,"invalid color format for texture"):y.oneOf(ht.colorFormat,ue,"invalid color format for renderbuffer")}))),("depthTexture"in ht||"depthStencilTexture"in ht)&&(dn=!!(ht.depthTexture||ht.depthStencilTexture),y(!dn||v.webgl_depth_texture,"webgl_depth_texture extension not supported")),"depth"in ht&&(typeof ht.depth=="boolean"?tn=ht.depth:(Ln=ht.depth,rn=!1)),"stencil"in ht&&(typeof ht.stencil=="boolean"?rn=ht.stencil:(Mn=ht.stencil,tn=!1)),"depthStencil"in ht&&(typeof ht.depthStencil=="boolean"?tn=rn=ht.depthStencil:(Gn=ht.depthStencil,tn=!1,rn=!1))}var Dt=null,rt=null,wt=null,Ot=null;if(Array.isArray(Tt))Dt=Tt.map(me);else if(Tt)Dt=[me(Tt)];else for(Dt=new Array(bn),it=0;it<bn;++it)Dt[it]=D(ut,St,Cn,Jt,_n);y(v.webgl_draw_buffers||Dt.length<=1,"you must enable the WEBGL_draw_buffers extension in order to use multiple color buffers."),y(Dt.length<=A.maxColorAttachments,"too many color attachments, not supported"),ut=ut||Dt[0].width,St=St||Dt[0].height,Ln?rt=me(Ln):tn&&!rn&&(rt=D(ut,St,dn,"depth","uint32")),Mn?wt=me(Mn):rn&&!tn&&(wt=D(ut,St,!1,"stencil","uint8")),Gn?Ot=me(Gn):!Ln&&!Mn&&rn&&tn&&(Ot=D(ut,St,dn,"depth stencil","depth stencil")),y(!!Ln+!!Mn+!!Gn<=1,"invalid framebuffer configuration, can specify exactly one depth/stencil attachment");var hn=null;for(it=0;it<Dt.length;++it)if(Se(Dt[it],ut,St),y(!Dt[it]||Dt[it].texture&&lm.indexOf(Dt[it].texture._texture.format)>=0||Dt[it].renderbuffer&&dm.indexOf(Dt[it].renderbuffer._renderbuffer.format)>=0,"framebuffer color attachment "+it+" is invalid"),Dt[it]&&Dt[it].texture){var fi=Hs[Dt[it].texture._texture.format]*sa[Dt[it].texture._texture.type];hn===null?hn=fi:y(hn===fi,"all color attachments much have the same number of bits per pixel.")}return Se(rt,ut,St),y(!rt||rt.texture&&rt.texture._texture.format===am||rt.renderbuffer&&rt.renderbuffer._renderbuffer.format===rf,"invalid depth attachment for framebuffer object"),Se(wt,ut,St),y(!wt||wt.renderbuffer&&wt.renderbuffer._renderbuffer.format===of,"invalid stencil attachment for framebuffer object"),Se(Ot,ut,St),y(!Ot||Ot.texture&&Ot.texture._texture.format===Ws||Ot.renderbuffer&&Ot.renderbuffer._renderbuffer.format===Ws,"invalid depth-stencil attachment for framebuffer object"),Re(be),be.width=ut,be.height=St,be.colorAttachments=Dt,be.depthAttachment=rt,be.stencilAttachment=wt,be.depthStencilAttachment=Ot,st.color=Dt.map(X),st.depth=X(rt),st.stencil=X(wt),st.depthStencil=X(Ot),st.width=be.width,st.height=be.height,te(be),st}function lt(Oe,Ie){y(Q.next!==be,"can not resize a framebuffer which is currently in use");var it=Math.max(Oe|0,1),ut=Math.max(Ie|0||it,1);if(it===be.width&&ut===be.height)return st;for(var St=be.colorAttachments,tn=0;tn<St.length;++tn)he(St[tn],it,ut);return he(be.depthAttachment,it,ut),he(be.stencilAttachment,it,ut),he(be.depthStencilAttachment,it,ut),be.width=st.width=it,be.height=st.height=ut,te(be),st}return st(de,Ae),r(st,{resize:lt,_reglType:"framebuffer",_framebuffer:be,destroy:function(){Ze(be),Re(be)},use:function(Oe){Q.setFBO({framebuffer:st},Oe)}})}function ze(de){var Ae=Array(6);function be(lt){var Oe;y(Ae.indexOf(Q.next)<0,"can not update framebuffer which is currently in use");var Ie={color:null},it=0,ut=null,St="rgba",tn="uint8",rn=1;if(typeof lt=="number")it=lt|0;else if(!lt)it=1;else{y.type(lt,"object","invalid arguments for framebuffer");var Tt=lt;if("shape"in Tt){var Cn=Tt.shape;y(Array.isArray(Cn)&&Cn.length>=2,"invalid shape for framebuffer"),y(Cn[0]===Cn[1],"cube framebuffer must be square"),it=Cn[0]}else"radius"in Tt&&(it=Tt.radius|0),"width"in Tt?(it=Tt.width|0,"height"in Tt&&y(Tt.height===it,"must be square")):"height"in Tt&&(it=Tt.height|0);("color"in Tt||"colors"in Tt)&&(ut=Tt.color||Tt.colors,Array.isArray(ut)&&y(ut.length===1||v.webgl_draw_buffers,"multiple render targets not supported")),ut||("colorCount"in Tt&&(rn=Tt.colorCount|0,y(rn>0,"invalid color buffer count")),"colorType"in Tt&&(y.oneOf(Tt.colorType,pe,"invalid color type"),tn=Tt.colorType),"colorFormat"in Tt&&(St=Tt.colorFormat,y.oneOf(Tt.colorFormat,ce,"invalid color format for texture"))),"depth"in Tt&&(Ie.depth=Tt.depth),"stencil"in Tt&&(Ie.stencil=Tt.stencil),"depthStencil"in Tt&&(Ie.depthStencil=Tt.depthStencil)}var Jt;if(ut)if(Array.isArray(ut))for(Jt=[],Oe=0;Oe<ut.length;++Oe)Jt[Oe]=ut[Oe];else Jt=[ut];else{Jt=Array(rn);var _n={radius:it,format:St,type:tn};for(Oe=0;Oe<rn;++Oe)Jt[Oe]=H.createCube(_n)}for(Ie.color=Array(Jt.length),Oe=0;Oe<Jt.length;++Oe){var bn=Jt[Oe];y(typeof bn=="function"&&bn._reglType==="textureCube","invalid cube map"),it=it||bn.width,y(bn.width===it&&bn.height===it,"invalid cube map shape"),Ie.color[Oe]={target:ml,data:Jt[Oe]}}for(Oe=0;Oe<6;++Oe){for(var Ln=0;Ln<Jt.length;++Ln)Ie.color[Ln].target=ml+Oe;Oe>0&&(Ie.depth=Ae[0].depth,Ie.stencil=Ae[0].stencil,Ie.depthStencil=Ae[0].depthStencil),Ae[Oe]?Ae[Oe](Ie):Ae[Oe]=J(Ie)}return r(be,{width:it,height:it,color:Jt})}function st(lt){var Oe,Ie=lt|0;if(y(Ie>0&&Ie<=A.maxCubeMapSize,"invalid radius for cube fbo"),Ie===be.width)return be;var it=be.color;for(Oe=0;Oe<it.length;++Oe)it[Oe].resize(Ie);for(Oe=0;Oe<6;++Oe)Ae[Oe].resize(Ie);return be.width=be.height=Ie,be}return be(de),r(be,{faces:Ae,resize:st,_reglType:"framebufferCube",destroy:function(){Ae.forEach(function(lt){lt.destroy()})}})}function Te(){Q.cur=null,Q.next=null,Q.dirty=!0,Jn(ae).forEach(function(de){de.framebuffer=c.createFramebuffer(),te(de)})}return r(Q,{getFramebuffer:function(de){if(typeof de=="function"&&de._reglType==="framebuffer"){var Ae=de._framebuffer;if(Ae instanceof ke)return Ae}return null},create:J,createCube:ze,clear:function(){Jn(ae).forEach(Ze)},restore:Te})}var mm=5126,s=34962,N=34963,G=["attributes","elements","offset","count","primitive","instances"];function ie(){this.state=0,this.x=0,this.y=0,this.z=0,this.w=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=mm,this.offset=0,this.stride=0,this.divisor=0}function we(c,v,A,H,ee,U,Q){for(var ce=A.maxAttributes,ue=new Array(ce),pe=0;pe<ce;++pe)ue[pe]=new ie;var ge=0,ve={},Se={Record:ie,scope:{},state:ue,currentVAO:null,targetVAO:null,restore:me()?Re:function(){},createVAO:Ze,getVAO:X,destroyBuffer:fe,setVAO:me()?he:De,clear:me()?ae:function(){}};function fe(te){for(var J=0;J<ue.length;++J){var ze=ue[J];ze.buffer===te&&(c.disableVertexAttribArray(J),ze.buffer=null)}}function me(){return v.oes_vertex_array_object}function D(){return v.angle_instanced_arrays}function X(te){return typeof te=="function"&&te._vao?te._vao:null}function he(te){if(te!==Se.currentVAO){var J=me();te?J.bindVertexArrayOES(te.vao):J.bindVertexArrayOES(null),Se.currentVAO=te}}function De(te){if(te!==Se.currentVAO){if(te)te.bindAttrs();else{for(var J=D(),ze=0;ze<ue.length;++ze){var Te=ue[ze];Te.buffer?(c.enableVertexAttribArray(ze),Te.buffer.bind(),c.vertexAttribPointer(ze,Te.size,Te.type,Te.normalized,Te.stride,Te.offfset),J&&Te.divisor&&J.vertexAttribDivisorANGLE(ze,Te.divisor)):(c.disableVertexAttribArray(ze),c.vertexAttrib4f(ze,Te.x,Te.y,Te.z,Te.w))}Q.elements?c.bindBuffer(N,Q.elements.buffer.buffer):c.bindBuffer(N,null)}Se.currentVAO=te}}function ae(){Jn(ve).forEach(function(te){te.destroy()})}function ke(){this.id=++ge,this.attributes=[],this.elements=null,this.ownsElements=!1,this.count=0,this.offset=0,this.instances=-1,this.primitive=4;var te=me();te?this.vao=te.createVertexArrayOES():this.vao=null,ve[this.id]=this,this.buffers=[]}ke.prototype.bindAttrs=function(){for(var te=D(),J=this.attributes,ze=0;ze<J.length;++ze){var Te=J[ze];Te.buffer?(c.enableVertexAttribArray(ze),c.bindBuffer(s,Te.buffer.buffer),c.vertexAttribPointer(ze,Te.size,Te.type,Te.normalized,Te.stride,Te.offset),te&&Te.divisor&&te.vertexAttribDivisorANGLE(ze,Te.divisor)):(c.disableVertexAttribArray(ze),c.vertexAttrib4f(ze,Te.x,Te.y,Te.z,Te.w))}for(var de=J.length;de<ce;++de)c.disableVertexAttribArray(de);var Ae=U.getElements(this.elements);Ae?c.bindBuffer(N,Ae.buffer.buffer):c.bindBuffer(N,null)},ke.prototype.refresh=function(){var te=me();te&&(te.bindVertexArrayOES(this.vao),this.bindAttrs(),Se.currentVAO=null,te.bindVertexArrayOES(null))},ke.prototype.destroy=function(){if(this.vao){var te=me();this===Se.currentVAO&&(Se.currentVAO=null,te.bindVertexArrayOES(null)),te.deleteVertexArrayOES(this.vao),this.vao=null}this.ownsElements&&(this.elements.destroy(),this.elements=null,this.ownsElements=!1),ve[this.id]&&(delete ve[this.id],H.vaoCount-=1)};function Re(){var te=me();te&&Jn(ve).forEach(function(J){J.refresh()})}function Ze(te){var J=new ke;H.vaoCount+=1;function ze(Te){var de;if(Array.isArray(Te))de=Te,J.elements&&J.ownsElements&&J.elements.destroy(),J.elements=null,J.ownsElements=!1,J.offset=0,J.count=0,J.instances=-1,J.primitive=4;else{if(y(typeof Te=="object","invalid arguments for create vao"),y("attributes"in Te,"must specify attributes for vao"),Te.elements){var Ae=Te.elements;J.ownsElements?typeof Ae=="function"&&Ae._reglType==="elements"?(J.elements.destroy(),J.ownsElements=!1):(J.elements(Ae),J.ownsElements=!1):U.getElements(Te.elements)?(J.elements=Te.elements,J.ownsElements=!1):(J.elements=U.create(Te.elements),J.ownsElements=!0)}else J.elements=null,J.ownsElements=!1;de=Te.attributes,J.offset=0,J.count=-1,J.instances=-1,J.primitive=4,J.elements&&(J.count=J.elements._elements.vertCount,J.primitive=J.elements._elements.primType),"offset"in Te&&(J.offset=Te.offset|0),"count"in Te&&(J.count=Te.count|0),"instances"in Te&&(J.instances=Te.instances|0),"primitive"in Te&&(y(Te.primitive in li,"bad primitive type: "+Te.primitive),J.primitive=li[Te.primitive]),y.optional(()=>{for(var tn=Object.keys(Te),rn=0;rn<tn.length;++rn)y(G.indexOf(tn[rn])>=0,'invalid option for vao: "'+tn[rn]+'" valid options are '+G)}),y(Array.isArray(de),"attributes must be an array")}y(de.length<ce,"too many attributes"),y(de.length>0,"must specify at least one attribute");var be={},st=J.attributes;st.length=de.length;for(var lt=0;lt<de.length;++lt){var Oe=de[lt],Ie=st[lt]=new ie,it=Oe.data||Oe;if(Array.isArray(it)||n(it)||lr(it)){var ut;J.buffers[lt]&&(ut=J.buffers[lt],n(it)&&ut._buffer.byteLength>=it.byteLength?ut.subdata(it):(ut.destroy(),J.buffers[lt]=null)),J.buffers[lt]||(ut=J.buffers[lt]=ee.create(Oe,s,!1,!0)),Ie.buffer=ee.getBuffer(ut),Ie.size=Ie.buffer.dimension|0,Ie.normalized=!1,Ie.type=Ie.buffer.dtype,Ie.offset=0,Ie.stride=0,Ie.divisor=0,Ie.state=1,be[lt]=1}else ee.getBuffer(Oe)?(Ie.buffer=ee.getBuffer(Oe),Ie.size=Ie.buffer.dimension|0,Ie.normalized=!1,Ie.type=Ie.buffer.dtype,Ie.offset=0,Ie.stride=0,Ie.divisor=0,Ie.state=1):ee.getBuffer(Oe.buffer)?(Ie.buffer=ee.getBuffer(Oe.buffer),Ie.size=(+Oe.size||Ie.buffer.dimension)|0,Ie.normalized=!!Oe.normalized||!1,"type"in Oe?(y.parameter(Oe.type,oo,"invalid buffer type"),Ie.type=oo[Oe.type]):Ie.type=Ie.buffer.dtype,Ie.offset=(Oe.offset||0)|0,Ie.stride=(Oe.stride||0)|0,Ie.divisor=(Oe.divisor||0)|0,Ie.state=1,y(Ie.size>=1&&Ie.size<=4,"size must be between 1 and 4"),y(Ie.offset>=0,"invalid offset"),y(Ie.stride>=0&&Ie.stride<=255,"stride must be between 0 and 255"),y(Ie.divisor>=0,"divisor must be positive"),y(!Ie.divisor||!!v.angle_instanced_arrays,"ANGLE_instanced_arrays must be enabled to use divisor")):"x"in Oe?(y(lt>0,"first attribute must not be a constant"),Ie.x=+Oe.x||0,Ie.y=+Oe.y||0,Ie.z=+Oe.z||0,Ie.w=+Oe.w||0,Ie.state=2):y(!1,"invalid attribute spec for location "+lt)}for(var St=0;St<J.buffers.length;++St)!be[St]&&J.buffers[St]&&(J.buffers[St].destroy(),J.buffers[St]=null);return J.refresh(),ze}return ze.destroy=function(){for(var Te=0;Te<J.buffers.length;++Te)J.buffers[Te]&&J.buffers[Te].destroy();J.buffers.length=0,J.ownsElements&&(J.elements.destroy(),J.elements=null,J.ownsElements=!1),J.destroy()},ze._vao=J,ze._reglType="vao",ze(te)}return Se}var Be=35632,We=35633,ft=35718,Mt=35721;function Nt(c,v,A,H){var ee={},U={};function Q(D,X,he,De){this.name=D,this.id=X,this.location=he,this.info=De}function ce(D,X){for(var he=0;he<D.length;++he)if(D[he].id===X.id){D[he].location=X.location;return}D.push(X)}function ue(D,X,he){var De=D===Be?ee:U,ae=De[X];if(!ae){var ke=v.str(X);ae=c.createShader(D),c.shaderSource(ae,ke),c.compileShader(ae),y.shaderError(c,ae,ke,D,he),De[X]=ae}return ae}var pe={},ge=[],ve=0;function Se(D,X){this.id=ve++,this.fragId=D,this.vertId=X,this.program=null,this.uniforms=[],this.attributes=[],this.refCount=1,H.profile&&(this.stats={uniformsCount:0,attributesCount:0})}function fe(D,X,he){var De,ae,ke=ue(Be,D.fragId),Re=ue(We,D.vertId),Ze=D.program=c.createProgram();if(c.attachShader(Ze,ke),c.attachShader(Ze,Re),he)for(De=0;De<he.length;++De){var te=he[De];c.bindAttribLocation(Ze,te[0],te[1])}c.linkProgram(Ze),y.linkError(c,Ze,v.str(D.fragId),v.str(D.vertId),X);var J=c.getProgramParameter(Ze,ft);H.profile&&(D.stats.uniformsCount=J);var ze=D.uniforms;for(De=0;De<J;++De)if(ae=c.getActiveUniform(Ze,De),ae){if(ae.size>1)for(var Te=0;Te<ae.size;++Te){var de=ae.name.replace("[0]","["+Te+"]");ce(ze,new Q(de,v.id(de),c.getUniformLocation(Ze,de),ae))}var Ae=ae.name;ae.size>1&&(Ae=Ae.replace("[0]","")),ce(ze,new Q(Ae,v.id(Ae),c.getUniformLocation(Ze,Ae),ae))}var be=c.getProgramParameter(Ze,Mt);H.profile&&(D.stats.attributesCount=be);var st=D.attributes;for(De=0;De<be;++De)ae=c.getActiveAttrib(Ze,De),ae&&ce(st,new Q(ae.name,v.id(ae.name),c.getAttribLocation(Ze,ae.name),ae))}H.profile&&(A.getMaxUniformsCount=function(){var D=0;return ge.forEach(function(X){X.stats.uniformsCount>D&&(D=X.stats.uniformsCount)}),D},A.getMaxAttributesCount=function(){var D=0;return ge.forEach(function(X){X.stats.attributesCount>D&&(D=X.stats.attributesCount)}),D});function me(){ee={},U={};for(var D=0;D<ge.length;++D)fe(ge[D],null,ge[D].attributes.map(function(X){return[X.location,X.name]}))}return{clear:function(){var D=c.deleteShader.bind(c);Jn(ee).forEach(D),ee={},Jn(U).forEach(D),U={},ge.forEach(function(X){c.deleteProgram(X.program)}),ge.length=0,pe={},A.shaderCount=0},program:function(D,X,he,De){y.command(D>=0,"missing vertex shader",he),y.command(X>=0,"missing fragment shader",he);var ae=pe[X];ae||(ae=pe[X]={});var ke=ae[D];if(ke&&(ke.refCount++,!De))return ke;var Re=new Se(X,D);return A.shaderCount++,fe(Re,he,De),ke||(ae[D]=Re),ge.push(Re),r(Re,{destroy:function(){if(Re.refCount--,Re.refCount<=0){c.deleteProgram(Re.program);var Ze=ge.indexOf(Re);ge.splice(Ze,1),A.shaderCount--}ae[Re.vertId].refCount<=0&&(c.deleteShader(U[Re.vertId]),delete U[Re.vertId],delete pe[Re.fragId][Re.vertId]),Object.keys(pe[Re.fragId]).length||(c.deleteShader(ee[Re.fragId]),delete ee[Re.fragId],delete pe[Re.fragId])}})},restore:me,shader:ue,frag:-1,vert:-1}}var xn=6408,$t=5121,It=3333,lf=5126;function q_(c,v,A,H,ee,U,Q){function ce(ge){var ve;v.next===null?(y(ee.preserveDrawingBuffer,'you must create a webgl context with "preserveDrawingBuffer":true in order to read pixels from the drawing buffer'),ve=$t):(y(v.next.colorAttachments[0].texture!==null,"You cannot read from a renderbuffer"),ve=v.next.colorAttachments[0].texture._texture.type,y.optional(function(){U.oes_texture_float?(y(ve===$t||ve===lf,"Reading from a framebuffer is only allowed for the types 'uint8' and 'float'"),ve===lf&&y(Q.readFloat,"Reading 'float' values is not permitted in your browser. For a fallback, please see: https://www.npmjs.com/package/glsl-read-float")):y(ve===$t,"Reading from a framebuffer is only allowed for the type 'uint8'")}));var Se=0,fe=0,me=H.framebufferWidth,D=H.framebufferHeight,X=null;n(ge)?X=ge:ge&&(y.type(ge,"object","invalid arguments to regl.read()"),Se=ge.x|0,fe=ge.y|0,y(Se>=0&&Se<H.framebufferWidth,"invalid x offset for regl.read"),y(fe>=0&&fe<H.framebufferHeight,"invalid y offset for regl.read"),me=(ge.width||H.framebufferWidth-Se)|0,D=(ge.height||H.framebufferHeight-fe)|0,X=ge.data||null),X&&(ve===$t?y(X instanceof Uint8Array,"buffer must be 'Uint8Array' when reading from a framebuffer of type 'uint8'"):ve===lf&&y(X instanceof Float32Array,"buffer must be 'Float32Array' when reading from a framebuffer of type 'float'")),y(me>0&&me+Se<=H.framebufferWidth,"invalid width for read pixels"),y(D>0&&D+fe<=H.framebufferHeight,"invalid height for read pixels"),A();var he=me*D*4;return X||(ve===$t?X=new Uint8Array(he):ve===lf&&(X=X||new Float32Array(he))),y.isTypedArray(X,"data buffer for regl.read() must be a typedarray"),y(X.byteLength>=he,"data buffer for regl.read() too small"),c.pixelStorei(It,4),c.readPixels(Se,fe,me,D,xn,ve,X),X}function ue(ge){var ve;return v.setFBO({framebuffer:ge.framebuffer},function(){ve=ce(ge)}),ve}function pe(ge){return!ge||!("framebuffer"in ge)?ce(ge):ue(ge)}return pe}function vl(c){return Array.prototype.slice.call(c)}function yl(c){return vl(c).join("")}function Z_(){var c=0,v=[],A=[];function H(ve){for(var Se=0;Se<A.length;++Se)if(A[Se]===ve)return v[Se];var fe="g"+c++;return v.push(fe),A.push(ve),fe}function ee(){var ve=[];function Se(){ve.push.apply(ve,vl(arguments))}var fe=[];function me(){var D="v"+c++;return fe.push(D),arguments.length>0&&(ve.push(D,"="),ve.push.apply(ve,vl(arguments)),ve.push(";")),D}return r(Se,{def:me,toString:function(){return yl([fe.length>0?"var "+fe.join(",")+";":"",yl(ve)])}})}function U(){var ve=ee(),Se=ee(),fe=ve.toString,me=Se.toString;function D(X,he){Se(X,he,"=",ve.def(X,he),";")}return r(function(){ve.apply(ve,vl(arguments))},{def:ve.def,entry:ve,exit:Se,save:D,set:function(X,he,De){D(X,he),ve(X,he,"=",De,";")},toString:function(){return fe()+me()}})}function Q(){var ve=yl(arguments),Se=U(),fe=U(),me=Se.toString,D=fe.toString;return r(Se,{then:function(){return Se.apply(Se,vl(arguments)),this},else:function(){return fe.apply(fe,vl(arguments)),this},toString:function(){var X=D();return X&&(X="else{"+X+"}"),yl(["if(",ve,"){",me(),"}",X])}})}var ce=ee(),ue={};function pe(ve,Se){var fe=[];function me(){var ae="a"+fe.length;return fe.push(ae),ae}Se=Se||0;for(var D=0;D<Se;++D)me();var X=U(),he=X.toString,De=ue[ve]=r(X,{arg:me,toString:function(){return yl(["function(",fe.join(),"){",he(),"}"])}});return De}function ge(){var ve=['"use strict";',ce,"return {"];Object.keys(ue).forEach(function(me){ve.push('"',me,'":',ue[me].toString(),",")}),ve.push("}");var Se=yl(ve).replace(/;/g,`;
`).replace(/}/g,`}
`).replace(/{/g,`{
`),fe=Function.apply(null,v.concat(Se));return fe.apply(null,A)}return{global:ce,link:H,block:ee,proc:pe,scope:U,cond:Q,compile:ge}}var gl="xyzw".split(""),Zv=5121,xl=1,pm=2,vm=0,ym=1,gm=2,xm=3,sf=4,Jv=5,ey=6,ty="dither",ny="blend.enable",ry="blend.color",Em="blend.equation",_m="blend.func",iy="depth.enable",oy="depth.func",ay="depth.range",ly="depth.mask",Sm="colorMask",sy="cull.enable",uy="cull.face",wm="frontFace",Tm="lineWidth",cy="polygonOffset.enable",Am="polygonOffset.offset",fy="sample.alpha",dy="sample.enable",Cm="sample.coverage",hy="stencil.enable",my="stencil.mask",bm="stencil.func",Lm="stencil.opFront",Xs="stencil.opBack",py="scissor.enable",uf="scissor.box",Ii="viewport",Ys="profile",ca="framebuffer",Qs="vert",Ks="frag",fa="elements",da="primitive",ha="count",cf="offset",ff="instances",qs="vao",Rm="Width",Om="Height",El=ca+Rm,_l=ca+Om,J_=Ii+Rm,eS=Ii+Om,vy="drawingBuffer",yy=vy+Rm,gy=vy+Om,tS=[_m,Em,bm,Lm,Xs,Cm,Ii,uf,Am],Sl=34962,Pm=34963,nS=35632,rS=35633,xy=3553,iS=34067,oS=2884,aS=3042,lS=3024,sS=2960,uS=2929,cS=3089,fS=32823,dS=32926,hS=32928,km=5126,df=35664,hf=35665,mf=35666,Nm=5124,pf=35667,vf=35668,yf=35669,Im=35670,gf=35671,xf=35672,Ef=35673,Zs=35674,Js=35675,eu=35676,tu=35678,nu=35680,Mm=4,ru=1028,ma=1029,Ey=2304,Dm=2305,mS=32775,pS=32776,vS=519,mo=7680,_y=0,Sy=1,wy=32774,yS=513,Ty=36160,gS=36064,ci={0:0,1:1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},Ay=["constant color, constant alpha","one minus constant color, constant alpha","constant color, one minus constant alpha","one minus constant color, one minus constant alpha","constant alpha, constant color","constant alpha, one minus constant color","one minus constant alpha, constant color","one minus constant alpha, one minus constant color"],wl={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},po={0:0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},Cy={frag:nS,vert:rS},Fm={cw:Ey,ccw:Dm};function _f(c){return Array.isArray(c)||n(c)||lr(c)}function by(c){return c.sort(function(v,A){return v===Ii?-1:A===Ii?1:v<A?-1:1})}function Pn(c,v,A,H){this.thisDep=c,this.contextDep=v,this.propDep=A,this.append=H}function vo(c){return c&&!(c.thisDep||c.contextDep||c.propDep)}function En(c){return new Pn(!1,!1,!1,c)}function sr(c,v){var A=c.type;if(A===vm){var H=c.data.length;return new Pn(!0,H>=1,H>=2,v)}else if(A===sf){var ee=c.data;return new Pn(ee.thisDep,ee.contextDep,ee.propDep,v)}else{if(A===Jv)return new Pn(!1,!1,!1,v);if(A===ey){for(var U=!1,Q=!1,ce=!1,ue=0;ue<c.data.length;++ue){var pe=c.data[ue];if(pe.type===ym)ce=!0;else if(pe.type===gm)Q=!0;else if(pe.type===xm)U=!0;else if(pe.type===vm){U=!0;var ge=pe.data;ge>=1&&(Q=!0),ge>=2&&(ce=!0)}else pe.type===sf&&(U=U||pe.data.thisDep,Q=Q||pe.data.contextDep,ce=ce||pe.data.propDep)}return new Pn(U,Q,ce,v)}else return new Pn(A===xm,A===gm,A===ym,v)}}var Ly=new Pn(!1,!1,!1,function(){});function xS(c,v,A,H,ee,U,Q,ce,ue,pe,ge,ve,Se,fe,me){var D=pe.Record,X={add:32774,subtract:32778,"reverse subtract":32779};A.ext_blend_minmax&&(X.min=mS,X.max=pS);var he=A.angle_instanced_arrays,De=A.webgl_draw_buffers,ae=A.oes_vertex_array_object,ke={dirty:!0,profile:me.profile},Re={},Ze=[],te={},J={};function ze(g){return g.replace(".","_")}function Te(g,d,b){var M=ze(g);Ze.push(g),Re[M]=ke[M]=!!b,te[M]=d}function de(g,d,b){var M=ze(g);Ze.push(g),Array.isArray(b)?(ke[M]=b.slice(),Re[M]=b.slice()):ke[M]=Re[M]=b,J[M]=d}Te(ty,lS),Te(ny,aS),de(ry,"blendColor",[0,0,0,0]),de(Em,"blendEquationSeparate",[wy,wy]),de(_m,"blendFuncSeparate",[Sy,_y,Sy,_y]),Te(iy,uS,!0),de(oy,"depthFunc",yS),de(ay,"depthRange",[0,1]),de(ly,"depthMask",!0),de(Sm,Sm,[!0,!0,!0,!0]),Te(sy,oS),de(uy,"cullFace",ma),de(wm,wm,Dm),de(Tm,Tm,1),Te(cy,fS),de(Am,"polygonOffset",[0,0]),Te(fy,dS),Te(dy,hS),de(Cm,"sampleCoverage",[1,!1]),Te(hy,sS),de(my,"stencilMask",-1),de(bm,"stencilFunc",[vS,0,-1]),de(Lm,"stencilOpSeparate",[ru,mo,mo,mo]),de(Xs,"stencilOpSeparate",[ma,mo,mo,mo]),Te(py,cS),de(uf,"scissor",[0,0,c.drawingBufferWidth,c.drawingBufferHeight]),de(Ii,Ii,[0,0,c.drawingBufferWidth,c.drawingBufferHeight]);var Ae={gl:c,context:Se,strings:v,next:Re,current:ke,draw:ve,elements:U,buffer:ee,shader:ge,attributes:pe.state,vao:pe,uniforms:ue,framebuffer:ce,extensions:A,timer:fe,isBufferArgs:_f},be={primTypes:li,compareFuncs:wl,blendFuncs:ci,blendEquations:X,stencilOps:po,glTypes:oo,orientationType:Fm};y.optional(function(){Ae.isArrayLike=Zt}),De&&(be.backBuffer=[ma],be.drawBuffer=fn(H.maxDrawbuffers,function(g){return g===0?[0]:fn(g,function(d){return gS+d})}));var st=0;function lt(){var g=Z_(),d=g.link,b=g.global;g.id=st++,g.batchId="0";var M=d(Ae),F=g.shared={props:"a0"};Object.keys(Ae).forEach(function(w){F[w]=b.def(M,".",w)}),y.optional(function(){g.CHECK=d(y),g.commandStr=y.guessCommand(),g.command=d(g.commandStr),g.assert=function(w,_,$){w("if(!(",_,"))",this.CHECK,".commandRaise(",d($),",",this.command,");")},be.invalidBlendCombinations=Ay});var P=g.next={},R=g.current={};Object.keys(J).forEach(function(w){Array.isArray(ke[w])&&(P[w]=b.def(F.next,".",w),R[w]=b.def(F.current,".",w))});var I=g.constants={};Object.keys(be).forEach(function(w){I[w]=b.def(JSON.stringify(be[w]))}),g.invoke=function(w,_){switch(_.type){case vm:var $=["this",F.context,F.props,g.batchId];return w.def(d(_.data),".call(",$.slice(0,Math.max(_.data.length+1,4)),")");case ym:return w.def(F.props,_.data);case gm:return w.def(F.context,_.data);case xm:return w.def("this",_.data);case sf:return _.data.append(g,w),_.data.ref;case Jv:return _.data.toString();case ey:return _.data.map(function(B){return g.invoke(w,B)})}},g.attribCache={};var E={};return g.scopeAttrib=function(w){var _=v.id(w);if(_ in E)return E[_];var $=pe.scope[_];$||($=pe.scope[_]=new D);var B=E[_]=d($);return B},g}function Oe(g){var d=g.static,b=g.dynamic,M;if(Ys in d){var F=!!d[Ys];M=En(function(R,I){return F}),M.enable=F}else if(Ys in b){var P=b[Ys];M=sr(P,function(R,I){return R.invoke(I,P)})}return M}function Ie(g,d){var b=g.static,M=g.dynamic;if(ca in b){var F=b[ca];return F?(F=ce.getFramebuffer(F),y.command(F,"invalid framebuffer object"),En(function(R,I){var E=R.link(F),w=R.shared;I.set(w.framebuffer,".next",E);var _=w.context;return I.set(_,"."+El,E+".width"),I.set(_,"."+_l,E+".height"),E})):En(function(R,I){var E=R.shared;I.set(E.framebuffer,".next","null");var w=E.context;return I.set(w,"."+El,w+"."+yy),I.set(w,"."+_l,w+"."+gy),"null"})}else if(ca in M){var P=M[ca];return sr(P,function(R,I){var E=R.invoke(I,P),w=R.shared,_=w.framebuffer,$=I.def(_,".getFramebuffer(",E,")");y.optional(function(){R.assert(I,"!"+E+"||"+$,"invalid framebuffer object")}),I.set(_,".next",$);var B=w.context;return I.set(B,"."+El,$+"?"+$+".width:"+B+"."+yy),I.set(B,"."+_l,$+"?"+$+".height:"+B+"."+gy),$})}else return null}function it(g,d,b){var M=g.static,F=g.dynamic;function P(E){if(E in M){var w=M[E];y.commandType(w,"object","invalid "+E,b.commandStr);var _=!0,$=w.x|0,B=w.y|0,Z,ne;return"width"in w?(Z=w.width|0,y.command(Z>=0,"invalid "+E,b.commandStr)):_=!1,"height"in w?(ne=w.height|0,y.command(ne>=0,"invalid "+E,b.commandStr)):_=!1,new Pn(!_&&d&&d.thisDep,!_&&d&&d.contextDep,!_&&d&&d.propDep,function(Ke,je){var oe=Ke.shared.context,K=Z;"width"in w||(K=je.def(oe,".",El,"-",$));var Ye=ne;return"height"in w||(Ye=je.def(oe,".",_l,"-",B)),[$,B,K,Ye]})}else if(E in F){var _e=F[E],at=sr(_e,function(Ke,je){var oe=Ke.invoke(je,_e);y.optional(function(){Ke.assert(je,oe+"&&typeof "+oe+'==="object"',"invalid "+E)});var K=Ke.shared.context,Ye=je.def(oe,".x|0"),He=je.def(oe,".y|0"),ot=je.def('"width" in ',oe,"?",oe,".width|0:","(",K,".",El,"-",Ye,")"),jt=je.def('"height" in ',oe,"?",oe,".height|0:","(",K,".",_l,"-",He,")");return y.optional(function(){Ke.assert(je,ot+">=0&&"+jt+">=0","invalid "+E)}),[Ye,He,ot,jt]});return d&&(at.thisDep=at.thisDep||d.thisDep,at.contextDep=at.contextDep||d.contextDep,at.propDep=at.propDep||d.propDep),at}else return d?new Pn(d.thisDep,d.contextDep,d.propDep,function(Ke,je){var oe=Ke.shared.context;return[0,0,je.def(oe,".",El),je.def(oe,".",_l)]}):null}var R=P(Ii);if(R){var I=R;R=new Pn(R.thisDep,R.contextDep,R.propDep,function(E,w){var _=I.append(E,w),$=E.shared.context;return w.set($,"."+J_,_[2]),w.set($,"."+eS,_[3]),_})}return{viewport:R,scissor_box:P(uf)}}function ut(g,d){var b=g.static,M=typeof b[Ks]=="string"&&typeof b[Qs]=="string";if(M){if(Object.keys(d.dynamic).length>0)return null;var F=d.static,P=Object.keys(F);if(P.length>0&&typeof F[P[0]]=="number"){for(var R=[],I=0;I<P.length;++I)y(typeof F[P[I]]=="number","must specify all vertex attribute locations when using vaos"),R.push([F[P[I]]|0,P[I]]);return R}}return null}function St(g,d,b){var M=g.static,F=g.dynamic;function P(_){if(_ in M){var $=v.id(M[_]);y.optional(function(){ge.shader(Cy[_],$,y.guessCommand())});var B=En(function(){return $});return B.id=$,B}else if(_ in F){var Z=F[_];return sr(Z,function(ne,_e){var at=ne.invoke(_e,Z),Ke=_e.def(ne.shared.strings,".id(",at,")");return y.optional(function(){_e(ne.shared.shader,".shader(",Cy[_],",",Ke,",",ne.command,");")}),Ke})}return null}var R=P(Ks),I=P(Qs),E=null,w;return vo(R)&&vo(I)?(E=ge.program(I.id,R.id,null,b),w=En(function(_,$){return _.link(E)})):w=new Pn(R&&R.thisDep||I&&I.thisDep,R&&R.contextDep||I&&I.contextDep,R&&R.propDep||I&&I.propDep,function(_,$){var B=_.shared.shader,Z;R?Z=R.append(_,$):Z=$.def(B,".",Ks);var ne;I?ne=I.append(_,$):ne=$.def(B,".",Qs);var _e=B+".program("+ne+","+Z;return y.optional(function(){_e+=","+_.command}),$.def(_e+")")}),{frag:R,vert:I,progVar:w,program:E}}function tn(g,d){var b=g.static,M=g.dynamic,F={},P=!1;function R(){if(qs in b){var je=b[qs];return je!==null&&pe.getVAO(je)===null&&(je=pe.createVAO(je)),P=!0,F.vao=je,En(function(K){var Ye=pe.getVAO(je);return Ye?K.link(Ye):"null"})}else if(qs in M){P=!0;var oe=M[qs];return sr(oe,function(K,Ye){var He=K.invoke(Ye,oe);return Ye.def(K.shared.vao+".getVAO("+He+")")})}return null}var I=R(),E=!1;function w(){if(fa in b){var je=b[fa];if(F.elements=je,_f(je)){var oe=F.elements=U.create(je,!0);je=U.getElements(oe),E=!0}else je&&(je=U.getElements(je),E=!0,y.command(je,"invalid elements",d.commandStr));var K=En(function(He,ot){if(je){var jt=He.link(je);return He.ELEMENTS=jt,jt}return He.ELEMENTS=null,null});return K.value=je,K}else if(fa in M){E=!0;var Ye=M[fa];return sr(Ye,function(He,ot){var jt=He.shared,zn=jt.isBufferArgs,va=jt.elements,Mi=He.invoke(ot,Ye),di=ot.def("null"),yo=ot.def(zn,"(",Mi,")"),ya=He.cond(yo).then(di,"=",va,".createStream(",Mi,");").else(di,"=",va,".getElements(",Mi,");");return y.optional(function(){He.assert(ya.else,"!"+Mi+"||"+di,"invalid elements")}),ot.entry(ya),ot.exit(He.cond(yo).then(va,".destroyStream(",di,");")),He.ELEMENTS=di,di})}else if(P)return new Pn(I.thisDep,I.contextDep,I.propDep,function(He,ot){return ot.def(He.shared.vao+".currentVAO?"+He.shared.elements+".getElements("+He.shared.vao+".currentVAO.elements):null")});return null}var _=w();function $(){if(da in b){var je=b[da];return F.primitive=je,y.commandParameter(je,li,"invalid primitve",d.commandStr),En(function(K,Ye){return li[je]})}else if(da in M){var oe=M[da];return sr(oe,function(K,Ye){var He=K.constants.primTypes,ot=K.invoke(Ye,oe);return y.optional(function(){K.assert(Ye,ot+" in "+He,"invalid primitive, must be one of "+Object.keys(li))}),Ye.def(He,"[",ot,"]")})}else{if(E)return vo(_)?_.value?En(function(K,Ye){return Ye.def(K.ELEMENTS,".primType")}):En(function(){return Mm}):new Pn(_.thisDep,_.contextDep,_.propDep,function(K,Ye){var He=K.ELEMENTS;return Ye.def(He,"?",He,".primType:",Mm)});if(P)return new Pn(I.thisDep,I.contextDep,I.propDep,function(K,Ye){return Ye.def(K.shared.vao+".currentVAO?"+K.shared.vao+".currentVAO.primitive:"+Mm)})}return null}function B(je,oe){if(je in b){var K=b[je]|0;return oe?F.offset=K:F.instances=K,y.command(!oe||K>=0,"invalid "+je,d.commandStr),En(function(He,ot){return oe&&(He.OFFSET=K),K})}else if(je in M){var Ye=M[je];return sr(Ye,function(He,ot){var jt=He.invoke(ot,Ye);return oe&&(He.OFFSET=jt,y.optional(function(){He.assert(ot,jt+">=0","invalid "+je)})),jt})}else if(oe){if(E)return En(function(He,ot){return He.OFFSET=0,0});if(P)return new Pn(I.thisDep,I.contextDep,I.propDep,function(He,ot){return ot.def(He.shared.vao+".currentVAO?"+He.shared.vao+".currentVAO.offset:0")})}else if(P)return new Pn(I.thisDep,I.contextDep,I.propDep,function(He,ot){return ot.def(He.shared.vao+".currentVAO?"+He.shared.vao+".currentVAO.instances:-1")});return null}var Z=B(cf,!0);function ne(){if(ha in b){var je=b[ha]|0;return F.count=je,y.command(typeof je=="number"&&je>=0,"invalid vertex count",d.commandStr),En(function(){return je})}else if(ha in M){var oe=M[ha];return sr(oe,function(ot,jt){var zn=ot.invoke(jt,oe);return y.optional(function(){ot.assert(jt,"typeof "+zn+'==="number"&&'+zn+">=0&&"+zn+"===("+zn+"|0)","invalid vertex count")}),zn})}else if(E)if(vo(_)){if(_)return Z?new Pn(Z.thisDep,Z.contextDep,Z.propDep,function(ot,jt){var zn=jt.def(ot.ELEMENTS,".vertCount-",ot.OFFSET);return y.optional(function(){ot.assert(jt,zn+">=0","invalid vertex offset/element buffer too small")}),zn}):En(function(ot,jt){return jt.def(ot.ELEMENTS,".vertCount")});var K=En(function(){return-1});return y.optional(function(){K.MISSING=!0}),K}else{var Ye=new Pn(_.thisDep||Z.thisDep,_.contextDep||Z.contextDep,_.propDep||Z.propDep,function(ot,jt){var zn=ot.ELEMENTS;return ot.OFFSET?jt.def(zn,"?",zn,".vertCount-",ot.OFFSET,":-1"):jt.def(zn,"?",zn,".vertCount:-1")});return y.optional(function(){Ye.DYNAMIC=!0}),Ye}else if(P){var He=new Pn(I.thisDep,I.contextDep,I.propDep,function(ot,jt){return jt.def(ot.shared.vao,".currentVAO?",ot.shared.vao,".currentVAO.count:-1")});return He}return null}var _e=$(),at=ne(),Ke=B(ff,!1);return{elements:_,primitive:_e,count:at,instances:Ke,offset:Z,vao:I,vaoActive:P,elementsActive:E,static:F}}function rn(g,d){var b=g.static,M=g.dynamic,F={};return Ze.forEach(function(P){var R=ze(P);function I(E,w){if(P in b){var _=E(b[P]);F[R]=En(function(){return _})}else if(P in M){var $=M[P];F[R]=sr($,function(B,Z){return w(B,Z,B.invoke(Z,$))})}}switch(P){case sy:case ny:case ty:case hy:case iy:case py:case cy:case fy:case dy:case ly:return I(function(E){return y.commandType(E,"boolean",P,d.commandStr),E},function(E,w,_){return y.optional(function(){E.assert(w,"typeof "+_+'==="boolean"',"invalid flag "+P,E.commandStr)}),_});case oy:return I(function(E){return y.commandParameter(E,wl,"invalid "+P,d.commandStr),wl[E]},function(E,w,_){var $=E.constants.compareFuncs;return y.optional(function(){E.assert(w,_+" in "+$,"invalid "+P+", must be one of "+Object.keys(wl))}),w.def($,"[",_,"]")});case ay:return I(function(E){return y.command(Zt(E)&&E.length===2&&typeof E[0]=="number"&&typeof E[1]=="number"&&E[0]<=E[1],"depth range is 2d array",d.commandStr),E},function(E,w,_){y.optional(function(){E.assert(w,E.shared.isArrayLike+"("+_+")&&"+_+".length===2&&typeof "+_+'[0]==="number"&&typeof '+_+'[1]==="number"&&'+_+"[0]<="+_+"[1]","depth range must be a 2d array")});var $=w.def("+",_,"[0]"),B=w.def("+",_,"[1]");return[$,B]});case _m:return I(function(E){y.commandType(E,"object","blend.func",d.commandStr);var w="srcRGB"in E?E.srcRGB:E.src,_="srcAlpha"in E?E.srcAlpha:E.src,$="dstRGB"in E?E.dstRGB:E.dst,B="dstAlpha"in E?E.dstAlpha:E.dst;return y.commandParameter(w,ci,R+".srcRGB",d.commandStr),y.commandParameter(_,ci,R+".srcAlpha",d.commandStr),y.commandParameter($,ci,R+".dstRGB",d.commandStr),y.commandParameter(B,ci,R+".dstAlpha",d.commandStr),y.command(Ay.indexOf(w+", "+$)===-1,"unallowed blending combination (srcRGB, dstRGB) = ("+w+", "+$+")",d.commandStr),[ci[w],ci[$],ci[_],ci[B]]},function(E,w,_){var $=E.constants.blendFuncs;y.optional(function(){E.assert(w,_+"&&typeof "+_+'==="object"',"invalid blend func, must be an object")});function B(oe,K){var Ye=w.def('"',oe,K,'" in ',_,"?",_,".",oe,K,":",_,".",oe);return y.optional(function(){E.assert(w,Ye+" in "+$,"invalid "+P+"."+oe+K+", must be one of "+Object.keys(ci))}),Ye}var Z=B("src","RGB"),ne=B("dst","RGB");y.optional(function(){var oe=E.constants.invalidBlendCombinations;E.assert(w,oe+".indexOf("+Z+'+", "+'+ne+") === -1 ","unallowed blending combination for (srcRGB, dstRGB)")});var _e=w.def($,"[",Z,"]"),at=w.def($,"[",B("src","Alpha"),"]"),Ke=w.def($,"[",ne,"]"),je=w.def($,"[",B("dst","Alpha"),"]");return[_e,Ke,at,je]});case Em:return I(function(E){if(typeof E=="string")return y.commandParameter(E,X,"invalid "+P,d.commandStr),[X[E],X[E]];if(typeof E=="object")return y.commandParameter(E.rgb,X,P+".rgb",d.commandStr),y.commandParameter(E.alpha,X,P+".alpha",d.commandStr),[X[E.rgb],X[E.alpha]];y.commandRaise("invalid blend.equation",d.commandStr)},function(E,w,_){var $=E.constants.blendEquations,B=w.def(),Z=w.def(),ne=E.cond("typeof ",_,'==="string"');return y.optional(function(){function _e(at,Ke,je){E.assert(at,je+" in "+$,"invalid "+Ke+", must be one of "+Object.keys(X))}_e(ne.then,P,_),E.assert(ne.else,_+"&&typeof "+_+'==="object"',"invalid "+P),_e(ne.else,P+".rgb",_+".rgb"),_e(ne.else,P+".alpha",_+".alpha")}),ne.then(B,"=",Z,"=",$,"[",_,"];"),ne.else(B,"=",$,"[",_,".rgb];",Z,"=",$,"[",_,".alpha];"),w(ne),[B,Z]});case ry:return I(function(E){return y.command(Zt(E)&&E.length===4,"blend.color must be a 4d array",d.commandStr),fn(4,function(w){return+E[w]})},function(E,w,_){return y.optional(function(){E.assert(w,E.shared.isArrayLike+"("+_+")&&"+_+".length===4","blend.color must be a 4d array")}),fn(4,function($){return w.def("+",_,"[",$,"]")})});case my:return I(function(E){return y.commandType(E,"number",R,d.commandStr),E|0},function(E,w,_){return y.optional(function(){E.assert(w,"typeof "+_+'==="number"',"invalid stencil.mask")}),w.def(_,"|0")});case bm:return I(function(E){y.commandType(E,"object",R,d.commandStr);var w=E.cmp||"keep",_=E.ref||0,$="mask"in E?E.mask:-1;return y.commandParameter(w,wl,P+".cmp",d.commandStr),y.commandType(_,"number",P+".ref",d.commandStr),y.commandType($,"number",P+".mask",d.commandStr),[wl[w],_,$]},function(E,w,_){var $=E.constants.compareFuncs;y.optional(function(){function _e(){E.assert(w,Array.prototype.join.call(arguments,""),"invalid stencil.func")}_e(_+"&&typeof ",_,'==="object"'),_e('!("cmp" in ',_,")||(",_,".cmp in ",$,")")});var B=w.def('"cmp" in ',_,"?",$,"[",_,".cmp]",":",mo),Z=w.def(_,".ref|0"),ne=w.def('"mask" in ',_,"?",_,".mask|0:-1");return[B,Z,ne]});case Lm:case Xs:return I(function(E){y.commandType(E,"object",R,d.commandStr);var w=E.fail||"keep",_=E.zfail||"keep",$=E.zpass||"keep";return y.commandParameter(w,po,P+".fail",d.commandStr),y.commandParameter(_,po,P+".zfail",d.commandStr),y.commandParameter($,po,P+".zpass",d.commandStr),[P===Xs?ma:ru,po[w],po[_],po[$]]},function(E,w,_){var $=E.constants.stencilOps;y.optional(function(){E.assert(w,_+"&&typeof "+_+'==="object"',"invalid "+P)});function B(Z){return y.optional(function(){E.assert(w,'!("'+Z+'" in '+_+")||("+_+"."+Z+" in "+$+")","invalid "+P+"."+Z+", must be one of "+Object.keys(po))}),w.def('"',Z,'" in ',_,"?",$,"[",_,".",Z,"]:",mo)}return[P===Xs?ma:ru,B("fail"),B("zfail"),B("zpass")]});case Am:return I(function(E){y.commandType(E,"object",R,d.commandStr);var w=E.factor|0,_=E.units|0;return y.commandType(w,"number",R+".factor",d.commandStr),y.commandType(_,"number",R+".units",d.commandStr),[w,_]},function(E,w,_){y.optional(function(){E.assert(w,_+"&&typeof "+_+'==="object"',"invalid "+P)});var $=w.def(_,".factor|0"),B=w.def(_,".units|0");return[$,B]});case uy:return I(function(E){var w=0;return E==="front"?w=ru:E==="back"&&(w=ma),y.command(!!w,R,d.commandStr),w},function(E,w,_){return y.optional(function(){E.assert(w,_+'==="front"||'+_+'==="back"',"invalid cull.face")}),w.def(_,'==="front"?',ru,":",ma)});case Tm:return I(function(E){return y.command(typeof E=="number"&&E>=H.lineWidthDims[0]&&E<=H.lineWidthDims[1],"invalid line width, must be a positive number between "+H.lineWidthDims[0]+" and "+H.lineWidthDims[1],d.commandStr),E},function(E,w,_){return y.optional(function(){E.assert(w,"typeof "+_+'==="number"&&'+_+">="+H.lineWidthDims[0]+"&&"+_+"<="+H.lineWidthDims[1],"invalid line width")}),_});case wm:return I(function(E){return y.commandParameter(E,Fm,R,d.commandStr),Fm[E]},function(E,w,_){return y.optional(function(){E.assert(w,_+'==="cw"||'+_+'==="ccw"',"invalid frontFace, must be one of cw,ccw")}),w.def(_+'==="cw"?'+Ey+":"+Dm)});case Sm:return I(function(E){return y.command(Zt(E)&&E.length===4,"color.mask must be length 4 array",d.commandStr),E.map(function(w){return!!w})},function(E,w,_){return y.optional(function(){E.assert(w,E.shared.isArrayLike+"("+_+")&&"+_+".length===4","invalid color.mask")}),fn(4,function($){return"!!"+_+"["+$+"]"})});case Cm:return I(function(E){y.command(typeof E=="object"&&E,R,d.commandStr);var w="value"in E?E.value:1,_=!!E.invert;return y.command(typeof w=="number"&&w>=0&&w<=1,"sample.coverage.value must be a number between 0 and 1",d.commandStr),[w,_]},function(E,w,_){y.optional(function(){E.assert(w,_+"&&typeof "+_+'==="object"',"invalid sample.coverage")});var $=w.def('"value" in ',_,"?+",_,".value:1"),B=w.def("!!",_,".invert");return[$,B]})}}),F}function Tt(g,d){var b=g.static,M=g.dynamic,F={};return Object.keys(b).forEach(function(P){var R=b[P],I;if(typeof R=="number"||typeof R=="boolean")I=En(function(){return R});else if(typeof R=="function"){var E=R._reglType;E==="texture2d"||E==="textureCube"?I=En(function(w){return w.link(R)}):E==="framebuffer"||E==="framebufferCube"?(y.command(R.color.length>0,'missing color attachment for framebuffer sent to uniform "'+P+'"',d.commandStr),I=En(function(w){return w.link(R.color[0])})):y.commandRaise('invalid data for uniform "'+P+'"',d.commandStr)}else Zt(R)?I=En(function(w){var _=w.global.def("[",fn(R.length,function($){return y.command(typeof R[$]=="number"||typeof R[$]=="boolean","invalid uniform "+P,w.commandStr),R[$]}),"]");return _}):y.commandRaise('invalid or missing data for uniform "'+P+'"',d.commandStr);I.value=R,F[P]=I}),Object.keys(M).forEach(function(P){var R=M[P];F[P]=sr(R,function(I,E){return I.invoke(E,R)})}),F}function Cn(g,d){var b=g.static,M=g.dynamic,F={};return Object.keys(b).forEach(function(P){var R=b[P],I=v.id(P),E=new D;if(_f(R))E.state=xl,E.buffer=ee.getBuffer(ee.create(R,Sl,!1,!0)),E.type=0;else{var w=ee.getBuffer(R);if(w)E.state=xl,E.buffer=w,E.type=0;else if(y.command(typeof R=="object"&&R,"invalid data for attribute "+P,d.commandStr),"constant"in R){var _=R.constant;E.buffer="null",E.state=pm,typeof _=="number"?E.x=_:(y.command(Zt(_)&&_.length>0&&_.length<=4,"invalid constant for attribute "+P,d.commandStr),gl.forEach(function(Ke,je){je<_.length&&(E[Ke]=_[je])}))}else{_f(R.buffer)?w=ee.getBuffer(ee.create(R.buffer,Sl,!1,!0)):w=ee.getBuffer(R.buffer),y.command(!!w,'missing buffer for attribute "'+P+'"',d.commandStr);var $=R.offset|0;y.command($>=0,'invalid offset for attribute "'+P+'"',d.commandStr);var B=R.stride|0;y.command(B>=0&&B<256,'invalid stride for attribute "'+P+'", must be integer betweeen [0, 255]',d.commandStr);var Z=R.size|0;y.command(!("size"in R)||Z>0&&Z<=4,'invalid size for attribute "'+P+'", must be 1,2,3,4',d.commandStr);var ne=!!R.normalized,_e=0;"type"in R&&(y.commandParameter(R.type,oo,"invalid type for attribute "+P,d.commandStr),_e=oo[R.type]);var at=R.divisor|0;y.optional(function(){"divisor"in R&&(y.command(at===0||he,'cannot specify divisor for attribute "'+P+'", instancing not supported',d.commandStr),y.command(at>=0,'invalid divisor for attribute "'+P+'"',d.commandStr));var Ke=d.commandStr,je=["buffer","offset","divisor","normalized","type","size","stride"];Object.keys(R).forEach(function(oe){y.command(je.indexOf(oe)>=0,'unknown parameter "'+oe+'" for attribute pointer "'+P+'" (valid parameters are '+je+")",Ke)})}),E.buffer=w,E.state=xl,E.size=Z,E.normalized=ne,E.type=_e||w.dtype,E.offset=$,E.stride=B,E.divisor=at}}F[P]=En(function(Ke,je){var oe=Ke.attribCache;if(I in oe)return oe[I];var K={isStream:!1};return Object.keys(E).forEach(function(Ye){K[Ye]=E[Ye]}),E.buffer&&(K.buffer=Ke.link(E.buffer),K.type=K.type||K.buffer+".dtype"),oe[I]=K,K})}),Object.keys(M).forEach(function(P){var R=M[P];function I(E,w){var _=E.invoke(w,R),$=E.shared,B=E.constants,Z=$.isBufferArgs,ne=$.buffer;y.optional(function(){E.assert(w,_+"&&(typeof "+_+'==="object"||typeof '+_+'==="function")&&('+Z+"("+_+")||"+ne+".getBuffer("+_+")||"+ne+".getBuffer("+_+".buffer)||"+Z+"("+_+'.buffer)||("constant" in '+_+"&&(typeof "+_+'.constant==="number"||'+$.isArrayLike+"("+_+".constant))))",'invalid dynamic attribute "'+P+'"')});var _e={isStream:w.def(!1)},at=new D;at.state=xl,Object.keys(at).forEach(function(K){_e[K]=w.def(""+at[K])});var Ke=_e.buffer,je=_e.type;w("if(",Z,"(",_,")){",_e.isStream,"=true;",Ke,"=",ne,".createStream(",Sl,",",_,");",je,"=",Ke,".dtype;","}else{",Ke,"=",ne,".getBuffer(",_,");","if(",Ke,"){",je,"=",Ke,".dtype;",'}else if("constant" in ',_,"){",_e.state,"=",pm,";","if(typeof "+_+'.constant === "number"){',_e[gl[0]],"=",_,".constant;",gl.slice(1).map(function(K){return _e[K]}).join("="),"=0;","}else{",gl.map(function(K,Ye){return _e[K]+"="+_+".constant.length>"+Ye+"?"+_+".constant["+Ye+"]:0;"}).join(""),"}}else{","if(",Z,"(",_,".buffer)){",Ke,"=",ne,".createStream(",Sl,",",_,".buffer);","}else{",Ke,"=",ne,".getBuffer(",_,".buffer);","}",je,'="type" in ',_,"?",B.glTypes,"[",_,".type]:",Ke,".dtype;",_e.normalized,"=!!",_,".normalized;");function oe(K){w(_e[K],"=",_,".",K,"|0;")}return oe("size"),oe("offset"),oe("stride"),oe("divisor"),w("}}"),w.exit("if(",_e.isStream,"){",ne,".destroyStream(",Ke,");","}"),_e}F[P]=sr(R,I)}),F}function Jt(g){var d=g.static,b=g.dynamic,M={};return Object.keys(d).forEach(function(F){var P=d[F];M[F]=En(function(R,I){return typeof P=="number"||typeof P=="boolean"?""+P:R.link(P)})}),Object.keys(b).forEach(function(F){var P=b[F];M[F]=sr(P,function(R,I){return R.invoke(I,P)})}),M}function _n(g,d,b,M,F){var P=g.static,R=g.dynamic;y.optional(function(){var oe=[ca,Qs,Ks,fa,da,cf,ha,ff,Ys,qs].concat(Ze);function K(Ye){Object.keys(Ye).forEach(function(He){y.command(oe.indexOf(He)>=0,'unknown parameter "'+He+'"',F.commandStr)})}K(P),K(R)});var I=ut(g,d),E=Ie(g),w=it(g,E,F),_=tn(g,F),$=rn(g,F),B=St(g,F,I);function Z(oe){var K=w[oe];K&&($[oe]=K)}Z(Ii),Z(ze(uf));var ne=Object.keys($).length>0,_e={framebuffer:E,draw:_,shader:B,state:$,dirty:ne,scopeVAO:null,drawVAO:null,useVAO:!1,attributes:{}};if(_e.profile=Oe(g),_e.uniforms=Tt(b,F),_e.drawVAO=_e.scopeVAO=_.vao,!_e.drawVAO&&B.program&&!I&&A.angle_instanced_arrays&&_.static.elements){var at=!0,Ke=B.program.attributes.map(function(oe){var K=d.static[oe];return at=at&&!!K,K});if(at&&Ke.length>0){var je=pe.getVAO(pe.createVAO({attributes:Ke,elements:_.static.elements}));_e.drawVAO=new Pn(null,null,null,function(oe,K){return oe.link(je)}),_e.useVAO=!0}}return I?_e.useVAO=!0:_e.attributes=Cn(d,F),_e.context=Jt(M),_e}function bn(g,d,b){var M=g.shared,F=M.context,P=g.scope();Object.keys(b).forEach(function(R){d.save(F,"."+R);var I=b[R],E=I.append(g,d);Array.isArray(E)?P(F,".",R,"=[",E.join(),"];"):P(F,".",R,"=",E,";")}),d(P)}function Ln(g,d,b,M){var F=g.shared,P=F.gl,R=F.framebuffer,I;De&&(I=d.def(F.extensions,".webgl_draw_buffers"));var E=g.constants,w=E.drawBuffer,_=E.backBuffer,$;b?$=b.append(g,d):$=d.def(R,".next"),M||d("if(",$,"!==",R,".cur){"),d("if(",$,"){",P,".bindFramebuffer(",Ty,",",$,".framebuffer);"),De&&d(I,".drawBuffersWEBGL(",w,"[",$,".colorAttachments.length]);"),d("}else{",P,".bindFramebuffer(",Ty,",null);"),De&&d(I,".drawBuffersWEBGL(",_,");"),d("}",R,".cur=",$,";"),M||d("}")}function Mn(g,d,b){var M=g.shared,F=M.gl,P=g.current,R=g.next,I=M.current,E=M.next,w=g.cond(I,".dirty");Ze.forEach(function(_){var $=ze(_);if(!($ in b.state)){var B,Z;if($ in R){B=R[$],Z=P[$];var ne=fn(ke[$].length,function(at){return w.def(B,"[",at,"]")});w(g.cond(ne.map(function(at,Ke){return at+"!=="+Z+"["+Ke+"]"}).join("||")).then(F,".",J[$],"(",ne,");",ne.map(function(at,Ke){return Z+"["+Ke+"]="+at}).join(";"),";"))}else{B=w.def(E,".",$);var _e=g.cond(B,"!==",I,".",$);w(_e),$ in te?_e(g.cond(B).then(F,".enable(",te[$],");").else(F,".disable(",te[$],");"),I,".",$,"=",B,";"):_e(F,".",J[$],"(",B,");",I,".",$,"=",B,";")}}}),Object.keys(b.state).length===0&&w(I,".dirty=false;"),d(w)}function Gn(g,d,b,M){var F=g.shared,P=g.current,R=F.current,I=F.gl;by(Object.keys(b)).forEach(function(E){var w=b[E];if(!(M&&!M(w))){var _=w.append(g,d);if(te[E]){var $=te[E];vo(w)?_?d(I,".enable(",$,");"):d(I,".disable(",$,");"):d(g.cond(_).then(I,".enable(",$,");").else(I,".disable(",$,");")),d(R,".",E,"=",_,";")}else if(Zt(_)){var B=P[E];d(I,".",J[E],"(",_,");",_.map(function(Z,ne){return B+"["+ne+"]="+Z}).join(";"),";")}else d(I,".",J[E],"(",_,");",R,".",E,"=",_,";")}})}function dn(g,d){he&&(g.instancing=d.def(g.shared.extensions,".angle_instanced_arrays"))}function ht(g,d,b,M,F){var P=g.shared,R=g.stats,I=P.current,E=P.timer,w=b.profile;function _(){return typeof performance>"u"?"Date.now()":"performance.now()"}var $,B;function Z(oe){$=d.def(),oe($,"=",_(),";"),typeof F=="string"?oe(R,".count+=",F,";"):oe(R,".count++;"),fe&&(M?(B=d.def(),oe(B,"=",E,".getNumPendingQueries();")):oe(E,".beginQuery(",R,");"))}function ne(oe){oe(R,".cpuTime+=",_(),"-",$,";"),fe&&(M?oe(E,".pushScopeStats(",B,",",E,".getNumPendingQueries(),",R,");"):oe(E,".endQuery();"))}function _e(oe){var K=d.def(I,".profile");d(I,".profile=",oe,";"),d.exit(I,".profile=",K,";")}var at;if(w){if(vo(w)){w.enable?(Z(d),ne(d.exit),_e("true")):_e("false");return}at=w.append(g,d),_e(at)}else at=d.def(I,".profile");var Ke=g.block();Z(Ke),d("if(",at,"){",Ke,"}");var je=g.block();ne(je),d.exit("if(",at,"){",je,"}")}function $n(g,d,b,M,F){var P=g.shared;function R(E){switch(E){case df:case pf:case gf:return 2;case hf:case vf:case xf:return 3;case mf:case yf:case Ef:return 4;default:return 1}}function I(E,w,_){var $=P.gl,B=d.def(E,".location"),Z=d.def(P.attributes,"[",B,"]"),ne=_.state,_e=_.buffer,at=[_.x,_.y,_.z,_.w],Ke=["buffer","normalized","offset","stride"];function je(){d("if(!",Z,".buffer){",$,".enableVertexAttribArray(",B,");}");var K=_.type,Ye;if(_.size?Ye=d.def(_.size,"||",w):Ye=w,d("if(",Z,".type!==",K,"||",Z,".size!==",Ye,"||",Ke.map(function(ot){return Z+"."+ot+"!=="+_[ot]}).join("||"),"){",$,".bindBuffer(",Sl,",",_e,".buffer);",$,".vertexAttribPointer(",[B,Ye,K,_.normalized,_.stride,_.offset],");",Z,".type=",K,";",Z,".size=",Ye,";",Ke.map(function(ot){return Z+"."+ot+"="+_[ot]+";"}).join(""),"}"),he){var He=_.divisor;d("if(",Z,".divisor!==",He,"){",g.instancing,".vertexAttribDivisorANGLE(",[B,He],");",Z,".divisor=",He,";}")}}function oe(){d("if(",Z,".buffer){",$,".disableVertexAttribArray(",B,");",Z,".buffer=null;","}if(",gl.map(function(K,Ye){return Z+"."+K+"!=="+at[Ye]}).join("||"),"){",$,".vertexAttrib4f(",B,",",at,");",gl.map(function(K,Ye){return Z+"."+K+"="+at[Ye]+";"}).join(""),"}")}ne===xl?je():ne===pm?oe():(d("if(",ne,"===",xl,"){"),je(),d("}else{"),oe(),d("}"))}M.forEach(function(E){var w=E.name,_=b.attributes[w],$;if(_){if(!F(_))return;$=_.append(g,d)}else{if(!F(Ly))return;var B=g.scopeAttrib(w);y.optional(function(){g.assert(d,B+".state","missing attribute "+w)}),$={},Object.keys(new D).forEach(function(Z){$[Z]=d.def(B,".",Z)})}I(g.link(E),R(E.info.type),$)})}function Dt(g,d,b,M,F,P){for(var R=g.shared,I=R.gl,E={},w,_=0;_<M.length;++_){var $=M[_],B=$.name,Z=$.info.type,ne=$.info.size,_e=b.uniforms[B];if(ne>1){if(!_e)continue;var at=B.replace("[0]","");if(E[at])continue;E[at]=1}var Ke=g.link($),je=Ke+".location",oe;if(_e){if(!F(_e))continue;if(vo(_e)){var K=_e.value;if(y.command(K!==null&&typeof K<"u",'missing uniform "'+B+'"',g.commandStr),Z===tu||Z===nu){y.command(typeof K=="function"&&(Z===tu&&(K._reglType==="texture2d"||K._reglType==="framebuffer")||Z===nu&&(K._reglType==="textureCube"||K._reglType==="framebufferCube")),"invalid texture for uniform "+B,g.commandStr);var Ye=g.link(K._texture||K.color[0]._texture);d(I,".uniform1i(",je,",",Ye+".bind());"),d.exit(Ye,".unbind();")}else if(Z===Zs||Z===Js||Z===eu){y.optional(function(){y.command(Zt(K),"invalid matrix for uniform "+B,g.commandStr),y.command(Z===Zs&&K.length===4||Z===Js&&K.length===9||Z===eu&&K.length===16,"invalid length for matrix uniform "+B,g.commandStr)});var He=g.global.def("new Float32Array(["+Array.prototype.slice.call(K)+"])"),ot=2;Z===Js?ot=3:Z===eu&&(ot=4),d(I,".uniformMatrix",ot,"fv(",je,",false,",He,");")}else{switch(Z){case km:ne===1?y.commandType(K,"number","uniform "+B,g.commandStr):y.command(Zt(K)&&K.length===ne,"uniform "+B,g.commandStr),w="1f";break;case df:y.command(Zt(K)&&K.length&&K.length%2===0&&K.length<=ne*2,"uniform "+B,g.commandStr),w="2f";break;case hf:y.command(Zt(K)&&K.length&&K.length%3===0&&K.length<=ne*3,"uniform "+B,g.commandStr),w="3f";break;case mf:y.command(Zt(K)&&K.length&&K.length%4===0&&K.length<=ne*4,"uniform "+B,g.commandStr),w="4f";break;case Im:ne===1?y.commandType(K,"boolean","uniform "+B,g.commandStr):y.command(Zt(K)&&K.length===ne,"uniform "+B,g.commandStr),w="1i";break;case Nm:ne===1?y.commandType(K,"number","uniform "+B,g.commandStr):y.command(Zt(K)&&K.length===ne,"uniform "+B,g.commandStr),w="1i";break;case gf:y.command(Zt(K)&&K.length&&K.length%2===0&&K.length<=ne*2,"uniform "+B,g.commandStr),w="2i";break;case pf:y.command(Zt(K)&&K.length&&K.length%2===0&&K.length<=ne*2,"uniform "+B,g.commandStr),w="2i";break;case xf:y.command(Zt(K)&&K.length&&K.length%3===0&&K.length<=ne*3,"uniform "+B,g.commandStr),w="3i";break;case vf:y.command(Zt(K)&&K.length&&K.length%3===0&&K.length<=ne*3,"uniform "+B,g.commandStr),w="3i";break;case Ef:y.command(Zt(K)&&K.length&&K.length%4===0&&K.length<=ne*4,"uniform "+B,g.commandStr),w="4i";break;case yf:y.command(Zt(K)&&K.length&&K.length%4===0&&K.length<=ne*4,"uniform "+B,g.commandStr),w="4i";break}ne>1?(w+="v",K=g.global.def("["+Array.prototype.slice.call(K)+"]")):K=Zt(K)?Array.prototype.slice.call(K):K,d(I,".uniform",w,"(",je,",",K,");")}continue}else oe=_e.append(g,d)}else{if(!F(Ly))continue;oe=d.def(R.uniforms,"[",v.id(B),"]")}Z===tu?(y(!Array.isArray(oe),"must specify a scalar prop for textures"),d("if(",oe,"&&",oe,'._reglType==="framebuffer"){',oe,"=",oe,".color[0];","}")):Z===nu&&(y(!Array.isArray(oe),"must specify a scalar prop for cube maps"),d("if(",oe,"&&",oe,'._reglType==="framebufferCube"){',oe,"=",oe,".color[0];","}")),y.optional(function(){function Sr(ur,Sf){g.assert(d,ur,'bad data or missing for uniform "'+B+'".  '+Sf)}function ga(ur,Sf){Sf===1&&y(!Array.isArray(oe),"must not specify an array type for uniform"),Sr("Array.isArray("+oe+") && typeof "+oe+'[0]===" '+ur+'" || typeof '+oe+'==="'+ur+'"',"invalid type, expected "+ur)}function Nr(ur,Sf,wf){Array.isArray(oe)?y(oe.length&&oe.length%ur===0&&oe.length<=ur*wf,"must have length of "+(wf===1?"":"n * ")+ur):Sr(R.isArrayLike+"("+oe+")&&"+oe+".length && "+oe+".length % "+ur+" === 0 && "+oe+".length<="+ur*wf,"invalid vector, should have length of "+(wf===1?"":"n * ")+ur,g.commandStr)}function My(ur){y(!Array.isArray(oe),"must not specify a value type"),Sr("typeof "+oe+'==="function"&&'+oe+'._reglType==="texture'+(ur===xy?"2d":"Cube")+'"',"invalid texture type",g.commandStr)}switch(Z){case Nm:ga("number",ne);break;case pf:Nr(2,"number",ne);break;case vf:Nr(3,"number",ne);break;case yf:Nr(4,"number",ne);break;case km:ga("number",ne);break;case df:Nr(2,"number",ne);break;case hf:Nr(3,"number",ne);break;case mf:Nr(4,"number",ne);break;case Im:ga("boolean",ne);break;case gf:Nr(2,"boolean",ne);break;case xf:Nr(3,"boolean",ne);break;case Ef:Nr(4,"boolean",ne);break;case Zs:Nr(4,"number",ne);break;case Js:Nr(9,"number",ne);break;case eu:Nr(16,"number",ne);break;case tu:My(xy);break;case nu:My(iS);break}});var jt=1;switch(Z){case tu:case nu:var zn=d.def(oe,"._texture");d(I,".uniform1i(",je,",",zn,".bind());"),d.exit(zn,".unbind();");continue;case Nm:case Im:w="1i";break;case pf:case gf:w="2i",jt=2;break;case vf:case xf:w="3i",jt=3;break;case yf:case Ef:w="4i",jt=4;break;case km:w="1f";break;case df:w="2f",jt=2;break;case hf:w="3f",jt=3;break;case mf:w="4f",jt=4;break;case Zs:w="Matrix2fv";break;case Js:w="Matrix3fv";break;case eu:w="Matrix4fv";break}if(w.indexOf("Matrix")===-1&&ne>1&&(w+="v",jt=1),w.charAt(0)==="M"){d(I,".uniform",w,"(",je,",");var va=Math.pow(Z-Zs+2,2),Mi=g.global.def("new Float32Array(",va,")");Array.isArray(oe)?d("false,(",fn(va,function(Sr){return Mi+"["+Sr+"]="+oe[Sr]}),",",Mi,")"):d("false,(Array.isArray(",oe,")||",oe," instanceof Float32Array)?",oe,":(",fn(va,function(Sr){return Mi+"["+Sr+"]="+oe+"["+Sr+"]"}),",",Mi,")"),d(");")}else if(jt>1){for(var di=[],yo=[],ya=0;ya<jt;++ya)Array.isArray(oe)?yo.push(oe[ya]):yo.push(d.def(oe+"["+ya+"]")),P&&di.push(d.def());P&&d("if(!",g.batchId,"||",di.map(function(Sr,ga){return Sr+"!=="+yo[ga]}).join("||"),"){",di.map(function(Sr,ga){return Sr+"="+yo[ga]+";"}).join("")),d(I,".uniform",w,"(",je,",",yo.join(","),");"),P&&d("}")}else{if(y(!Array.isArray(oe),"uniform value must not be an array"),P){var Iy=d.def();d("if(!",g.batchId,"||",Iy,"!==",oe,"){",Iy,"=",oe,";")}d(I,".uniform",w,"(",je,",",oe,");"),P&&d("}")}}}function rt(g,d,b,M){var F=g.shared,P=F.gl,R=F.draw,I=M.draw;function E(){var Ye=I.elements,He,ot=d;return Ye?((Ye.contextDep&&M.contextDynamic||Ye.propDep)&&(ot=b),He=Ye.append(g,ot),I.elementsActive&&ot("if("+He+")"+P+".bindBuffer("+Pm+","+He+".buffer.buffer);")):(He=ot.def(),ot(He,"=",R,".",fa,";","if(",He,"){",P,".bindBuffer(",Pm,",",He,".buffer.buffer);}","else if(",F.vao,".currentVAO){",He,"=",g.shared.elements+".getElements("+F.vao,".currentVAO.elements);",ae?"":"if("+He+")"+P+".bindBuffer("+Pm+","+He+".buffer.buffer);","}")),He}function w(){var Ye=I.count,He,ot=d;return Ye?((Ye.contextDep&&M.contextDynamic||Ye.propDep)&&(ot=b),He=Ye.append(g,ot),y.optional(function(){Ye.MISSING&&g.assert(d,"false","missing vertex count"),Ye.DYNAMIC&&g.assert(ot,He+">=0","missing vertex count")})):(He=ot.def(R,".",ha),y.optional(function(){g.assert(ot,He+">=0","missing vertex count")})),He}var _=E();function $(Ye){var He=I[Ye];return He?He.contextDep&&M.contextDynamic||He.propDep?He.append(g,b):He.append(g,d):d.def(R,".",Ye)}var B=$(da),Z=$(cf),ne=w();if(typeof ne=="number"){if(ne===0)return}else b("if(",ne,"){"),b.exit("}");var _e,at;he&&(_e=$(ff),at=g.instancing);var Ke=_+".type",je=I.elements&&vo(I.elements)&&!I.vaoActive;function oe(){function Ye(){b(at,".drawElementsInstancedANGLE(",[B,ne,Ke,Z+"<<(("+Ke+"-"+Zv+")>>1)",_e],");")}function He(){b(at,".drawArraysInstancedANGLE(",[B,Z,ne,_e],");")}_&&_!=="null"?je?Ye():(b("if(",_,"){"),Ye(),b("}else{"),He(),b("}")):He()}function K(){function Ye(){b(P+".drawElements("+[B,ne,Ke,Z+"<<(("+Ke+"-"+Zv+")>>1)"]+");")}function He(){b(P+".drawArrays("+[B,Z,ne]+");")}_&&_!=="null"?je?Ye():(b("if(",_,"){"),Ye(),b("}else{"),He(),b("}")):He()}he&&(typeof _e!="number"||_e>=0)?typeof _e=="string"?(b("if(",_e,">0){"),oe(),b("}else if(",_e,"<0){"),K(),b("}")):oe():K()}function wt(g,d,b,M,F){var P=lt(),R=P.proc("body",F);return y.optional(function(){P.commandStr=d.commandStr,P.command=P.link(d.commandStr)}),he&&(P.instancing=R.def(P.shared.extensions,".angle_instanced_arrays")),g(P,R,b,M),P.compile().body}function Ot(g,d,b,M){dn(g,d),b.useVAO?b.drawVAO?d(g.shared.vao,".setVAO(",b.drawVAO.append(g,d),");"):d(g.shared.vao,".setVAO(",g.shared.vao,".targetVAO);"):(d(g.shared.vao,".setVAO(null);"),$n(g,d,b,M.attributes,function(){return!0})),Dt(g,d,b,M.uniforms,function(){return!0},!1),rt(g,d,d,b)}function hn(g,d){var b=g.proc("draw",1);dn(g,b),bn(g,b,d.context),Ln(g,b,d.framebuffer),Mn(g,b,d),Gn(g,b,d.state),ht(g,b,d,!1,!0);var M=d.shader.progVar.append(g,b);if(b(g.shared.gl,".useProgram(",M,".program);"),d.shader.program)Ot(g,b,d,d.shader.program);else{b(g.shared.vao,".setVAO(null);");var F=g.global.def("{}"),P=b.def(M,".id"),R=b.def(F,"[",P,"]");b(g.cond(R).then(R,".call(this,a0);").else(R,"=",F,"[",P,"]=",g.link(function(I){return wt(Ot,g,d,I,1)}),"(",M,");",R,".call(this,a0);"))}Object.keys(d.state).length>0&&b(g.shared.current,".dirty=true;"),g.shared.vao&&b(g.shared.vao,".setVAO(null);")}function fi(g,d,b,M){g.batchId="a1",dn(g,d);function F(){return!0}$n(g,d,b,M.attributes,F),Dt(g,d,b,M.uniforms,F,!1),rt(g,d,d,b)}function pa(g,d,b,M){dn(g,d);var F=b.contextDep,P=d.def(),R="a0",I="a1",E=d.def();g.shared.props=E,g.batchId=P;var w=g.scope(),_=g.scope();d(w.entry,"for(",P,"=0;",P,"<",I,";++",P,"){",E,"=",R,"[",P,"];",_,"}",w.exit);function $(Ke){return Ke.contextDep&&F||Ke.propDep}function B(Ke){return!$(Ke)}if(b.needsContext&&bn(g,_,b.context),b.needsFramebuffer&&Ln(g,_,b.framebuffer),Gn(g,_,b.state,$),b.profile&&$(b.profile)&&ht(g,_,b,!1,!0),M)b.useVAO?b.drawVAO?$(b.drawVAO)?_(g.shared.vao,".setVAO(",b.drawVAO.append(g,_),");"):w(g.shared.vao,".setVAO(",b.drawVAO.append(g,w),");"):w(g.shared.vao,".setVAO(",g.shared.vao,".targetVAO);"):(w(g.shared.vao,".setVAO(null);"),$n(g,w,b,M.attributes,B),$n(g,_,b,M.attributes,$)),Dt(g,w,b,M.uniforms,B,!1),Dt(g,_,b,M.uniforms,$,!0),rt(g,w,_,b);else{var Z=g.global.def("{}"),ne=b.shader.progVar.append(g,_),_e=_.def(ne,".id"),at=_.def(Z,"[",_e,"]");_(g.shared.gl,".useProgram(",ne,".program);","if(!",at,"){",at,"=",Z,"[",_e,"]=",g.link(function(Ke){return wt(fi,g,b,Ke,2)}),"(",ne,");}",at,".call(this,a0[",P,"],",P,");")}}function S(g,d){var b=g.proc("batch",2);g.batchId="0",dn(g,b);var M=!1,F=!0;Object.keys(d.context).forEach(function(Z){M=M||d.context[Z].propDep}),M||(bn(g,b,d.context),F=!1);var P=d.framebuffer,R=!1;P?(P.propDep?M=R=!0:P.contextDep&&M&&(R=!0),R||Ln(g,b,P)):Ln(g,b,null),d.state.viewport&&d.state.viewport.propDep&&(M=!0);function I(Z){return Z.contextDep&&M||Z.propDep}Mn(g,b,d),Gn(g,b,d.state,function(Z){return!I(Z)}),(!d.profile||!I(d.profile))&&ht(g,b,d,!1,"a1"),d.contextDep=M,d.needsContext=F,d.needsFramebuffer=R;var E=d.shader.progVar;if(E.contextDep&&M||E.propDep)pa(g,b,d,null);else{var w=E.append(g,b);if(b(g.shared.gl,".useProgram(",w,".program);"),d.shader.program)pa(g,b,d,d.shader.program);else{b(g.shared.vao,".setVAO(null);");var _=g.global.def("{}"),$=b.def(w,".id"),B=b.def(_,"[",$,"]");b(g.cond(B).then(B,".call(this,a0,a1);").else(B,"=",_,"[",$,"]=",g.link(function(Z){return wt(pa,g,d,Z,2)}),"(",w,");",B,".call(this,a0,a1);"))}}Object.keys(d.state).length>0&&b(g.shared.current,".dirty=true;"),g.shared.vao&&b(g.shared.vao,".setVAO(null);")}function W(g,d){var b=g.proc("scope",3);g.batchId="a2";var M=g.shared,F=M.current;bn(g,b,d.context),d.framebuffer&&d.framebuffer.append(g,b),by(Object.keys(d.state)).forEach(function(R){var I=d.state[R],E=I.append(g,b);Zt(E)?E.forEach(function(w,_){b.set(g.next[R],"["+_+"]",w)}):b.set(M.next,"."+R,E)}),ht(g,b,d,!0,!0),[fa,cf,ha,ff,da].forEach(function(R){var I=d.draw[R];I&&b.set(M.draw,"."+R,""+I.append(g,b))}),Object.keys(d.uniforms).forEach(function(R){var I=d.uniforms[R].append(g,b);Array.isArray(I)&&(I="["+I.join()+"]"),b.set(M.uniforms,"["+v.id(R)+"]",I)}),Object.keys(d.attributes).forEach(function(R){var I=d.attributes[R].append(g,b),E=g.scopeAttrib(R);Object.keys(new D).forEach(function(w){b.set(E,"."+w,I[w])})}),d.scopeVAO&&b.set(M.vao,".targetVAO",d.scopeVAO.append(g,b));function P(R){var I=d.shader[R];I&&b.set(M.shader,"."+R,I.append(g,b))}P(Qs),P(Ks),Object.keys(d.state).length>0&&(b(F,".dirty=true;"),b.exit(F,".dirty=true;")),b("a1(",g.shared.context,",a0,",g.batchId,");")}function z(g){if(!(typeof g!="object"||Zt(g))){for(var d=Object.keys(g),b=0;b<d.length;++b)if(Rt.isDynamic(g[d[b]]))return!0;return!1}}function $e(g,d,b){var M=d.static[b];if(!M||!z(M))return;var F=g.global,P=Object.keys(M),R=!1,I=!1,E=!1,w=g.global.def("{}");P.forEach(function($){var B=M[$];if(Rt.isDynamic(B)){typeof B=="function"&&(B=M[$]=Rt.unbox(B));var Z=sr(B,null);R=R||Z.thisDep,E=E||Z.propDep,I=I||Z.contextDep}else{switch(F(w,".",$,"="),typeof B){case"number":F(B);break;case"string":F('"',B,'"');break;case"object":Array.isArray(B)&&F("[",B.join(),"]");break;default:F(g.link(B));break}F(";")}});function _($,B){P.forEach(function(Z){var ne=M[Z];if(Rt.isDynamic(ne)){var _e=$.invoke(B,ne);B(w,".",Z,"=",_e,";")}})}d.dynamic[b]=new Rt.DynamicVariable(sf,{thisDep:R,contextDep:I,propDep:E,ref:w,append:_}),delete d.static[b]}function xt(g,d,b,M,F){var P=lt();P.stats=P.link(F),Object.keys(d.static).forEach(function(I){$e(P,d,I)}),tS.forEach(function(I){$e(P,g,I)});var R=_n(g,d,b,M,P);return hn(P,R),W(P,R),S(P,R),r(P.compile(),{destroy:function(){R.shader.program.destroy()}})}return{next:Re,current:ke,procs:function(){var g=lt(),d=g.proc("poll"),b=g.proc("refresh"),M=g.block();d(M),b(M);var F=g.shared,P=F.gl,R=F.next,I=F.current;M(I,".dirty=false;"),Ln(g,d),Ln(g,b,null,!0);var E;he&&(E=g.link(he)),A.oes_vertex_array_object&&b(g.link(A.oes_vertex_array_object),".bindVertexArrayOES(null);");for(var w=0;w<H.maxAttributes;++w){var _=b.def(F.attributes,"[",w,"]"),$=g.cond(_,".buffer");$.then(P,".enableVertexAttribArray(",w,");",P,".bindBuffer(",Sl,",",_,".buffer.buffer);",P,".vertexAttribPointer(",w,",",_,".size,",_,".type,",_,".normalized,",_,".stride,",_,".offset);").else(P,".disableVertexAttribArray(",w,");",P,".vertexAttrib4f(",w,",",_,".x,",_,".y,",_,".z,",_,".w);",_,".buffer=null;"),b($),he&&b(E,".vertexAttribDivisorANGLE(",w,",",_,".divisor);")}return b(g.shared.vao,".currentVAO=null;",g.shared.vao,".setVAO(",g.shared.vao,".targetVAO);"),Object.keys(te).forEach(function(B){var Z=te[B],ne=M.def(R,".",B),_e=g.block();_e("if(",ne,"){",P,".enable(",Z,")}else{",P,".disable(",Z,")}",I,".",B,"=",ne,";"),b(_e),d("if(",ne,"!==",I,".",B,"){",_e,"}")}),Object.keys(J).forEach(function(B){var Z=J[B],ne=ke[B],_e,at,Ke=g.block();if(Ke(P,".",Z,"("),Zt(ne)){var je=ne.length;_e=g.global.def(R,".",B),at=g.global.def(I,".",B),Ke(fn(je,function(oe){return _e+"["+oe+"]"}),");",fn(je,function(oe){return at+"["+oe+"]="+_e+"["+oe+"];"}).join("")),d("if(",fn(je,function(oe){return _e+"["+oe+"]!=="+at+"["+oe+"]"}).join("||"),"){",Ke,"}")}else _e=M.def(R,".",B),at=M.def(I,".",B),Ke(_e,");",I,".",B,"=",_e,";"),d("if(",_e,"!==",at,"){",Ke,"}");b(Ke)}),g.compile()}(),compile:xt}}function ES(){return{vaoCount:0,bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0}}var _S=34918,SS=34919,Ry=35007,wS=function(c,v){if(!v.ext_disjoint_timer_query)return null;var A=[];function H(){return A.pop()||v.ext_disjoint_timer_query.createQueryEXT()}function ee(he){A.push(he)}var U=[];function Q(he){var De=H();v.ext_disjoint_timer_query.beginQueryEXT(Ry,De),U.push(De),fe(U.length-1,U.length,he)}function ce(){v.ext_disjoint_timer_query.endQueryEXT(Ry)}function ue(){this.startQueryIndex=-1,this.endQueryIndex=-1,this.sum=0,this.stats=null}var pe=[];function ge(){return pe.pop()||new ue}function ve(he){pe.push(he)}var Se=[];function fe(he,De,ae){var ke=ge();ke.startQueryIndex=he,ke.endQueryIndex=De,ke.sum=0,ke.stats=ae,Se.push(ke)}var me=[],D=[];function X(){var he,De,ae=U.length;if(ae!==0){D.length=Math.max(D.length,ae+1),me.length=Math.max(me.length,ae+1),me[0]=0,D[0]=0;var ke=0;for(he=0,De=0;De<U.length;++De){var Re=U[De];v.ext_disjoint_timer_query.getQueryObjectEXT(Re,SS)?(ke+=v.ext_disjoint_timer_query.getQueryObjectEXT(Re,_S),ee(Re)):U[he++]=Re,me[De+1]=ke,D[De+1]=he}for(U.length=he,he=0,De=0;De<Se.length;++De){var Ze=Se[De],te=Ze.startQueryIndex,J=Ze.endQueryIndex;Ze.sum+=me[J]-me[te];var ze=D[te],Te=D[J];Te===ze?(Ze.stats.gpuTime+=Ze.sum/1e6,ve(Ze)):(Ze.startQueryIndex=ze,Ze.endQueryIndex=Te,Se[he++]=Ze)}Se.length=he}}return{beginQuery:Q,endQuery:ce,pushScopeStats:fe,update:X,getNumPendingQueries:function(){return U.length},clear:function(){A.push.apply(A,U);for(var he=0;he<A.length;he++)v.ext_disjoint_timer_query.deleteQueryEXT(A[he]);U.length=0,A.length=0},restore:function(){U.length=0,A.length=0}}},TS=16384,AS=256,CS=1024,bS=34962,Oy="webglcontextlost",Py="webglcontextrestored",ky=1,LS=2,RS=3;function Ny(c,v){for(var A=0;A<c.length;++A)if(c[A]===v)return A;return-1}function OS(c){var v=Qi(c);if(!v)return null;var A=v.gl,H=A.getContextAttributes(),ee=A.isContextLost(),U=Ki(A,v);if(!U)return null;var Q=Vr(),ce=ES(),ue=U.extensions,pe=wS(A,ue),ge=wn(),ve=A.drawingBufferWidth,Se=A.drawingBufferHeight,fe={tick:0,time:0,viewportWidth:ve,viewportHeight:Se,framebufferWidth:ve,framebufferHeight:Se,drawingBufferWidth:ve,drawingBufferHeight:Se,pixelRatio:v.pixelRatio},me={},D={elements:null,primitive:4,count:-1,offset:0,instances:-1},X=ac(A,ue),he=_s(A,ce,v,ke),De=Cs(A,ue,he,ce),ae=we(A,ue,X,ce,he,De,D);function ke(rt){return ae.destroyBuffer(rt)}var Re=Nt(A,Q,ce,v),Ze=qh(A,ue,X,function(){ze.procs.poll()},fe,ce,v),te=Zh(A,ue,X,ce,v),J=hm(A,ue,X,Ze,te,ce),ze=xS(A,Q,ue,X,he,De,Ze,J,me,ae,Re,D,fe,pe,v),Te=q_(A,J,ze.procs.poll,fe,H,ue,X),de=ze.next,Ae=A.canvas,be=[],st=[],lt=[],Oe=[v.onDestroy],Ie=null;function it(){if(be.length===0){pe&&pe.update(),Ie=null;return}Ie=yn.next(it),Gn();for(var rt=be.length-1;rt>=0;--rt){var wt=be[rt];wt&&wt(fe,null,0)}A.flush(),pe&&pe.update()}function ut(){!Ie&&be.length>0&&(Ie=yn.next(it))}function St(){Ie&&(yn.cancel(it),Ie=null)}function tn(rt){rt.preventDefault(),ee=!0,St(),st.forEach(function(wt){wt()})}function rn(rt){A.getError(),ee=!1,U.restore(),Re.restore(),he.restore(),Ze.restore(),te.restore(),J.restore(),ae.restore(),pe&&pe.restore(),ze.procs.refresh(),ut(),lt.forEach(function(wt){wt()})}Ae&&(Ae.addEventListener(Oy,tn,!1),Ae.addEventListener(Py,rn,!1));function Tt(){be.length=0,St(),Ae&&(Ae.removeEventListener(Oy,tn),Ae.removeEventListener(Py,rn)),Re.clear(),J.clear(),te.clear(),ae.clear(),Ze.clear(),De.clear(),he.clear(),pe&&pe.clear(),Oe.forEach(function(rt){rt()})}function Cn(rt){y(!!rt,"invalid args to regl({...})"),y.type(rt,"object","invalid args to regl({...})");function wt(F){var P=r({},F);delete P.uniforms,delete P.attributes,delete P.context,delete P.vao,"stencil"in P&&P.stencil.op&&(P.stencil.opBack=P.stencil.opFront=P.stencil.op,delete P.stencil.op);function R(I){if(I in P){var E=P[I];delete P[I],Object.keys(E).forEach(function(w){P[I+"."+w]=E[w]})}}return R("blend"),R("depth"),R("cull"),R("stencil"),R("polygonOffset"),R("scissor"),R("sample"),"vao"in F&&(P.vao=F.vao),P}function Ot(F,P){var R={},I={};return Object.keys(F).forEach(function(E){var w=F[E];if(Rt.isDynamic(w)){I[E]=Rt.unbox(w,E);return}else if(P&&Array.isArray(w)){for(var _=0;_<w.length;++_)if(Rt.isDynamic(w[_])){I[E]=Rt.unbox(w,E);return}}R[E]=w}),{dynamic:I,static:R}}var hn=Ot(rt.context||{},!0),fi=Ot(rt.uniforms||{},!0),pa=Ot(rt.attributes||{},!1),S=Ot(wt(rt),!1),W={gpuTime:0,cpuTime:0,count:0},z=ze.compile(S,pa,fi,hn,W),$e=z.draw,xt=z.batch,g=z.scope,d=[];function b(F){for(;d.length<F;)d.push(null);return d}function M(F,P){var R;if(ee&&y.raise("context lost"),typeof F=="function")return g.call(this,null,F,0);if(typeof P=="function")if(typeof F=="number")for(R=0;R<F;++R)g.call(this,null,P,R);else if(Array.isArray(F))for(R=0;R<F.length;++R)g.call(this,F[R],P,R);else return g.call(this,F,P,0);else if(typeof F=="number"){if(F>0)return xt.call(this,b(F|0),F|0)}else if(Array.isArray(F)){if(F.length)return xt.call(this,F,F.length)}else return $e.call(this,F)}return r(M,{stats:W,destroy:function(){z.destroy()}})}var Jt=J.setFBO=Cn({framebuffer:Rt.define.call(null,ky,"framebuffer")});function _n(rt,wt){var Ot=0;ze.procs.poll();var hn=wt.color;hn&&(A.clearColor(+hn[0]||0,+hn[1]||0,+hn[2]||0,+hn[3]||0),Ot|=TS),"depth"in wt&&(A.clearDepth(+wt.depth),Ot|=AS),"stencil"in wt&&(A.clearStencil(wt.stencil|0),Ot|=CS),y(!!Ot,"called regl.clear with no buffer specified"),A.clear(Ot)}function bn(rt){if(y(typeof rt=="object"&&rt,"regl.clear() takes an object as input"),"framebuffer"in rt)if(rt.framebuffer&&rt.framebuffer_reglType==="framebufferCube")for(var wt=0;wt<6;++wt)Jt(r({framebuffer:rt.framebuffer.faces[wt]},rt),_n);else Jt(rt,_n);else _n(null,rt)}function Ln(rt){y.type(rt,"function","regl.frame() callback must be a function"),be.push(rt);function wt(){var Ot=Ny(be,rt);y(Ot>=0,"cannot cancel a frame twice");function hn(){var fi=Ny(be,hn);be[fi]=be[be.length-1],be.length-=1,be.length<=0&&St()}be[Ot]=hn}return ut(),{cancel:wt}}function Mn(){var rt=de.viewport,wt=de.scissor_box;rt[0]=rt[1]=wt[0]=wt[1]=0,fe.viewportWidth=fe.framebufferWidth=fe.drawingBufferWidth=rt[2]=wt[2]=A.drawingBufferWidth,fe.viewportHeight=fe.framebufferHeight=fe.drawingBufferHeight=rt[3]=wt[3]=A.drawingBufferHeight}function Gn(){fe.tick+=1,fe.time=ht(),Mn(),ze.procs.poll()}function dn(){Ze.refresh(),Mn(),ze.procs.refresh(),pe&&pe.update()}function ht(){return(wn()-ge)/1e3}dn();function $n(rt,wt){y.type(wt,"function","listener callback must be a function");var Ot;switch(rt){case"frame":return Ln(wt);case"lost":Ot=st;break;case"restore":Ot=lt;break;case"destroy":Ot=Oe;break;default:y.raise("invalid event, must be one of frame,lost,restore,destroy")}return Ot.push(wt),{cancel:function(){for(var hn=0;hn<Ot.length;++hn)if(Ot[hn]===wt){Ot[hn]=Ot[Ot.length-1],Ot.pop();return}}}}var Dt=r(Cn,{clear:bn,prop:Rt.define.bind(null,ky),context:Rt.define.bind(null,LS),this:Rt.define.bind(null,RS),draw:Cn({}),buffer:function(rt){return he.create(rt,bS,!1,!1)},elements:function(rt){return De.create(rt,!1)},texture:Ze.create2D,cube:Ze.createCube,renderbuffer:te.create,framebuffer:J.create,framebufferCube:J.createCube,vao:ae.createVAO,attributes:H,frame:Ln,on:$n,limits:X,hasExtension:function(rt){return X.extensions.indexOf(rt.toLowerCase())>=0},read:Te,destroy:Tt,_gl:A,_refresh:dn,poll:function(){Gn(),pe&&pe.update()},now:ht,stats:ce});return v.onDone(null,Dt),Dt}return OS})})(E_);var h2=E_.exports;const m2=B0(h2);var p2=1e-6,Ia=typeof Float32Array<"u"?Float32Array:Array;Math.hypot||(Math.hypot=function(){for(var e=0,t=arguments.length;t--;)e+=arguments[t]*arguments[t];return Math.sqrt(e)});function dp(){var e=new Ia(16);return Ia!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0),e[0]=1,e[5]=1,e[10]=1,e[15]=1,e}function e1(e){var t=new Ia(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function O0(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],l=t[5],u=t[6],f=t[7],m=t[8],h=t[9],p=t[10],L=t[11],k=t[12],O=t[13],j=t[14],x=t[15],T=n*l-r*a,C=n*u-i*a,V=n*f-o*a,Y=r*u-i*l,le=r*f-o*l,xe=i*f-o*u,se=m*O-h*k,ct=m*j-p*k,Qe=m*x-L*k,Ve=h*j-p*O,Le=h*x-L*O,nt=p*x-L*j,Xe=T*nt-C*Le+V*Ve+Y*Qe-le*ct+xe*se;return Xe?(Xe=1/Xe,e[0]=(l*nt-u*Le+f*Ve)*Xe,e[1]=(i*Le-r*nt-o*Ve)*Xe,e[2]=(O*xe-j*le+x*Y)*Xe,e[3]=(p*le-h*xe-L*Y)*Xe,e[4]=(u*Qe-a*nt-f*ct)*Xe,e[5]=(n*nt-i*Qe+o*ct)*Xe,e[6]=(j*V-k*xe-x*C)*Xe,e[7]=(m*xe-p*V+L*C)*Xe,e[8]=(a*Le-l*Qe+f*se)*Xe,e[9]=(r*Qe-n*Le-o*se)*Xe,e[10]=(k*le-O*V+x*T)*Xe,e[11]=(h*V-m*le-L*T)*Xe,e[12]=(l*ct-a*Ve-u*se)*Xe,e[13]=(n*Ve-r*ct+i*se)*Xe,e[14]=(O*C-k*Y-j*T)*Xe,e[15]=(m*Y-h*C+p*T)*Xe,e):null}function nr(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3],l=t[4],u=t[5],f=t[6],m=t[7],h=t[8],p=t[9],L=t[10],k=t[11],O=t[12],j=t[13],x=t[14],T=t[15],C=n[0],V=n[1],Y=n[2],le=n[3];return e[0]=C*r+V*l+Y*h+le*O,e[1]=C*i+V*u+Y*p+le*j,e[2]=C*o+V*f+Y*L+le*x,e[3]=C*a+V*m+Y*k+le*T,C=n[4],V=n[5],Y=n[6],le=n[7],e[4]=C*r+V*l+Y*h+le*O,e[5]=C*i+V*u+Y*p+le*j,e[6]=C*o+V*f+Y*L+le*x,e[7]=C*a+V*m+Y*k+le*T,C=n[8],V=n[9],Y=n[10],le=n[11],e[8]=C*r+V*l+Y*h+le*O,e[9]=C*i+V*u+Y*p+le*j,e[10]=C*o+V*f+Y*L+le*x,e[11]=C*a+V*m+Y*k+le*T,C=n[12],V=n[13],Y=n[14],le=n[15],e[12]=C*r+V*l+Y*h+le*O,e[13]=C*i+V*u+Y*p+le*j,e[14]=C*o+V*f+Y*L+le*x,e[15]=C*a+V*m+Y*k+le*T,e}function t1(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e}function ld(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function v2(e,t,n){var r=n[0],i=n[1],o=n[2],a=Math.hypot(r,i,o),l,u,f;return a<p2?null:(a=1/a,r*=a,i*=a,o*=a,l=Math.sin(t),u=Math.cos(t),f=1-u,e[0]=r*r*f+u,e[1]=i*r*f+o*l,e[2]=o*r*f-i*l,e[3]=0,e[4]=r*i*f-o*l,e[5]=i*i*f+u,e[6]=o*i*f+r*l,e[7]=0,e[8]=r*o*f+i*l,e[9]=i*o*f-r*l,e[10]=o*o*f+u,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)}function y2(e,t){return e[0]=t[12],e[1]=t[13],e[2]=t[14],e}function g2(e,t){var n=t[0],r=t[1],i=t[2],o=t[4],a=t[5],l=t[6],u=t[8],f=t[9],m=t[10];return e[0]=Math.hypot(n,r,i),e[1]=Math.hypot(o,a,l),e[2]=Math.hypot(u,f,m),e}function x2(){var e=new Ia(4);return Ia!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[3]=0),e}function sd(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3];return e[0]=n[0]*r+n[4]*i+n[8]*o+n[12]*a,e[1]=n[1]*r+n[5]*i+n[9]*o+n[13]*a,e[2]=n[2]*r+n[6]*i+n[10]*o+n[14]*a,e[3]=n[3]*r+n[7]*i+n[11]*o+n[15]*a,e}(function(){var e=x2();return function(t,n,r,i,o,a){var l,u;for(n||(n=4),r||(r=0),i?u=Math.min(i*n+r,t.length):u=t.length,l=r;l<u;l+=n)e[0]=t[l],e[1]=t[l+1],e[2]=t[l+2],e[3]=t[l+3],o(e,e,a),t[l]=e[0],t[l+1]=e[1],t[l+2]=e[2],t[l+3]=e[3];return t}})();function E2(){var e=new Ia(2);return Ia!=Float32Array&&(e[0]=0,e[1]=0),e}function _2(e,t){var n=e[0],r=e[1],i=t[0],o=t[1],a=Math.sqrt(n*n+r*r)*Math.sqrt(i*i+o*o),l=a&&(n*i+r*o)/a;return Math.acos(Math.min(Math.max(l,-1),1))}(function(){var e=E2();return function(t,n,r,i,o,a){var l,u;for(n||(n=2),r||(r=0),i?u=Math.min(i*n+r,t.length):u=t.length,l=r;l<u;l+=n)e[0]=t[l],e[1]=t[l+1],o(e,e,a),t[l]=e[0],t[l+1]=e[1];return t}})();const S2=(e=[0,0],t=1,n=0,r=[0,0],i=[[0,1/0],[0,1/0]],o=[[-1/0,1/0],[-1/0,1/0]])=>{const a=new Float32Array(16),l=new Float32Array(16),u=new Float32Array(16);let f=dp(),m=[...r.slice(0,2),0,1];const h=Array.isArray(i[0])?[...i[0]]:[...i],p=Array.isArray(i[0])?[...i[1]]:[...i],L=Array.isArray(o[0])?[...o[0]]:[...o],k=Array.isArray(o[0])?[...o[1]]:[...o],O=()=>g2(a,f).slice(0,2),j=()=>{const Ce=O();return Math.min(Ce[0],Ce[1])},x=()=>{const Ce=O();return Math.max(Ce[0],Ce[1])},T=()=>Math.acos(f[0]/x()),C=()=>[[...h],[...p]],V=()=>[[...L],[...k]],Y=()=>{const Ce=O();return[1/Ce[0],1/Ce[1]]},le=()=>1/j(),xe=()=>1/x(),se=()=>y2(a,f).slice(0,2),ct=()=>sd(a,m,O0(u,f)).slice(0,2),Qe=()=>f,Ve=()=>m.slice(0,2),Le=([Ce=0,qe=0]=[],Et=1,Lt=0)=>{f=dp(),nt([-Ce,-qe]),Gt(Lt),Xe(1/Et)},nt=([Ce=0,qe=0]=[])=>{a[0]=Ce,a[1]=qe,a[2]=0;const Et=t1(l,a);nr(f,Et,f)},Xe=(Ce,qe)=>{const Et=Array.isArray(Ce);let Lt=Et?Ce[0]:Ce,Vt=Et?Ce[1]:Ce;if(Lt<=0||Vt<=0||Lt===1&&Vt===1)return;const Bt=O(),Wt=Bt[0]*Lt,Pt=Bt[1]*Vt;if(Lt=Math.max(h[0],Math.min(Wt,h[1]))/Bt[0],Vt=Math.max(p[0],Math.min(Pt,p[1]))/Bt[1],Lt===1&&Vt===1)return;a[0]=Lt,a[1]=Vt,a[2]=1;const ln=ld(l,a),Qt=qe?[...qe,0]:m,cn=t1(a,Qt);nr(f,cn,nr(f,ln,nr(f,O0(u,cn),f)))},Gt=Ce=>{const qe=dp();v2(qe,Ce,[0,0,1]),nr(f,qe,f)},dt=Ce=>{const qe=Array.isArray(Ce[0]);h[0]=qe?Ce[0][0]:Ce[0],h[1]=qe?Ce[0][1]:Ce[1],p[0]=qe?Ce[1][0]:Ce[0],p[1]=qe?Ce[1][1]:Ce[1]},vt=Ce=>{const qe=Array.isArray(Ce[0]);L[0]=qe?Ce[0][0]:Ce[0],L[1]=qe?Ce[0][1]:Ce[1],k[0]=qe?Ce[1][0]:Ce[0],k[1]=qe?Ce[1][1]:Ce[1]},Ee=Ce=>{!Ce||Ce.length<16||(f=Ce)},Ge=Ce=>{m=[...Ce.slice(0,2),0,1]},Ue=()=>{Le(e,t,n)};return Le(e,t,n),{get translation(){return se()},get target(){return ct()},get scaling(){return O()},get minScaling(){return j()},get maxScaling(){return x()},get scaleBounds(){return C()},get translationBounds(){return V()},get distance(){return Y()},get minDistance(){return le()},get maxDistance(){return xe()},get rotation(){return T()},get view(){return Qe()},get viewCenter(){return Ve()},lookAt:Le,translate:nt,pan:nt,rotate:Gt,scale:Xe,zoom:Xe,reset:Ue,set:(...Ce)=>(console.warn("`set()` is deprecated. Please use `setView()` instead."),Ee(...Ce)),setScaleBounds:dt,setTranslationBounds:vt,setView:Ee,setViewCenter:Ge}},w2=["pan","rotate"],n1={alt:"altKey",cmd:"metaKey",ctrl:"ctrlKey",meta:"metaKey",shift:"shiftKey"},T2=(e,{distance:t=1,target:n=[0,0],rotation:r=0,isNdc:i=!0,isFixed:o=!1,isPan:a=!0,isPanInverted:l=[!1,!0],panSpeed:u=1,isRotate:f=!0,rotateSpeed:m=1,defaultMouseDownMoveAction:h="pan",mouseDownMoveModKey:p="alt",isZoom:L=!0,zoomSpeed:k=1,viewCenter:O,scaleBounds:j,translationBounds:x,onKeyDown:T=()=>{},onKeyUp:C=()=>{},onMouseDown:V=()=>{},onMouseUp:Y=()=>{},onMouseMove:le=()=>{},onWheel:xe=()=>{}}={})=>{let se=S2(n,t,r,O,j,x),ct=0,Qe=0,Ve=0,Le=0,nt=0,Xe=0,Gt=!1,dt=0,vt=1,Ee=1,Ge=1,Ue=!1,Ce=!1,qe=!1,Et=h==="pan",Lt=a,Vt=a,Bt=l,Wt=l,Pt=L,ln=L;const Qt=()=>{Lt=Array.isArray(a)?!!a[0]:a,Vt=Array.isArray(a)?!!a[1]:a,Bt=Array.isArray(l)?!!l[0]:l,Wt=Array.isArray(l)?!!l[1]:l,Pt=Array.isArray(L)?!!L[0]:L,ln=Array.isArray(L)?!!L[1]:L};Qt();const cn=i?Ne=>Ne/vt*2*Ge:Ne=>Ne,Ht=i?Ne=>Ne/Ee*2:Ne=>-Ne,Xt=i?Ne=>(-1+Ne/vt*2)*Ge:Ne=>Ne,yt=i?Ne=>1-Ne/Ee*2:Ne=>Ne,_t=()=>{if(o){const Fe=Ce;return Ce=!1,Fe}Ue=!1;const Ne=ct,Ct=Qe;if((Lt||Vt)&&Gt&&(Et&&!qe||!Et&&qe)){const Fe=Bt?nt-Ne:Ne-nt,Kt=Lt?cn(u*Fe):0,en=Wt?Xe-Ct:Ct-Xe,Rt=Vt?Ht(u*en):0;(Kt!==0||Rt!==0)&&(se.pan([Kt,Rt]),Ue=!0)}if((Pt||ln)&&dt){const Fe=k*Math.exp(dt/Ee),Kt=Xt(Ve),en=yt(Le);se.scale([Pt?1/Fe:1,ln?1/Fe:1],[Kt,en]),Ue=!0}if(f&&Gt&&(Et&&qe||!Et&&!qe)&&Math.abs(nt-Ne)+Math.abs(Xe-Ct)>0){const Fe=vt/2,Kt=Ee/2,en=nt-Fe,Rt=Kt-Xe,yn=Ne-Fe,wn=Kt-Ct,Vr=_2([en,Rt],[yn,wn]),Or=en*wn-yn*Rt;se.rotate(m*Vr*Math.sign(Or)),Ue=!0}dt=0,nt=Ne,Xe=Ct;const q=Ue||Ce;return Ce=!1,q},bt=({defaultMouseDownMoveAction:Ne=null,isFixed:Ct=null,isPan:q=null,isPanInverted:Fe=null,isRotate:Kt=null,isZoom:en=null,panSpeed:Rt=null,rotateSpeed:yn=null,zoomSpeed:wn=null,mouseDownMoveModKey:Vr=null}={})=>{h=Ne!==null&&w2.includes(Ne)?Ne:h,Et=h==="pan",o=Ct!==null?Ct:o,a=q!==null?q:a,l=Fe!==null?Fe:l,f=Kt!==null?Kt:f,L=en!==null?en:L,u=+Rt>0?Rt:u,m=+yn>0?yn:m,k=+wn>0?wn:k,Qt(),p=Vr!==null&&Object.keys(n1).includes(Vr)?Vr:p},mt=()=>{const Ne=e.getBoundingClientRect();vt=Ne.width,Ee=Ne.height,Ge=vt/Ee},At=Ne=>{qe=!1,C(Ne)},zt=Ne=>{qe=Ne[n1[p]],T(Ne)},sn=Ne=>{Gt=!1,Y(Ne)},Bn=Ne=>{Gt=Ne.buttons===1,V(Ne)},y=document.createEvent("MouseEvent").offsetX!==void 0?Ne=>{Ve=Ne.offsetX,Le=Ne.offsetY}:Ne=>{const Ct=e.getBoundingClientRect();Ve=Ne.clientX-Ct.left,Le=Ne.clientY-Ct.top},et=Ne=>{ct=Ne.clientX,Qe=Ne.clientY},kt=Ne=>{et(Ne),le(Ne)},Me=Ne=>{if(Pt||ln){Ne.preventDefault(),et(Ne),y(Ne);const Ct=Ne.deltaMode===1?12:1;dt+=Ct*(Ne.deltaY||Ne.deltaX||0)}xe(Ne)},Yt=()=>{se=void 0,window.removeEventListener("keydown",zt),window.removeEventListener("keyup",At),e.removeEventListener("mousedown",Bn),window.removeEventListener("mouseup",sn),window.removeEventListener("mousemove",kt),e.removeEventListener("wheel",Me)};window.addEventListener("keydown",zt,{passive:!0}),window.addEventListener("keyup",At,{passive:!0}),e.addEventListener("mousedown",Bn,{passive:!0}),window.addEventListener("mouseup",sn,{passive:!0}),window.addEventListener("mousemove",kt,{passive:!0}),e.addEventListener("wheel",Me,{passive:!1}),se.config=bt,se.dispose=Yt,se.refresh=mt,se.tick=_t;const gt=Ne=>function(){Ne.apply(null,arguments),Ce=!0};return se.lookAt=gt(se.lookAt),se.translate=gt(se.translate),se.pan=gt(se.pan),se.rotate=gt(se.rotate),se.scale=gt(se.scale),se.zoom=gt(se.zoom),se.reset=gt(se.reset),se.set=gt(se.set),se.setScaleBounds=gt(se.setScaleBounds),se.setTranslationBounds=gt(se.setTranslationBounds),se.setView=gt(se.setView),se.setViewCenter=gt(se.setViewCenter),mt(),se};function P0(e,t,n,r,i,o){if(i-r<=n)return;const a=r+i>>1;__(e,t,a,r,i,o%2),P0(e,t,n,r,a-1,o+1),P0(e,t,n,a+1,i,o+1)}function __(e,t,n,r,i,o){for(;i>r;){if(i-r>600){const f=i-r+1,m=n-r+1,h=Math.log(f),p=.5*Math.exp(2*h/3),L=.5*Math.sqrt(h*p*(f-p)/f)*(m-f/2<0?-1:1),k=Math.max(r,Math.floor(n-m*p/f+L)),O=Math.min(i,Math.floor(n+(f-m)*p/f+L));__(e,t,n,k,O,o)}const a=t[2*n+o];let l=r,u=i;for(du(e,t,r,n),t[2*i+o]>a&&du(e,t,r,i);l<u;){for(du(e,t,l,u),l++,u--;t[2*l+o]<a;)l++;for(;t[2*u+o]>a;)u--}t[2*r+o]===a?du(e,t,r,u):(u++,du(e,t,u,i)),u<=n&&(r=u+1),n<=u&&(i=u-1)}}function du(e,t,n,r){hp(e,n,r),hp(t,2*n,2*r),hp(t,2*n+1,2*r+1)}function hp(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function A2(e,t,n,r,i,o,a){const l=[0,e.length-1,0],u=[];let f,m;for(;l.length;){const h=l.pop(),p=l.pop(),L=l.pop();if(p-L<=a){for(let j=L;j<=p;j++)f=t[2*j],m=t[2*j+1],f>=n&&f<=i&&m>=r&&m<=o&&u.push(e[j]);continue}const k=Math.floor((L+p)/2);f=t[2*k],m=t[2*k+1],f>=n&&f<=i&&m>=r&&m<=o&&u.push(e[k]);const O=(h+1)%2;(h===0?n<=f:r<=m)&&(l.push(L),l.push(k-1),l.push(O)),(h===0?i>=f:o>=m)&&(l.push(k+1),l.push(p),l.push(O))}return u}function C2(e,t,n,r,i,o){const a=[0,e.length-1,0],l=[],u=i*i;for(;a.length;){const f=a.pop(),m=a.pop(),h=a.pop();if(m-h<=o){for(let j=h;j<=m;j++)r1(t[2*j],t[2*j+1],n,r)<=u&&l.push(e[j]);continue}const p=Math.floor((h+m)/2),L=t[2*p],k=t[2*p+1];r1(L,k,n,r)<=u&&l.push(e[p]);const O=(f+1)%2;(f===0?n-i<=L:r-i<=k)&&(a.push(h),a.push(p-1),a.push(O)),(f===0?n+i>=L:r+i>=k)&&(a.push(p+1),a.push(m),a.push(O))}return l}function r1(e,t,n,r){const i=e-n,o=t-r;return i*i+o*o}const b2=e=>e[0],L2=e=>e[1];class R2{constructor(t,n=b2,r=L2,i=64,o=Float64Array){this.nodeSize=i,this.points=t;const a=t.length<65536?Uint16Array:Uint32Array,l=this.ids=new a(t.length),u=this.coords=new o(t.length*2);for(let f=0;f<t.length;f++)l[f]=f,u[2*f]=n(t[f]),u[2*f+1]=r(t[f]);P0(l,u,i,0,l.length-1,0)}range(t,n,r,i){return A2(this.ids,this.coords,t,n,r,i,this.nodeSize)}within(t,n,r){return C2(this.ids,this.coords,t,n,r,this.nodeSize)}}const O2=`
precision mediump float;
varying vec4 color;
void main() {
  gl_FragColor = color;
}`;var P2=O2;const k2=`
uniform mat4 projectionViewModel;
uniform float aspectRatio;

uniform sampler2D colorTex;
uniform float colorTexRes;
uniform float colorTexEps;
uniform float width;
uniform float useOpacity;
uniform float useColorOpacity;
uniform int miter;

attribute vec3 prevPosition;
attribute vec3 currPosition;
attribute vec3 nextPosition;
attribute float opacity;
attribute float offsetScale;
attribute float colorIndex;

varying vec4 color;

void main() {
  vec2 aspectVec = vec2(aspectRatio, 1.0);
  vec4 prevProjected = projectionViewModel * vec4(prevPosition, 1.0);
  vec4 currProjected = projectionViewModel * vec4(currPosition, 1.0);
  vec4 nextProjected = projectionViewModel * vec4(nextPosition, 1.0);

  // get 2D screen space with W divide and aspect correction
  vec2 prevScreen = prevProjected.xy / prevProjected.w * aspectVec;
  vec2 currScreen = currProjected.xy / currProjected.w * aspectVec;
  vec2 nextScreen = nextProjected.xy / nextProjected.w * aspectVec;

  // starting point uses (next - current)
  vec2 dir = vec2(0.0);
  if (currScreen == prevScreen) {
    dir = normalize(nextScreen - currScreen);
  }
  // ending point uses (current - previous)
  else if (currScreen == nextScreen) {
    dir = normalize(currScreen - prevScreen);
  }
  // somewhere in middle, needs a join
  else {
    // get directions from (C - B) and (B - A)
    vec2 dirA = normalize((currScreen - prevScreen));
    if (miter == 1) {
      vec2 dirB = normalize((nextScreen - currScreen));
      // now compute the miter join normal and length
      vec2 tangent = normalize(dirA + dirB);
      vec2 perp = vec2(-dirA.y, dirA.x);
      vec2 miter = vec2(-tangent.y, tangent.x);
      dir = tangent;
    } else {
      dir = dirA;
    }
  }

  vec2 normal = vec2(-dir.y, dir.x) * width;
  normal.x /= aspectRatio;
  vec4 offset = vec4(normal * offsetScale, 0.0, 0.0);
  gl_Position = currProjected + offset;

  // Get color from texture
  float colorRowIndex = floor((colorIndex + colorTexEps) / colorTexRes);
  vec2 colorTexIndex = vec2(
    (colorIndex / colorTexRes) - colorRowIndex + colorTexEps,
    colorRowIndex / colorTexRes + colorTexEps
  );

  color = texture2D(colorTex, colorTexIndex);
  color.a = useColorOpacity * color.a + useOpacity * opacity;
}`;var N2=k2;const{push:i1,splice:I2}=Array.prototype,mp=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),er=Float32Array.BYTES_PER_ELEMENT,M2=(e,t=[])=>{let n=0;return e.forEach(r=>{for(let i=0;i<r-1;i++){const o=n+i*2,a=o+1,l=o+2,u=o+3;t.push(o,a,l,l,a,u)}n+=(r+2)*2}),t},wr={duplicate(e,t=1,n=1){const r=[],i=new Array(t*2);for(let o=0,a=e.length/t;o<a;o++){const l=o*t;for(let u=0;u<t;u++){const f=e[l+u];i[u]=f,i[u+t]=f*n}i1.apply(r,i)}return r},mapElement(e,t,n,r){for(let i=0,o=e.length/n;i<o;i++){const a=t+i*n;e[a]=r(e[a],a,i)}return e},copyElement(e,t,n,r){const i=new Array(r),o=t*r;for(let a=0;a<r;a++)i[a]=e[o+a];return I2.call(e,n*r,0,...i),e},increaseStride(e,t,n,r=0){const i=[],o=new Array(n).fill(r);for(let a=0,l=e.length/t;a<l;a++){const u=a*t;for(let f=0;f<t;f++)o[f]=e[u+f];i1.apply(i,o)}return i}},D2=(e,{projection:t=mp,model:n=mp,view:r=mp,points:i=[],colorIndices:o=[],color:a=[.8,.5,0,1],opacity:l=null,opacities:u=[],width:f=1,widths:m=[],miter:h=1,is2d:p=!1,zPos2d:L=0}={})=>{if(!e){console.error("Regl instance is undefined.");return}const k=new Float32Array(16);let O,j,x,T,C,V,Y,le,xe,se,ct,Qe,Ve,Le,nt,Xe,Gt,dt,vt=p?2:3;const Ee=()=>+(u.length===j||l!==null),Ge=()=>{se=e.buffer(),ct=e.buffer(),Qe=e.buffer(),nt=e.buffer(),Xe={prevPosition:{buffer:()=>se,offset:0,stride:er*3},currPosition:{buffer:()=>se,offset:er*3*2,stride:er*3},nextPosition:{buffer:()=>se,offset:er*3*4,stride:er*3},opacity:{buffer:()=>ct,offset:er*2,stride:er},offsetScale:{buffer:()=>Qe,offset:er*2,stride:er},colorIndex:{buffer:()=>nt,offset:er*2,stride:er}},Gt=e.elements(),dt=e({attributes:Xe,depth:{enable:!p},blend:{enable:!0,func:{srcRGB:"src alpha",srcAlpha:"one",dstRGB:"one minus src alpha",dstAlpha:"one minus src alpha"}},uniforms:{projectionViewModel:(yt,_t)=>{const bt=yt.projection||_t.projection,mt=yt.model||_t.model,At=yt.view||_t.view;return nr(k,bt,nr(k,At,mt))},aspectRatio:({viewportWidth:yt,viewportHeight:_t})=>yt/_t,colorTex:()=>Ve,colorTexRes:()=>Le,colorTexEps:()=>.5/Le,pixelRatio:({pixelRatio:yt})=>yt,width:({pixelRatio:yt,viewportHeight:_t})=>f/_t*yt,useOpacity:Ee,useColorOpacity:()=>+!Ee(),miter:h},elements:()=>Gt,vert:N2,frag:P2})},Ue=()=>{O===1&&i.length%vt>0&&console.warn(`The length of points (${j}) does not match the dimensions (${vt}). Incomplete points are ignored.`),T=i.flat().slice(0,j*vt),p&&(T=wr.increaseStride(T,2,3,L)),o.length!==j&&(o=new Array(j).fill(0)),m.length!==j&&(m=new Array(j).fill(1));let yt=o.slice(),_t=u.length===j?u.slice():new Array(j).fill(+l),bt=m.slice(),mt=0;x.forEach(At=>{const zt=mt+At-1;wr.copyElement(T,zt,zt,3),wr.copyElement(T,mt,mt,3),wr.copyElement(yt,zt,zt,1),wr.copyElement(yt,mt,mt,1),wr.copyElement(_t,zt,zt,1),wr.copyElement(_t,mt,mt,1),wr.copyElement(bt,zt,zt,1),wr.copyElement(bt,mt,mt,1),mt+=At+2}),C=new Float32Array(wr.duplicate(T,3)),V=wr.duplicate(yt),Y=wr.duplicate(_t),le=wr.duplicate(bt,1,-1),xe=M2(x),se({usage:"dynamic",type:"float",length:C.length*er,data:C}),ct({usage:"dynamic",type:"float",length:Y.length*er,data:Y}),Qe({usage:"dynamic",type:"float",length:le.length*er,data:le}),nt({usage:"dynamic",type:"float",length:V.length*er,data:V}),Gt({primitive:"triangles",usage:"dynamic",type:xe.length>2**16?"uint32":"uint16",data:xe})},Ce=()=>{qe(),Ge()},qe=()=>{i=null,T=null,C=null,le=null,xe=null,se.destroy(),Qe.destroy(),Gt.destroy()},Et=({projection:yt,model:_t,view:bt}={})=>{yt&&(t=yt),_t&&(n=_t),bt&&(r=bt),i&&i.length>1&&dt({projection:t,model:n,view:r})},Lt=(yt,_t)=>{const bt=_t.flat(2);return bt.length===j?bt:bt.length===O?x.map((mt,At)=>Array(mt).fill(bt[At])).flat():yt},Vt=()=>i,Bt=(yt=[],{colorIndices:_t=o,opacities:bt=u,widths:mt=m,is2d:At=p}={})=>{i=yt,p=At,vt=p?2:3,O=Array.isArray(i[0])?i.length:1,x=O>1?i.map(zt=>Math.floor(zt.length/vt)):[Math.floor(i.length/vt)],j=x.reduce((zt,sn)=>zt+sn,0),o=Lt(o,_t),u=Lt(u,bt),m=Lt(m,mt),i&&j>1?Ue():Ce()},Wt=(yt,_t=-1)=>Array.isArray(yt)?yt.length&&!Array.isArray(yt[0])?_t+1:Wt(yt[0],++_t):_t,Pt=()=>{const yt=Wt(a)===0?[a]:a;Le=Math.max(2,Math.ceil(Math.sqrt(yt.length)));const _t=new Uint8Array(Le**2*4);yt.forEach((bt,mt)=>{_t[mt*4]=Math.min(255,Math.max(0,Math.round(bt[0]*255))),_t[mt*4+1]=Math.min(255,Math.max(0,Math.round(bt[1]*255))),_t[mt*4+2]=Math.min(255,Math.max(0,Math.round(bt[2]*255))),_t[mt*4+3]=Number.isNaN(+bt[3])?255:Math.min(255,Math.max(0,Math.round(bt[3]*255)))}),Ve=e.texture({data:_t,shape:[Le,Le,4]})},ln=(yt,_t=l)=>{a=yt,l=_t,Ve&&Ve.destroy(),Pt()},Qt=()=>({color:a,miter:h,width:f}),cn=({color:yt,opacity:_t,miter:bt,width:mt}={})=>{yt&&ln(yt,_t),bt&&(h=bt),+mt>0&&(f=mt)},Ht=()=>({points:se,widths:Qe,opacities:ct,colorIndices:nt}),Xt=()=>({points:C,widths:le,opacities:Y,colorIndices:V});return Ge(),Pt(),i&&i.length>1&&Bt(i),{clear:Ce,destroy:qe,draw:Et,getPoints:Vt,setPoints:Bt,getData:Xt,getBuffer:Ht,getStyle:Qt,setStyle:cn}};var zf=D2;const F2=e=>e*e*e,S_=e=>e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1,B2=e=>--e*e*e+1,j2=e=>e,G2=e=>e*e,$2=e=>e<.5?2*e*e:-1+(4-2*e)*e,z2=e=>e*(2-e),jl=e=>e,U2=(e,t)=>{if(e===t)return!0;if(e.length!==t.length)return!1;const n=new Set(e),r=new Set(t);return n.size!==r.size?!1:t.every(i=>n.has(i))},V2=e=>e.reduce((t,n)=>n>t?n:t,-1/0),o1=(e,t=n=>n)=>{const n=[];for(let r=0;r<e;r++)n.push(t(r,e));return n},H2=(e,t)=>{const n=[];return e.forEach(r=>{n[r]=!0}),t.forEach(r=>{n[r]=!0}),n.reduce((r,i,o)=>(i&&r.push(o),r),[])},Fv=(e,...t)=>(t.forEach(n=>{const r=Object.keys(n).reduce((i,o)=>(i[o]=Object.getOwnPropertyDescriptor(n,o),i),{});Object.getOwnPropertySymbols(n).forEach(i=>{const o=Object.getOwnPropertyDescriptor(n,i);o.enumerable&&(r[i]=o)}),Object.defineProperties(e,r)}),e),W2=(...e)=>t=>e.reduce((n,r)=>r(n),t),X2=e=>t=>Fv({__proto__:{constructor:e}},t),a1=(e,t)=>n=>Fv(n,{get[e](){return t}}),Y2=(e,t,n,r)=>Math.sqrt((e-n)**2+(t-r)**2),Q2=e=>new Worker(window.URL.createObjectURL(new Blob([`(${e.toString()})()`],{type:"text/javascript"}))),Al=(e=1)=>new Promise(t=>{let n=0;const r=()=>requestAnimationFrame(()=>{n++,n<e?r():t()});r()}),w_=(e,t,n=null)=>{let r,i=0;n=n===null?t:n;const o=(...u)=>{const f=()=>{i>0&&(e(...u),i=0)};clearTimeout(r),r=setTimeout(f,n)};let a=!1;const l=(...u)=>{a?(i++,o(...u)):(e(...u),o(...u),a=!0,i=0,setTimeout(()=>{a=!1},t))};return l.reset=()=>{a=!1},l.cancel=()=>{clearTimeout(r)},l.now=(...u)=>e(...u),l},yi="auto",K2=0,pp=1,q2=2,l1=3,Z2=4,J2=Float32Array.BYTES_PER_ELEMENT,T_=["OES_texture_float","OES_element_index_uint","WEBGL_color_buffer_float","EXT_float_blend"],s1={color:[0,0,0,0],depth:1},Bv="panZoom",A_="lasso",C_="rotate",eC=[Bv,A_,C_],tC=Bv,nC={cubicIn:F2,cubicInOut:S_,cubicOut:B2,linear:j2,quadIn:G2,quadInOut:$2,quadOut:z2},u1=S_,pi="continuous",Cl="categorical",c1=[pi,Cl],k0="deselect",jv="lassoEnd",rC=[k0,jv],iC=[0,.666666667,1,1],oC=2,aC=!1,lC=10,sC=3,uC=jv,cC=!1,Fd=750,Bd=500,jd=100,Gd=250,Gv="lasso",$d="rotate",zd="merge",fC=[Gv,$d,zd],$v="alt",zv="cmd",b_="ctrl",L_="meta",Uv="shift",dC=[$v,zv,b_,L_,Uv],hC={[$v]:$d,[Uv]:Gv,[zv]:zd},mC=1,pC=yi,vC=yi,yC=1,vp=1,gC=6,xC=2,EC=2,yp=null,_C=2,SC=2,gp=null,wC=null,xp=null,TC=.66,AC=1,Ep=null,CC=.15,bC=25,LC=1,RC=1,hu=null,OC=[.66,.66,.66,AC],PC=[0,.55,1,1],kC=[1,1,1,1],NC=[0,0,0,1],_p=null,IC=[.66,.66,.66,.2],MC=[0,.55,1,1],DC=[1,1,1,1],FC=[0,0],BC=1,jC=0,GC=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),$C="IMAGE_LOAD_ERROR",zC=null,UC=!1,VC=[1,1,1,.5],HC=!0,WC=!0,XC=!1,YC=100,QC=1/500,KC="auto",qC=!1,ZC=200,JC=500,R_=new Set(["z","valueZ","valueA","value1","category"]),O_=new Set(["w","valueW","valueB","value2","value"]),Vv=15e3,f1="Points have not been drawn",eb=(e,t)=>e?T_.reduce((n,r)=>e.hasExtension(r)?n:(t||console.warn(`WebGL: ${r} extension not supported. Scatterplot might not render properly`),!1),!0):!1,tb=e=>{const t=e.getContext("webgl",{antialias:!0,preserveDrawingBuffer:!0}),n=[];return T_.forEach(r=>{t.getExtension(r)?n.push(r):console.warn(`WebGL: ${r} extension not supported. Scatterplot might not render properly`)}),m2({gl:t,extensions:n})},Sp=(e,t,n,r)=>Math.sqrt((e-n)**2+(t-r)**2),nb=e=>{let t=1/0,n=-1/0,r=1/0,i=-1/0;for(let o=0;o<e.length;o+=2)t=e[o]<t?e[o]:t,n=e[o]>n?e[o]:n,r=e[o+1]<r?e[o+1]:r,i=e[o+1]>i?e[o+1]:i;return[t,r,n,i]},rb=([e,t,n,r])=>Number.isFinite(e)&&Number.isFinite(t)&&Number.isFinite(n)&&Number.isFinite(r)&&n-e>0&&r-t>0,ib=(e,t=!1)=>e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(n,r,i,o)=>`#${r}${r}${i}${i}${o}${o}`).substring(1).match(/.{2}/g).map(n=>parseInt(n,16)/255**t),xo=(e,t,{minLength:n=0}={})=>Array.isArray(e)&&e.length>=n&&e.every(t),Eo=e=>!Number.isNaN(+e)&&+e>=0,Uf=e=>!Number.isNaN(+e)&&+e>0,d1=(e,t)=>n=>e.indexOf(n)>=0?n:t,ob=(e,t=!1,n=Vv)=>new Promise((r,i)=>{const o=new Image;t&&(o.crossOrigin="anonymous"),o.src=e,o.onload=()=>{r(o)};const a=()=>{i(new Error($C))};o.onerror=a,setTimeout(a,n)}),h1=(e,t,n=Vv)=>new Promise((r,i)=>{ob(t,t.indexOf(window.location.origin)!==0&&t.indexOf("base64")===-1,n).then(o=>{r(e.texture(o))}).catch(o=>{i(o)})}),ab=(e,t=!1)=>[...ib(e,t),255**!t],lb=e=>/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e),sb=e=>e>=0&&e<=1,Ud=e=>Array.isArray(e)&&e.every(sb),ub=(e,[t,n]=[])=>{let r,i,o,a,l=!1;for(let u=0,f=e.length-2;u<e.length;u+=2)r=e[u],i=e[u+1],o=e[f],a=e[f+1],i>n!=a>n&&t<(o-r)*(n-i)/(a-i)+r&&(l=!l),f=u;return l},N0=e=>typeof e=="string"||e instanceof String,cb=e=>Number.isInteger(e)&&e>=0&&e<=255,P_=e=>Array.isArray(e)&&e.every(cb),fb=e=>e.length===3&&(Ud(e)||P_(e)),db=e=>e.length===4&&(Ud(e)||P_(e)),_o=e=>Array.isArray(e)&&e.length&&(Array.isArray(e[0])||N0(e[0])),Vf=(e,t)=>e>t?e:t,m1=(e,t)=>e<t?e:t,cr=(e,t)=>{if(db(e)){const n=Ud(e);return t&&n||!t&&!n?e:t&&!n?e.map(r=>r/255):e.map(r=>r*255)}if(fb(e)){const n=255**!t,r=Ud(e);return t&&r||!t&&!r?[...e,n]:t&&!r?[...e.map(i=>i/255),n]:[...e.map(i=>i*255),n]}return lb(e)?ab(e,t):(console.warn("Only HEX, RGB, and RGBA are handled by this function. Returning white instead."),t?[1,1,1,1]:[255,255,255,255])},p1=e=>Object.entries(e).reduce((t,[n,r])=>(t[r]?t[r]=[...t[r],n]:t[r]=n,t),{}),v1=e=>.21*e[0]+.72*e[1]+.07*e[2],hb=(e,t,n)=>Math.min(n,Math.max(t,e)),mb=(e={})=>{let{regl:t,canvas:n=document.createElement("canvas"),gamma:r=yC}=e;t||(t=tb(n));const i=eb(t),o=[n.width,n.height],a=t.framebuffer({width:o[0],height:o[1],colorFormat:"rgba",colorType:"float"}),l=t({vert:`
      precision highp float;
      attribute vec2 xy;
      void main () {
        gl_Position = vec4(xy, 0, 1);
      }`,frag:`
      precision highp float;
      uniform vec2 srcRes;
      uniform sampler2D src;
      uniform float gamma;

      vec3 approxLinearToSRGB (vec3 rgb, float gamma) {
        return pow(clamp(rgb, vec3(0), vec3(1)), vec3(1.0 / gamma));
      }

      void main () {
        vec4 color = texture2D(src, gl_FragCoord.xy / srcRes);
        gl_FragColor = vec4(approxLinearToSRGB(color.rgb, gamma), color.a);
      }`,attributes:{xy:[-4,-4,4,-4,0,4]},uniforms:{src:()=>a,srcRes:()=>o,gamma:()=>r},count:3,depth:{enable:!1},blend:{enable:!0,func:{srcRGB:"one",srcAlpha:"one",dstRGB:"one minus src alpha",dstAlpha:"one minus src alpha"}}}),u=j=>{const x=j.getContext("2d");x.clearRect(0,0,j.width,j.height),x.drawImage(n,(n.width-j.width)/2,(n.height-j.height)/2,j.width,j.height,0,0,j.width,j.height)},f=(j,x)=>{t.clear(s1),a.use(()=>{t.clear(s1),j()}),l(),u(x)},m=()=>{t.poll()},h=new Set,p=j=>(h.add(j),()=>{h.delete(j)}),L=t.frame(()=>{const j=h.values();let x=j.next();for(;!x.done;)x.value(),x=j.next()}),k=()=>{n.width=window.innerWidth*window.devicePixelRatio,n.height=window.innerHeight*window.devicePixelRatio,o[0]=n.width,o[1]=n.height,a.resize(...o)};return e.canvas||(window.addEventListener("resize",k),window.addEventListener("orientationchange",k),k()),{get canvas(){return n},get regl(){return t},get gamma(){return r},set gamma(j){r=+j},get isSupported(){return i},render:f,onFrame:p,refresh:m,destroy:()=>{L.cancel(),n=void 0,t=void 0,window.removeEventListener("resize",k),window.removeEventListener("orientationchange",k)}}},pb=!0,wp=8,y1=2,vb=2500,yb=250,gb=()=>{const e=document.createElement("div"),t=Math.random().toString(36).substring(2,5)+Math.random().toString(36).substring(2,5);e.id=`lasso-long-press-${t}`,e.style.position="fixed",e.style.width="1.25rem",e.style.height="1.25rem",e.style.pointerEvents="none",e.style.transform="translate(-50%,-50%)";const n=document.createElement("div");n.style.position="absolute",n.style.top=0,n.style.left=0,n.style.width="1.25rem",n.style.height="1.25rem",n.style.clipPath="inset(0px 0px 0px 50%)",n.style.opacity=0,e.appendChild(n);const r=document.createElement("div");r.style.position="absolute",r.style.top=0,r.style.left=0,r.style.width="0.8rem",r.style.height="0.8rem",r.style.border="0.2rem solid currentcolor",r.style.borderRadius="0.8rem",r.style.clipPath="inset(0px 50% 0px 0px)",r.style.transform="rotate(0deg)",n.appendChild(r);const i=document.createElement("div");i.style.position="absolute",i.style.top=0,i.style.left=0,i.style.width="0.8rem",i.style.height="0.8rem",i.style.border="0.2rem solid currentcolor",i.style.borderRadius="0.8rem",i.style.clipPath="inset(0px 50% 0px 0px)",i.style.transform="rotate(0deg)",n.appendChild(i);const o=document.createElement("div");return o.style.position="absolute",o.style.top=0,o.style.left=0,o.style.width="1.25rem",o.style.height="1.25rem",o.style.borderRadius="1.25rem",o.style.background="currentcolor",o.style.transform="scale(0)",o.style.opacity=0,e.appendChild(o),{longPress:e,longPressCircle:n,longPressCircleLeft:r,longPressCircleRight:i,longPressEffect:o}},xb=(e,t,n)=>(1-e)*t+n,Eb=(e,t)=>`${e}ms ease-out mainIn ${t}ms 1 normal forwards`,_b=(e,t)=>`${e}ms ease-out effectIn ${t}ms 1 normal forwards`,Sb=(e,t)=>`${e}ms linear leftSpinIn ${t}ms 1 normal forwards`,wb=(e,t)=>`${e}ms linear rightSpinIn ${t}ms 1 normal forwards`,Tb=(e,t)=>`${e}ms linear circleIn ${t}ms 1 normal forwards`,Ab=(e,t,n)=>`
  @keyframes mainIn {
    0% {
      color: ${t};
      opacity: 0;
    }
    0%, ${e}% {
      color: ${t};
      opacity: 1;
    }
    100% {
      color: ${n};
      opacity: 0.8;
    }
  }
`,Cb=(e,t,n,r)=>`
  @keyframes effectIn {
    0%, ${e}% {
      opacity: ${n};
      transform: scale(${r});
    }
    ${t}% {
      opacity: 0.66;
      transform: scale(1.5);
    }
    99% {
      opacity: 0;
      transform: scale(2);
    }
    100% {
      opacity: 0;
      transform: scale(0);
    }
  }
`,bb=(e,t,n)=>`
  @keyframes circleIn {
    0% {
      clip-path: ${t};
      opacity: ${n};
    }
    ${e}% {
      clip-path: ${t};
      opacity: 1;
    }
    ${e+.01}%, 100% {
      clip-path: inset(0);
      opacity: 1;
    }
  }
`,Lb=(e,t)=>`
  @keyframes leftSpinIn {
    0% {
      transform: rotate(${t}deg);
    }
    ${e}%, 100% {
      transform: rotate(360deg);
    }
  }
`,Rb=(e,t)=>`
  @keyframes rightSpinIn {
    0% {
      transform: rotate(${t}deg);
    }
    ${e}%, 100% {
      transform: rotate(180deg);
    }
  }
`,Ob=({time:e=Fd,extraTime:t=Bd,delay:n=jd,currentColor:r,targetColor:i,effectOpacity:o,effectScale:a,circleLeftRotation:l,circleRightRotation:u,circleClipPath:f,circleOpacity:m})=>{const h=l/360,p=xb(h,e,t),L=Math.round((1-h)*e/p*100),k=Math.round(L/2),O=L+(100-L)/4;return{rules:{main:Ab(L,r,i),effect:Cb(L,O,o,a),circleRight:Rb(k,u),circleLeft:Lb(L,l),circle:bb(k,f,m)},names:{main:Eb(p,n),effect:_b(p,n),circleLeft:Sb(p,n),circleRight:wb(p,n),circle:Tb(p,n)}}},Pb=e=>`${e}ms linear mainOut 0s 1 normal forwards`,kb=e=>`${e}ms linear effectOut 0s 1 normal forwards`,Nb=e=>`${e}ms linear leftSpinOut 0s 1 normal forwards`,Ib=e=>`${e}ms linear rightSpinOut 0s 1 normal forwards`,Mb=e=>`${e}ms linear circleOut 0s 1 normal forwards`,Db=(e,t)=>`
  @keyframes mainOut {
    0% {
      color: ${e};
    }
    100% {
      color: ${t};
    }
  }
`,Fb=(e,t)=>`
  @keyframes effectOut {
    0% {
      opacity: ${e};
      transform: scale(${t});
    }
    99% {
      opacity: 0;
      transform: scale(${t+.5});
    }
    100% {
      opacity: 0;
      transform: scale(0);
    }
  }
`,Bb=(e,t)=>`
  @keyframes rightSpinOut {
    0%, ${e}% {
      transform: rotate(${t}deg);
    }
    100% {
      transform: rotate(0deg);
    }
`,jb=e=>`
  @keyframes leftSpinOut {
    0% {
      transform: rotate(${e}deg);
    }
    100% {
      transform: rotate(0deg);
    }
  }
`,Gb=(e,t,n)=>`
  @keyframes circleOut {
    0%, ${e}% {
      clip-path: ${t};
      opacity: ${n};
    }
    ${e+.01}% {
      clip-path: inset(0 0 0 50%);
      opacity: ${n};
    }
    100% {
      clip-path: inset(0 0 0 50%);
      opacity: 0;
    }
  }
`,$b=({time:e=Gd,currentColor:t,targetColor:n,effectOpacity:r,effectScale:i,circleLeftRotation:o,circleRightRotation:a,circleClipPath:l,circleOpacity:u})=>{const f=o/360,m=f*e,h=Math.min(100,f*100),p=h>50?Math.round((1-50/h)*100):0;return{rules:{main:Db(t,n),effect:Fb(r,i),circleRight:Bb(p,a),circleLeft:jb(o),circle:Gb(p,l,u)},names:{main:Pb(m),effect:kb(m),circleRight:Nb(m),circleLeft:Ib(m),circle:Mb(m)}}},mu=(e,t=null)=>e===null?t:e;let Tp;const k_=()=>{if(!Tp){const e=document.createElement("style");document.head.appendChild(e),Tp=e.sheet}return Tp},Ir=e=>{const t=k_(),n=t.rules.length;return t.insertRule(e,n),n},Mr=e=>{k_().deleteRule(e)},zb=`${vb}ms ease scaleInFadeOut 0s 1 normal backwards`,Ub=(e,t,n)=>`
@keyframes scaleInFadeOut {
  0% {
    opacity: ${e};
    transform: translate(-50%,-50%) scale(${t}) rotate(${n}deg);
  }
  10% {
    opacity: 1;
    transform: translate(-50%,-50%) scale(1) rotate(${n+20}deg);
  }
  100% {
    opacity: 0;
    transform: translate(-50%,-50%) scale(0.9) rotate(${n+60}deg);
  }
}
`;let Ap=null;const Vb=`${yb}ms ease fadeScaleOut 0s 1 normal backwards`,Hb=(e,t,n)=>`
@keyframes fadeScaleOut {
  0% {
    opacity: ${e};
    transform: translate(-50%,-50%) scale(${t}) rotate(${n}deg);
  }
  100% {
    opacity: 0;
    transform: translate(-50%,-50%) scale(0) rotate(${n}deg);
  }
}
`;let Cp=null;const N_=(e,{onDraw:t=jl,onStart:n=jl,onEnd:r=jl,enableInitiator:i=pb,initiatorParentElement:o=document.body,longPressIndicatorParentElement:a=document.body,minDelay:l=wp,minDist:u=y1,pointNorm:f=jl}={})=>{let m=i,h=o,p=a,L=t,k=n,O=r,j=f;const x=document.createElement("div"),T=Math.random().toString(36).substring(2,5)+Math.random().toString(36).substring(2,5);x.id=`lasso-initiator-${T}`,x.style.position="fixed",x.style.display="flex",x.style.justifyContent="center",x.style.alignItems="center",x.style.zIndex=99,x.style.width="4rem",x.style.height="4rem",x.style.borderRadius="4rem",x.style.opacity=.5,x.style.transform="translate(-50%,-50%) scale(0) rotate(0deg)";const{longPress:C,longPressCircle:V,longPressCircleLeft:Y,longPressCircleRight:le,longPressEffect:xe}=gb();let se=!1,ct=!1,Qe=[],Ve=[],Le,nt=!1,Xe=null,Gt=null,dt=null,vt=null,Ee=null,Ge=null,Ue=null,Ce=null,qe=null,Et=null;const Lt=()=>{se=!1},Vt=et=>{const{left:kt,top:Me}=e.getBoundingClientRect();return[et.clientX-kt,et.clientY-Me]};window.addEventListener("mouseup",Lt);const Bt=()=>{x.style.opacity=.5,x.style.transform="translate(-50%,-50%) scale(0) rotate(0deg)"},Wt=(et,kt)=>{const Me=getComputedStyle(et),Yt=+Me.opacity,gt=Me.transform.match(/([0-9.-]+)+/g),Ne=+gt[0],Ct=+gt[1],q=Math.sqrt(Ne*Ne+Ct*Ct);let Fe=Math.atan2(Ct,Ne)*(180/Math.PI);return Fe=kt&&Fe<=0?360+Fe:Fe,{opacity:Yt,scale:q,rotate:Fe}},Pt=et=>{if(!m||se)return;const kt=et.clientX,Me=et.clientY;x.style.top=`${Me}px`,x.style.left=`${kt}px`;const Yt=Wt(x),gt=Yt.opacity,Ne=Yt.scale,Ct=Yt.rotate;x.style.opacity=gt,x.style.transform=`translate(-50%,-50%) scale(${Ne}) rotate(${Ct}deg)`,x.style.animation="none",Al().then(()=>{Ap!==null&&Mr(Ap),Ap=Ir(Ub(gt,Ne,Ct)),x.style.animation=zb,Al().then(()=>{Bt()})})},ln=()=>{const{opacity:et,scale:kt,rotate:Me}=Wt(x);x.style.opacity=et,x.style.transform=`translate(-50%,-50%) scale(${kt}) rotate(${Me}deg)`,x.style.animation="none",Al(2).then(()=>{Cp!==null&&Mr(Cp),Cp=Ir(Hb(et,kt,Me)),x.style.animation=Vb,Al().then(()=>{Bt()})})},Qt=(et,kt,{time:Me=Fd,extraTime:Yt=Bd,delay:gt=jd}={time:Fd,extraTime:Bd,delay:jd})=>{nt=!0;const Ne=getComputedStyle(C);C.style.color=Ne.color,C.style.top=`${kt}px`,C.style.left=`${et}px`,C.style.animation="none";const Ct=getComputedStyle(V);V.style.clipPath=Ct.clipPath,V.style.opacity=Ct.opacity,V.style.animation="none";const q=Wt(xe);xe.style.opacity=q.opacity,xe.style.transform=`scale(${q.scale})`,xe.style.animation="none";const Fe=Wt(Y);Y.style.transform=`rotate(${Fe.rotate}deg)`,Y.style.animation="none";const Kt=Wt(le);le.style.transform=`rotate(${Kt.rotate}deg)`,le.style.animation="none",Al().then(()=>{if(!nt)return;Ee!==null&&Mr(Ee),vt!==null&&Mr(vt),dt!==null&&Mr(dt),Gt!==null&&Mr(Gt),Xe!==null&&Mr(Xe);const{rules:en,names:Rt}=Ob({time:Me,extraTime:Yt,delay:gt,currentColor:Ne.color||"currentcolor",targetColor:C.dataset.activeColor,effectOpacity:q.opacity||0,effectScale:q.scale||0,circleLeftRotation:Fe.rotate||0,circleRightRotation:Kt.rotate||0,circleClipPath:Ct.clipPath||"inset(0 0 0 50%)",circleOpacity:Ct.opacity||0});Xe=Ir(en.main),Gt=Ir(en.effect),dt=Ir(en.circleLeft),vt=Ir(en.circleRight),Ee=Ir(en.circle),C.style.animation=Rt.main,xe.style.animation=Rt.effect,Y.style.animation=Rt.circleLeft,le.style.animation=Rt.circleRight,V.style.animation=Rt.circle})},cn=({time:et=Gd}={time:Gd})=>{if(!nt)return;nt=!1;const kt=getComputedStyle(C);C.style.color=kt.color,C.style.animation="none";const Me=getComputedStyle(V);V.style.clipPath=Me.clipPath,V.style.opacity=Me.opacity,V.style.animation="none";const Yt=Wt(xe);xe.style.opacity=Yt.opacity,xe.style.transform=`scale(${Yt.scale})`,xe.style.animation="none";const gt=Me.clipPath.slice(-2,-1)==="x",Ne=Wt(Y,gt);Y.style.transform=`rotate(${Ne.rotate}deg)`,Y.style.animation="none";const Ct=Wt(le);le.style.transform=`rotate(${Ct.rotate}deg)`,le.style.animation="none",Al().then(()=>{Et!==null&&Mr(Et),qe!==null&&Mr(qe),Ce!==null&&Mr(Ce),Ue!==null&&Mr(Ue),Ge!==null&&Mr(Ge);const{rules:q,names:Fe}=$b({time:et,currentColor:kt.color||"currentcolor",targetColor:C.dataset.color,effectOpacity:Yt.opacity||0,effectScale:Yt.scale||0,circleLeftRotation:Ne.rotate||0,circleRightRotation:Ct.rotate||0,circleClipPath:Me.clipPath||"inset(0px)",circleOpacity:Me.opacity||1});Ge=Ir(q.main),Ue=Ir(q.effect),Ce=Ir(q.circleLeft),qe=Ir(q.circleRight),Et=Ir(q.circle),C.style.animation=Fe.main,xe.style.animation=Fe.effect,Y.style.animation=Fe.circleLeft,le.style.animation=Fe.circleRight,V.style.animation=Fe.circle})},Ht=()=>{L(Qe,Ve)},Xt=et=>{if(Le){if(Y2(et[0],et[1],Le[0],Le[1])>y1){Le=et;const Me=j(et);Qe.push(Me),Ve.push(Me[0],Me[1]),Qe.length>1&&Ht()}}else{ct||(ct=!0,k()),Le=et;const kt=j(et);Qe=[kt],Ve=[kt[0],kt[1]]}},yt=w_(Xt,wp,wp),_t=(et,kt)=>{const Me=Vt(et);return kt?yt(Me):Xt(Me)},bt=()=>{Qe=[],Ve=[],Le=void 0,Ht()},mt=et=>{Pt(et)},At=()=>{se=!0,ct=!0,bt(),k()},zt=()=>{ln()},sn=({merge:et=!1}={})=>{ct=!1;const kt=[...Qe],Me=[...Ve];return yt.cancel(),bt(),kt.length&&O(kt,Me,{merge:et}),kt},Bn=({onDraw:et=null,onStart:kt=null,onEnd:Me=null,enableInitiator:Yt=null,initiatorParentElement:gt=null,longPressIndicatorParentElement:Ne=null,minDelay:Ct=null,minDist:q=null,pointNorm:Fe=null}={})=>{L=mu(et,L),k=mu(kt,k),O=mu(Me,O),m=mu(Yt,m),j=mu(Fe,j),gt!==null&&gt!==h&&(h.removeChild(x),gt.appendChild(x),h=gt),Ne!==null&&Ne!==p&&(p.removeChild(C),Ne.appendChild(C),p=Ne),m?(x.addEventListener("click",mt),x.addEventListener("mousedown",At),x.addEventListener("mouseleave",zt)):(x.removeEventListener("mousedown",At),x.removeEventListener("mouseleave",zt))},Ur=()=>{h.removeChild(x),p.removeChild(C),window.removeEventListener("mouseup",Lt),x.removeEventListener("click",mt),x.removeEventListener("mousedown",At),x.removeEventListener("mouseleave",zt)},y=()=>et=>Fv(et,{clear:bt,destroy:Ur,end:sn,extend:_t,set:Bn,showInitiator:Pt,hideInitiator:ln,showLongPressIndicator:Qt,hideLongPressIndicator:cn});return h.appendChild(x),p.appendChild(C),Bn({onDraw:L,onStart:k,onEnd:O,enableInitiator:m,initiatorParentElement:h}),W2(a1("initiator",x),a1("longPressIndicator",C),y(),X2(N_))({})},Wb=`
precision mediump float;

uniform sampler2D texture;

varying vec2 uv;

void main () {
  gl_FragColor = texture2D(texture, uv);
}
`,Xb=`
precision mediump float;

uniform mat4 modelViewProjection;

attribute vec2 position;

varying vec2 uv;

void main () {
  uv = position;
  gl_Position = modelViewProjection * vec4(-1.0 + 2.0 * uv.x, 1.0 - 2.0 * uv.y, 0, 1);
}
`,Yb=`
precision highp float;

varying vec4 color;
varying float finalPointSize;

float linearstep(float edge0, float edge1, float x) {
  return clamp((x - edge0) / (edge1 - edge0), 0.0, 1.0);
}

void main() {
  vec2 c = gl_PointCoord * 2.0 - 1.0;
  float sdf = length(c) * finalPointSize;
  float alpha = linearstep(finalPointSize + 0.5, finalPointSize - 0.5, sdf);

  gl_FragColor = vec4(color.rgb, alpha * color.a);
}
`,Qb=`precision highp float;

varying vec4 color;

void main() {
  gl_FragColor = color;
}
`,Kb=e=>`
precision highp float;

uniform sampler2D colorTex;
uniform float colorTexRes;
uniform float colorTexEps;
uniform sampler2D stateTex;
uniform float stateTexRes;
uniform float stateTexEps;
uniform float devicePixelRatio;
uniform sampler2D encodingTex;
uniform float encodingTexRes;
uniform float encodingTexEps;
uniform float pointSizeExtra;
uniform float pointOpacityMax;
uniform float pointOpacityScale;
uniform float numPoints;
uniform float globalState;
uniform float isColoredByZ;
uniform float isColoredByW;
uniform float isOpacityByZ;
uniform float isOpacityByW;
uniform float isOpacityByDensity;
uniform float isSizedByZ;
uniform float isSizedByW;
uniform float colorMultiplicator;
uniform float opacityMultiplicator;
uniform float opacityDensity;
uniform float sizeMultiplicator;
uniform float numColorStates;
uniform float pointScale;
uniform mat4 modelViewProjection;

attribute vec2 stateIndex;

varying vec4 color;
varying float finalPointSize;

void main() {
  vec4 state = texture2D(stateTex, stateIndex);

  gl_Position = modelViewProjection * vec4(state.x, state.y, 0.0, 1.0);

  // Determine color index
  float colorIndexZ =  isColoredByZ * floor(state.z * colorMultiplicator);
  float colorIndexW =  isColoredByW * floor(state.w * colorMultiplicator);

  // Multiply by the number of color states per color
  // I.e., normal, active, hover, background, etc.
  float colorIndex = (colorIndexZ + colorIndexW) * numColorStates;

  // Half a "pixel" or "texel" in texture coordinates
  float colorLinearIndex = colorIndex + globalState;

  // Need to add cEps here to avoid floating point issue that can lead to
  // dramatic changes in which color is loaded as floor(3/2.9999) = 1 but
  // floor(3/3.0001) = 0!
  float colorRowIndex = floor((colorLinearIndex + colorTexEps) / colorTexRes);

  vec2 colorTexIndex = vec2(
    (colorLinearIndex / colorTexRes) - colorRowIndex + colorTexEps,
    colorRowIndex / colorTexRes + colorTexEps
  );

  color = texture2D(colorTex, colorTexIndex);

  // Retrieve point size
  float pointSizeIndexZ = isSizedByZ * floor(state.z * sizeMultiplicator);
  float pointSizeIndexW = isSizedByW * floor(state.w * sizeMultiplicator);
  float pointSizeIndex = pointSizeIndexZ + pointSizeIndexW;

  float pointSizeRowIndex = floor((pointSizeIndex + encodingTexEps) / encodingTexRes);
  vec2 pointSizeTexIndex = vec2(
    (pointSizeIndex / encodingTexRes) - pointSizeRowIndex + encodingTexEps,
    pointSizeRowIndex / encodingTexRes + encodingTexEps
  );
  float pointSize = texture2D(encodingTex, pointSizeTexIndex).x;

  // Retrieve opacity
  ${e===3?"":`
        if (isOpacityByDensity < 0.5) {
          float opacityIndexZ = isOpacityByZ * floor(state.z * opacityMultiplicator);
          float opacityIndexW = isOpacityByW * floor(state.w * opacityMultiplicator);
          float opacityIndex = opacityIndexZ + opacityIndexW;

          float opacityRowIndex = floor((opacityIndex + encodingTexEps) / encodingTexRes);
          vec2 opacityTexIndex = vec2(
            (opacityIndex / encodingTexRes) - opacityRowIndex + encodingTexEps,
            opacityRowIndex / encodingTexRes + encodingTexEps
          );
          color.a = texture2D(encodingTex, opacityTexIndex)[${1+e}];
        } else {
          color.a = min(1.0, opacityDensity + globalState);
        }
      `}

  color.a = min(pointOpacityMax, color.a) * pointOpacityScale;
  finalPointSize = (pointSize * pointScale) + pointSizeExtra;
  gl_PointSize = finalPointSize;
}
`,qb=`precision highp float;

uniform sampler2D startStateTex;
uniform sampler2D endStateTex;
uniform float t;

varying vec2 particleTextureIndex;

void main() {
  // Interpolate x, y, and value
  vec3 start = texture2D(startStateTex, particleTextureIndex).xyw;
  vec3 end = texture2D(endStateTex, particleTextureIndex).xyw;
  vec3 curr = start * (1.0 - t) + end * t;

  // The category cannot be interpolated
  float endCategory = texture2D(endStateTex, particleTextureIndex).z;

  gl_FragColor = vec4(curr.xy, endCategory, curr.z);
}`,Zb=`precision highp float;

attribute vec2 position;
varying vec2 particleTextureIndex;

void main() {
  // map normalized device coords to texture coords
  particleTextureIndex = 0.5 * (1.0 + position);

  gl_Position = vec4(position, 0, 1);
}`,Jb=function(){const t=(f,m,h,p,L)=>{const k=(p-m)*.5,O=(L-h)*.5;return(2*h-2*p+k+O)*f*f*f+(-3*h+3*p-2*k-O)*f*f+k*f+h},n=(f,m,h)=>{const p=h*f,L=Math.floor(p),k=p-L,O=m[Math.max(0,L-1)],j=m[L],x=m[Math.min(h,L+1)],T=m[Math.min(h,L+2)];return[t(k,O[0],j[0],x[0],T[0]),t(k,O[1],j[1],x[1],T[1])]},r=(f,m,h,p)=>(f-h)**2+(m-p)**2;/**
 * Douglas Peucker square segment distance
 * Implementation from https://github.com/mourner/simplify-js
 * @author Vladimir Agafonkin
 * @copyright Vladimir Agafonkin 2013
 * @license BSD
 * @param {array} p - Point
 * @param {array} p1 - First boundary point
 * @param {array} p2 - Second boundary point
 * @return {number} Distance
 */const i=(f,m,h)=>{let p=m[0],L=m[1],k=h[0]-p,O=h[1]-L;if(k!==0||O!==0){const j=((f[0]-p)*k+(f[1]-L)*O)/(k*k+O*O);j>1?(p=h[0],L=h[1]):j>0&&(p+=k*j,L+=O*j)}return k=f[0]-p,O=f[1]-L,k*k+O*O};/**
 * Douglas Peucker step function
 * Implementation from https://github.com/mourner/simplify-js
 * @author Vladimir Agafonkin
 * @copyright Vladimir Agafonkin 2013
 * @license BSD
 * @param   {[type]}  points  [description]
 * @param   {[type]}  first  [description]
 * @param   {[type]}  last  [description]
 * @param   {[type]}  tolerance  [description]
 * @param   {[type]}  simplified  [description]
 * @return  {[type]}  [description]
 */const o=(f,m,h,p,L)=>{let k=p,O;for(let j=m+1;j<h;j++){const x=i(f[j],f[m],f[h]);x>k&&(O=j,k=x)}k>p&&(O-m>1&&o(f,m,O,p,L),L.push(f[O]),h-O>1&&o(f,O,h,p,L))};/**
 * Douglas Peucker. Implementation from https://github.com/mourner/simplify-js
 * @author Vladimir Agafonkin
 * @copyright Vladimir Agafonkin 2013
 * @license BSD
 * @param {array} points - List of points to be simplified
 * @param {number} tolerance - Tolerance level. Points below this distance level will be ignored
 * @return {array} Simplified point list
 */const a=(f,m)=>{const h=f.length-1,p=[f[0]];return o(f,0,h,m,p),p.push(f[h]),p},l=(f,{maxIntPointsPerSegment:m=100,tolerance:h=.002}={})=>{const p=f.length,L=p-1,k=L*m+1,O=h**2;let j=[],x;for(let T=0;T<p-1;T++){let C=[f[T].slice(0,2)];x=f[T];for(let V=1;V<m;V++){const Y=(T*m+V)/k,le=n(Y,f,L);r(x[0],x[1],le[0],le[1])>O&&(C.push(le),x=le)}C.push(f[T+1]),C=a(C,O),j=j.concat(C.slice(0,C.length-1))}return j.push(f[f.length-1].slice(0,2)),j.flat()},u=f=>{const m={},h=!Number.isNaN(+f[0][5]);return f.forEach(p=>{const L=p[4];m[L]||(m[L]=[]),h?m[L][p[5]]=p:m[L].push(p)}),Object.entries(m).forEach(p=>{m[p[0]]=p[1].filter(L=>L),m[p[0]].reference=p[1][0]}),m};self.onmessage=function(m){(m.data.points?+m.data.points.length:0)||self.postMessage({error:new Error("No points provided")}),m.data.points;const p=u(m.data.points);self.postMessage({points:Object.entries(p).reduce((L,k)=>(L[k[0]]=l(k[1],m.data.options),L[k[0]].reference=k[1].reference,L),{})})}},eL=(e,t={tolerance:.002,maxIntPointsPerSegment:100})=>new Promise((n,r)=>{const i=Q2(Jb);i.onmessage=o=>{o.data.error?r(o.data.error):n(o.data.points),i.terminate()},i.postMessage({points:e,options:t})});var tL="1.8.5";const bp={showRecticle:"showReticle",recticleColor:"reticleColor"},Lp=e=>{Object.keys(e).filter(t=>bp[t]).forEach(t=>{console.warn(`regl-scatterplot: the "${t}" property is deprecated. Please use "${bp[t]}" instead.`),e[bp[t]]=e[t],delete e[t]})},Dr=(e,t,{allowSegment:n=!1,allowDensity:r=!1}={})=>R_.has(e)?"valueZ":O_.has(e)?"valueW":e==="segment"?n?"segment":t:e==="density"&&r?"density":t,Rp=e=>{switch(e){case"valueZ":return 2;case"valueW":return 3;default:return null}},nL=(e={})=>{const t=f2({async:!e.syncEvents,caseInsensitive:!0}),n=new Float32Array(16),r=new Float32Array(16),i=[0,0];Lp(e);let{renderer:o,backgroundColor:a=NC,backgroundImage:l=zC,canvas:u=document.createElement("canvas"),colorBy:f=hu,deselectOnDblClick:m=HC,deselectOnEscape:h=WC,lassoColor:p=iC,lassoLineWidth:L=oC,lassoMinDelay:k=lC,lassoMinDist:O=sC,lassoClearEvent:j=uC,lassoInitiator:x=aC,lassoInitiatorParentElement:T=document.body,lassoOnLongPress:C=cC,lassoLongPressTime:V=Fd,lassoLongPressAfterEffectTime:Y=Bd,lassoLongPressEffectDelay:le=jd,lassoLongPressRevertEffectTime:xe=Gd,keyMap:se=hC,mouseMode:ct=tC,showReticle:Qe=UC,reticleColor:Ve=VC,pointColor:Le=OC,pointColorActive:nt=PC,pointColorHover:Xe=kC,showPointConnections:Gt=XC,pointConnectionColor:dt=IC,pointConnectionColorActive:vt=MC,pointConnectionColorHover:Ee=DC,pointConnectionColorBy:Ge=_p,pointConnectionOpacity:Ue=wC,pointConnectionOpacityBy:Ce=xp,pointConnectionOpacityActive:qe=TC,pointConnectionSize:Et=_C,pointConnectionSizeActive:Lt=SC,pointConnectionSizeBy:Vt=gp,pointConnectionMaxIntPointsPerSegment:Bt=YC,pointConnectionTolerance:Wt=QC,pointSize:Pt=gC,pointSizeSelected:ln=xC,pointSizeMouseDetection:Qt=KC,pointOutlineWidth:cn=EC,opacity:Ht=yi,opacityBy:Xt=Ep,opacityByDensityFill:yt=CC,opacityInactiveMax:_t=LC,opacityInactiveScale:bt=RC,sizeBy:mt=yp,height:At=vC,width:zt=pC}=e,sn=zt===yi?1:zt,Bn=At===yi?1:At;const{performanceMode:Ur=qC,opacityByDensityDebounceTime:y=bC}=e;o||(o=mb({regl:e.regl,gamma:e.gamma})),a=cr(a,!0),p=cr(p,!0),Ve=cr(Ve,!0);let et=!1,kt=v1(a),Me,Yt,gt=!1,Ne=null,Ct=[0,0],q=-1,Fe=[];const Kt=new Set,en=new Set;let Rt=!1;const yn=new Set;let wn=0,Vr=0,Or=!1,Si=[],jn,Yi,Ga=e.aspectRatio||mC,$a,Qi,Ki,fn,vr,ss,Wo,Xo,us,za=p1(se),qi,Yo,Zi,Ua=!1,pt=!0,wi=!1,Va;Le=_o(Le)?[...Le]:[Le],nt=_o(nt)?[...nt]:[nt],Xe=_o(Xe)?[...Xe]:[Xe],Le=Le.map(s=>cr(s,!0)),nt=nt.map(s=>cr(s,!0)),Xe=Xe.map(s=>cr(s,!0)),Ht=!Array.isArray(Ht)&&Number.isNaN(+Ht)?Le[0][3]:Ht,Ht=xo(Ht,Eo,{minLength:1})?[...Ht]:[Ht],Pt=xo(Pt,Eo,{minLength:1})?[...Pt]:[Pt];let rc=vp/Pt[0];dt==="inherit"?dt=[...Le]:(dt=_o(dt)?[...dt]:[dt],dt=dt.map(s=>cr(s,!0))),vt==="inherit"?vt=[...nt]:(vt=_o(vt)?[...vt]:[vt],vt=vt.map(s=>cr(s,!0))),Ee==="inherit"?Ee=[...Xe]:(Ee=_o(Ee)?[...Ee]:[Ee],Ee=Ee.map(s=>cr(s,!0))),Ue==="inherit"?Ue=[...Ht]:Ue=xo(Ue,Eo,{minLength:1})?[...Ue]:[Ue],Et==="inherit"?Et=[...Pt]:Et=xo(Et,Eo,{minLength:1})?[...Et]:[Et],f=Dr(f,hu),Xt=Dr(Xt,Ep,{allowDensity:!0}),mt=Dr(mt,yp),Ge=Dr(Ge,_p,{allowSegment:!0}),Ce=Dr(Ce,xp,{allowSegment:!0}),Vt=Dr(Vt,gp,{allowSegment:!0});let ni,ri,ii,ic,yr=0,cs=0,Qo,fs,Ko,Ha,Wa,Xa,Ya,Ti=!1,qo=null,ds,hs,oc=Qe,Ji,eo=0,Qa,to=0,ms=!1,ar=!1,oi=!1,ai=Cl,Ai=Cl,On,Pr=!1,In=e.xScale||null,gn=e.yScale||null,no=0,Ka=0,qa=0,Za=0;In&&(no=In.domain()[0],Ka=In.domain()[1]-In.domain()[0],In.range([0,sn])),gn&&(qa=gn.domain()[0],Za=gn.domain()[1]-gn.domain()[0],gn.range([Bn,0]));const ac=s=>-1+s/sn*2,lr=s=>1+s/Bn*-2,Jn=()=>[ac(i[0]),lr(i[1])],gr=(s,N)=>{const G=[s,N,1,1],ie=O0(n,nr(n,$a,nr(n,Me.view,Ki)));return sd(G,G,ie),G.slice(0,2)},lc=(s=0)=>{const N=ia(),ie=(Yo[1]-Zi[1])/u.height;return(us*N+s)*ie},ps=()=>Rt?jn.points.filter((s,N)=>yn.has(N)):jn.points,Ja=(s,N,G,ie)=>{const we=jn.range(s,N,G,ie);return Rt?we.filter(Be=>yn.has(Be)):we},vs=()=>{const[s,N]=Jn(),[G,ie]=gr(s,N),we=lc(4),Be=Ja(G-we,ie-we,G+we,ie+we);let We=we,ft=-1;return Be.forEach(Mt=>{const[Nt,xn]=jn.points[Mt],$t=Sp(Nt,xn,G,ie);$t<We&&(We=$t,ft=Mt)}),ft},gh=(s,N)=>{Si=s,Yt.setPoints(N),t.publish("lassoExtend",{coordinates:s})},xh=s=>{const N=nb(s);if(!rb(N))return[];const G=Ja(...N),ie=[];return G.forEach(we=>{ub(s,jn.points[we])&&ie.push(we)}),ie},ro=()=>{Si=[],Yt&&Yt.clear()},Zo=s=>s&&s.length>4,Ci=(s,N)=>{if(ss||!Gt||!Zo(jn.points[s[0]]))return;const G=N===0,ie=N===1?We=>en.add(We):jl,we=Object.keys(s.reduce((We,ft)=>{const Mt=jn.points[ft],xn=Array.isArray(Mt[4])?Mt[4][0]:Mt[4];return We[xn]=!0,We},{})),Be=fn.getData().opacities;we.filter(We=>!en.has(+We)).forEach(We=>{const ft=vr[We][0],Mt=vr[We][2],Nt=vr[We][3],xn=ft*4+Nt*2,$t=xn+Mt*2+4;Be.__original__===void 0&&(Be.__original__=Be.slice());for(let It=xn;It<$t;It++)Be[It]=G?Be.__original__[It]:qe;ie(We)}),fn.getBuffer().opacities.subdata(Be,0)},el=s=>[s%yr/yr+cs,Math.floor(s/yr)/yr+cs],Eh=s=>Rt&&!yn.has(s),tl=({preventEvent:s=!1}={})=>{j===k0&&ro(),Fe.length&&(s||t.publish("deselect"),en.clear(),Ci(Fe,0),Fe=[],Kt.clear(),pt=!0)},io=(s,{merge:N=!1,preventEvent:G=!1}={})=>{const ie=Array.isArray(s)?s:[s],we=[...Fe];if(N){if(Fe=H2(Fe,ie),we.length===Fe.length){pt=!0;return}}else{if(Fe&&Fe.length&&Ci(Fe,0),we.length>0&&ie.length===0){tl({preventEvent:G});return}Fe=ie}if(U2(we,Fe)){pt=!0;return}const Be=[];Kt.clear(),en.clear();for(let We=Fe.length-1;We>=0;We--){const ft=Fe[We];if(ft<0||ft>=wn||Eh(ft)){Fe.splice(We,1);continue}Kt.add(ft),Be.push.apply(Be,el(ft))}fs({usage:"dynamic",type:"float",data:Be}),Ci(Fe,1),G||t.publish("select",{points:Fe}),pt=!0},Jo=(s,{showReticleOnce:N=!1,preventEvent:G=!1}={})=>{let ie=!1;if(s>=0&&s<wn){ie=!0;const we=On,Be=s!==On;+we>=0&&Be&&!Kt.has(we)&&Ci([we],0),On=s,Ko.subdata(el(s)),Kt.has(s)||Ci([s],2),Be&&!G&&t.publish("pointover",On)}else ie=+On>=0,ie&&(Kt.has(On)||Ci([On],0),G||t.publish("pointout",On)),On=void 0;ie&&(pt=!0,wi=N)},ys=s=>{const N=u.getBoundingClientRect();return i[0]=s.clientX-N.left,i[1]=s.clientY-N.top,[...i]},Tn=N_(u,{onStart:()=>{Me.config({isFixed:!0}),gt=!0,Or=!0,ro(),q>=0&&(clearTimeout(q),q=-1),t.publish("lassoStart")},onDraw:gh,onEnd:(s,N,{merge:G=!1}={})=>{Me.config({isFixed:!1}),Si=[...s];const ie=xh(N);io(ie,{merge:G}),t.publish("lassoEnd",{coordinates:Si}),j===jv&&ro()},enableInitiator:x,initiatorParentElement:T,pointNorm:([s,N])=>gr(ac(s),lr(N))}),nl=()=>ct===A_,ea=(s,N)=>{switch(za[N]){case $v:return s.altKey;case zv:return s.metaKey;case b_:return s.ctrlKey;case L_:return s.metaKey;case Uv:return s.shiftKey;default:return!1}},sc=s=>document.elementsFromPoint(s.clientX,s.clientY).some(N=>N===u),gs=s=>{!ar||s.buttons!==1||(gt=!0,Ne=performance.now(),Ct=ys(s),Or=nl()||ea(s,Gv),!Or&&C&&(Tn.showLongPressIndicator(s.clientX,s.clientY,{time:V,extraTime:Y,delay:le}),q=setTimeout(()=>{q=-1,Or=!0},V)))},xs=s=>{ar&&(gt=!1,q>=0&&(clearTimeout(q),q=-1),Or&&(s.preventDefault(),Or=!1,Tn.end({merge:ea(s,zd)})),C&&Tn.hideLongPressIndicator({time:xe}))},rl=s=>{if(!ar)return;s.preventDefault();const N=ys(s);if(Sp(...N,...Ct)>=O)return;const G=performance.now()-Ne;if(!x||G<JC){const ie=vs();ie>=0?(Fe.length&&j===k0&&ro(),io([ie],{merge:ea(s,zd)})):qi||(qi=setTimeout(()=>{qi=null,Tn.showInitiator(s)},ZC))}},il=s=>{Tn.hideInitiator(),qi&&(clearTimeout(qi),qi=null),m&&(s.preventDefault(),tl())},Hr=s=>{if(oi||(Pr=sc(s),oi=!0),!ar||!Pr&&!gt)return;const N=ys(s),ie=Sp(...N,...Ct)>=O;Pr&&!Or&&Jo(vs()),Or?(s.preventDefault(),Tn.extend(s,!0)):gt&&C&&ie&&Tn.hideLongPressIndicator({time:xe}),q>=0&&ie&&(clearTimeout(q),q=-1),gt&&(pt=!0)},ta=()=>{On=void 0,Pr=!1,oi=!1,ar&&(+On>=0&&!Kt.has(On)&&Ci([On],0),xs(),pt=!0)},ol=()=>{const s=Math.max(Pt.length,Ht.length);to=Math.max(2,Math.ceil(Math.sqrt(s)));const N=new Float32Array(to**2*4);for(let G=0;G<s;G++){N[G*4]=Pt[G]||0,N[G*4+1]=Math.min(1,Ht[G]||0);const ie=Number((nt[G]||nt[0])[3]);N[G*4+2]=Math.min(1,Number.isNaN(ie)?1:ie);const we=Number((Xe[G]||Xe[0])[3]);N[G*4+3]=Math.min(1,Number.isNaN(we)?1:we)}return o.regl.texture({data:N,shape:[to,to,4],type:"float"})},Es=(s=Le,N=nt,G=Xe)=>{const ie=s.length,we=N.length,Be=G.length,We=[];if(ie===we&&we===Be)for(let ft=0;ft<ie;ft++)We.push(s[ft],N[ft],G[ft],a);else for(let ft=0;ft<ie;ft++){const Mt=[s[ft][0],s[ft][1],s[ft][2],1],Nt=f===hu?N[0]:Mt,xn=f===hu?G[0]:Mt;We.push(s[ft],Nt,xn,a)}return We},_s=()=>{const s=Es(),N=s.length;eo=Math.max(2,Math.ceil(Math.sqrt(N)));const G=new Float32Array(eo**2*4);return s.forEach((ie,we)=>{G[we*4]=ie[0],G[we*4+1]=ie[1],G[we*4+2]=ie[2],G[we*4+3]=ie[3]}),o.regl.texture({data:G,shape:[eo,eo,4],type:"float"})},_h=(s,N)=>{Qi[0]=s/Yi,Qi[5]=N},Ss=()=>{Yi=sn/Bn,$a=ld([],[1/Yi,1,1]),Qi=ld([],[1/Yi,1,1]),Ki=ld([],[Ga,1,1])},Sh=s=>{+s<=0||(Ga=s)},ws=(s,N)=>G=>{if(!G||!G.length)return;const we=[...s()];let Be=_o(G)?G:[G];Be=Be.map(We=>cr(We,!0)),Ji&&Ji.destroy();try{N(Be),Ji=_s()}catch{console.error("Invalid colors. Switching back to default colors."),N(we),Ji=_s()}},wh=ws(()=>Le,s=>{Le=s}),Th=ws(()=>nt,s=>{nt=s}),li=ws(()=>Xe,s=>{Xe=s}),Ah=()=>{const s=gr(-1,-1),N=gr(1,1),G=(s[0]+1)/2,ie=(N[0]+1)/2,we=(s[1]+1)/2,Be=(N[1]+1)/2,We=[no+G*Ka,no+ie*Ka],ft=[qa+we*Za,qa+Be*Za];return[We,ft]},bi=()=>{if(!In&&!gn)return;const[s,N]=Ah();In&&In.domain(s),gn&&gn.domain(N)},Li=s=>{Bn=Math.max(1,s),u.height=Math.floor(Bn*window.devicePixelRatio),gn&&(gn.range([Bn,0]),bi())},Ch=s=>{if(s===yi){At=s,u.style.height="100%",window.requestAnimationFrame(()=>{u&&Li(u.getBoundingClientRect().height)});return}!+s||+s<=0||(At=+s,Li(At),u.style.height=`${At}px`)},si=()=>{us=Qt,Qt===yi&&(us=Array.isArray(Pt)?V2(Pt):Pt)},uc=s=>{xo(s,Eo,{minLength:1})&&(Pt=[...s]),Uf(+s)&&(Pt=[+s]),rc=vp/Pt[0],Qa=ol(),si()},ao=s=>{!+s||+s<0||(ln=+s)},cc=s=>{!+s||+s<0||(cn=+s)},Wr=s=>{sn=Math.max(1,s),u.width=Math.floor(sn*window.devicePixelRatio),In&&(In.range([0,sn]),bi())},Ts=s=>{if(s===yi){zt=s,u.style.width="100%",window.requestAnimationFrame(()=>{u&&Wr(u.getBoundingClientRect().width)});return}!+s||+s<=0||(zt=+s,Wr(zt),u.style.width=`${sn}px`)},bh=s=>{xo(s,Eo,{minLength:1})&&(Ht=[...s]),Uf(+s)&&(Ht=[+s]),Qa=ol()},As=s=>{switch(s){case"valueZ":return ai;case"valueW":return Ai;default:return null}},Cs=(s,N)=>{switch(s){case pi:return G=>Math.round(G*(N.length-1));case Cl:default:return jl}},fc=s=>{f=Dr(s,hu)},Lh=s=>{Xt=Dr(s,Ep,{allowDensity:!0})},Rh=s=>{mt=Dr(s,yp)},dc=s=>{Ge=Dr(s,_p,{allowSegment:!0})},Zt=s=>{Ce=Dr(s,xp,{allowSegment:!0})},hc=s=>{Vt=Dr(s,gp,{allowSegment:!0})},Oh=()=>[u.width,u.height],kr=()=>l,bs=()=>Ji,al=()=>eo,Ri=()=>.5/eo,Ls=()=>window.devicePixelRatio,ll=()=>Qo,Oi=()=>fs,sl=()=>Qa,mc=()=>to,Rs=()=>.5/to,Os=()=>0,Ph=()=>ii||ni,kh=()=>yr,Nh=()=>.5/yr,pc=()=>Qi,ul=()=>Me.view,na=()=>Ki,ra=()=>nr(r,Qi,nr(r,Me.view,Ki)),ia=()=>Me.scaling[0]>1?Math.asinh(Vf(1,Me.scaling[0]))/Math.asinh(1)*window.devicePixelRatio:Vf(rc,Me.scaling[0])*window.devicePixelRatio,lo=()=>Rt?yn.size:wn,Pi=()=>Fe.length,Ps=()=>Pi()>0?_t:1,ks=()=>Pi()>0?bt:1,Ns=()=>+(f==="valueZ"),vc=()=>+(f==="valueW"),yc=()=>+(Xt==="valueZ"),gc=()=>+(Xt==="valueW"),xc=()=>+(Xt==="density"),Ec=()=>+(mt==="valueZ"),_c=()=>+(mt==="valueW"),Sc=()=>f==="valueZ"?ai===pi?Le.length-1:1:Ai===pi?Le.length-1:1,wc=()=>Xt==="valueZ"?ai===pi?Ht.length-1:1:Ai===pi?Ht.length-1:1,so=()=>mt==="valueZ"?ai===pi?Pt.length-1:1:Ai===pi?Pt.length-1:1,Is=s=>{if(Xt!=="density")return 1;const N=ia(),G=Pt[0]*N,ie=2/(2/Me.view[0])*(2/(2/Me.view[5])),we=s.viewportHeight,Be=s.viewportWidth;let We=yt*Be*we/(Vr*G*G)*m1(1,ie);We*=Ur?1:1/(.25*Math.PI);const ft=Vf(vp,G)+.5;return We*=(G/ft)**2,m1(1,Vf(0,We))},Ms=o.regl({framebuffer:()=>ic,vert:Zb,frag:qb,attributes:{position:[-4,0,4,4,4,-4]},uniforms:{startStateTex:()=>ri,endStateTex:()=>ni,t:(s,N)=>N.t},count:3}),xr=(s,N,G,ie=K2,we=Ps,Be=ks)=>o.regl({frag:Ur?Qb:Yb,vert:Kb(ie),blend:{enable:!Ur,func:{srcRGB:"src alpha",srcAlpha:"one",dstRGB:"one minus src alpha",dstAlpha:"one minus src alpha"}},depth:{enable:!1},attributes:{stateIndex:{buffer:G,size:2}},uniforms:{resolution:Oh,modelViewProjection:ra,devicePixelRatio:Ls,pointScale:ia,encodingTex:sl,encodingTexRes:mc,encodingTexEps:Rs,pointOpacityMax:we,pointOpacityScale:Be,pointSizeExtra:s,globalState:ie,colorTex:bs,colorTexRes:al,colorTexEps:Ri,stateTex:Ph,stateTexRes:kh,stateTexEps:Nh,isColoredByZ:Ns,isColoredByW:vc,isOpacityByZ:yc,isOpacityByW:gc,isOpacityByDensity:xc,isSizedByZ:Ec,isSizedByW:_c,colorMultiplicator:Sc,opacityMultiplicator:wc,opacityDensity:Is,sizeMultiplicator:so,numColorStates:Z2},count:N,primitive:"points"}),Ih=xr(Os,lo,ll),Mh=xr(Os,()=>1,()=>Ko,q2,()=>1,()=>1),Dh=xr(()=>(ln+cn*2)*window.devicePixelRatio,Pi,Oi,pp,()=>1,()=>1),Ds=xr(()=>(ln+cn)*window.devicePixelRatio,Pi,Oi,l1,()=>1,()=>1),Fh=xr(()=>ln*window.devicePixelRatio,Pi,Oi,pp,()=>1,()=>1),Bh=()=>{Dh(),Ds(),Fh()},jh=o.regl({frag:Wb,vert:Xb,attributes:{position:[0,1,0,0,1,0,0,1,1,1,1,0]},uniforms:{modelViewProjection:ra,texture:kr},count:6}),Fs=o.regl({vert:`
      precision mediump float;
      uniform mat4 modelViewProjection;
      attribute vec2 position;
      void main () {
        gl_Position = modelViewProjection * vec4(position, 0, 1);
      }`,frag:`
      precision mediump float;
      uniform vec4 color;
      void main () {
        gl_FragColor = vec4(color.rgb, 0.2);
      }`,depth:{enable:!1},blend:{enable:!0,func:{srcRGB:"src alpha",srcAlpha:"one",dstRGB:"one minus src alpha",dstAlpha:"one minus src alpha"}},attributes:{position:()=>Si},uniforms:{modelViewProjection:ra,color:()=>p},elements:()=>Array.from({length:Si.length-2},(s,N)=>[0,N+1,N+2])}),Gh=()=>{if(!(On>=0))return;const[s,N]=jn.points[On].slice(0,2),G=[s,N,0,1];nr(n,Qi,nr(n,Me.view,Ki)),sd(G,G,n),Wo.setPoints([-1,G[1],1,G[1]]),Xo.setPoints([G[0],1,G[0],-1]),Wo.draw(),Xo.draw(),xr(()=>(ln+cn*2)*window.devicePixelRatio,()=>1,Ko,pp)(),xr(()=>(ln+cn)*window.devicePixelRatio,()=>1,Ko,l1)()},cl=s=>{const N=new Float32Array(s*2);let G=0;for(let ie=0;ie<s;++ie){const we=el(ie);N[G]=we[0],N[G+1]=we[1],G+=2}return N},Bs=(s,N={})=>{const G=s.length;yr=Math.max(2,Math.ceil(Math.sqrt(G))),cs=.5/yr;const ie=new Float32Array(yr**2*4);let we=!0,Be=!0,We=0,ft=0,Mt=0;for(let Nt=0;Nt<G;++Nt)We=Nt*4,ie[We]=s[Nt][0],ie[We+1]=s[Nt][1],ft=s[Nt][2]||0,Mt=s[Nt][3]||0,ie[We+2]=ft,ie[We+3]=Mt,we&&(we=Number.isInteger(ft)),Be&&(Be=Number.isInteger(Mt));return N.z&&c1.includes(N.z)?ai=N.z:ai=we?Cl:pi,N.w&&c1.includes(N.w)?Ai=N.w:Ai=Be?Cl:pi,o.regl.texture({data:ie,shape:[yr,yr,4],type:"float"})},Tc=(s,N={})=>{if(!ni)return!1;if(Ti){const G=ri;ri=ii,G.destroy()}else ri=ni;return ii=Bs(s,N),ic=o.regl.framebuffer({color:ii,depth:!1,stencil:!1}),ni=void 0,!0},js=()=>!!(ri&&ii),$h=()=>{ri&&(ri.destroy(),ri=void 0),ii&&(ii.destroy(),ii=void 0)},oa=(s,N={})=>{ar=!1,wn=s.length,Vr=wn,ni&&ni.destroy(),ni=Bs(s,N),Qo({usage:"static",type:"float",data:cl(wn)}),jn=new R2(s,G=>G[0],G=>G[1],16),ar=!0},Ac=(s,N)=>{Ha=Me.target,Wa=s,Xa=Me.distance[0],Ya=N},zh=()=>Ha!==void 0&&Wa!==void 0&&Xa!==void 0&&Ya!==void 0,Uh=()=>{Ha=void 0,Wa=void 0,Xa=void 0,Ya=void 0},Vh=s=>{const N=Ge==="inherit"?f:Ge;if(N==="segment"){const G=dt.length-1;return G<1?[]:s.reduce((ie,we,Be)=>{let We=0;const ft=[];for(let Nt=2;Nt<we.length;Nt+=2){const xn=Math.sqrt((we[Nt-2]-we[Nt])**2+(we[Nt-1]-we[Nt+1])**2);ft.push(xn),We+=xn}ie[Be]=[0];let Mt=0;for(let Nt=0;Nt<we.length/2-1;Nt++)Mt+=ft[Nt],ie[Be].push(Math.floor(Mt/We*G)*4);return ie},[])}if(N){const G=Rp(N),ie=Cs(As(N),Ge==="inherit"?Le:dt);return vr.reduce((we,[Be,We])=>(we[Be]=ie(We[G])*4,we),[])}return Array(vr.length).fill(0)},Hh=()=>{const s=Ce==="inherit"?Xt:Ce;if(s==="segment"){const N=Ue.length-1;return N<1?[]:vr.reduce((G,[ie,we,Be])=>(G[ie]=o1(Be,We=>Ue[Math.floor(We/(Be-1)*N)]),G),[])}if(s){const N=Rp(s),G=Ce==="inherit"?Ht:Ue,ie=Cs(As(s),G);return vr.reduce((we,[Be,We])=>(we[Be]=G[ie(We[N])],we),[])}},Wh=()=>{const s=Vt==="inherit"?mt:Vt;if(s==="segment"){const N=Et.length-1;return N<1?[]:vr.reduce((G,[ie,we,Be])=>(G[ie]=o1(Be,We=>Et[Math.floor(We/(Be-1)*N)]),G),[])}if(s){const N=Rp(s),G=Vt==="inherit"?Pt:Et,ie=Cs(As(s),G);return vr.reduce((we,[Be,We])=>(we[Be]=G[ie(We[N])],we),[])}},Xh=s=>{vr=[];let N=0;Object.keys(s).forEach((G,ie)=>{vr[G]=[ie,s[G].reference,s[G].length/2,N],N+=s[G].length/2})},uo=s=>new Promise(N=>{fn.setPoints([]),!s||!s.length?N():(ss=!0,eL(s,{maxIntPointsPerSegment:Bt,tolerance:Wt}).then(G=>{Xh(G);const ie=Object.values(G);fn.setPoints(ie.length===1?ie[0]:ie,{colorIndices:Vh(ie),opacities:Hh(),widths:Wh()}),ss=!1,N()}))}),aa=({preventEvent:s=!1}={})=>(Rt=!1,yn.clear(),Qo.subdata(cl(wn)),new Promise(N=>{const G=()=>{t.subscribe("draw",()=>{s||t.publish("unfilter"),N()},1),pt=!0};Gt||Zo(jn.points[0])?uo(ps()).then(()=>{s||t.publish("pointConnectionsDraw"),G()}):G()})),Cc=(s,{preventEvent:N=!1}={})=>{const G=Array.isArray(s)?s:[s];Rt=!0,yn.clear();const ie=[],we=[];for(let Be=G.length-1;Be>=0;Be--){const We=G[Be];if(We<0||We>=wn){G.splice(Be,1);continue}yn.add(We),ie.push.apply(ie,el(We)),Kt.has(We)&&we.push(We)}return Qo.subdata(ie),io(we,{preventEvent:N}),yn.has(On)||Jo(-1,{preventEvent:N}),new Promise(Be=>{const We=()=>{t.subscribe("draw",()=>{N||t.publish("filter",{points:G}),Be()},1),pt=!0};Gt||Zo(jn.points[0])?uo(ps()).then(()=>{N||t.publish("pointConnectionsDraw"),io(we,{preventEvent:N}),We()}):We()})},la=()=>Ja(Zi[0],Zi[1],Yo[0],Yo[1]),co=w_(()=>{Vr=la().length},y),bc=s=>{const[N,G]=Ha,[ie,we]=Wa,Be=1-s,We=N*Be+ie*s,ft=G*Be+we*s,Mt=Xa*Be+Ya*s;Me.lookAt([We,ft],Mt)},Lc=()=>js(),Rc=()=>zh(),Oc=(s,N)=>{qo||(qo=performance.now());const G=performance.now()-qo,ie=hb(N(G/s),0,1);return Lc()&&Ms({t:ie}),Rc()&&bc(ie),G<s},Pc=()=>{Ti=!1,qo=null,ds=void 0,hs=void 0,Qe=oc,$h(),Uh(),t.publish("transitionEnd")},fl=({duration:s=500,easing:N=u1})=>{Ti&&t.publish("transitionEnd"),Ti=!0,qo=null,ds=s,hs=N0(N)?nC[N]||u1:N,oc=Qe,Qe=!1,t.publish("transitionStart")},Yh=s=>new Promise((N,G)=>{if(!s||Array.isArray(s))N(s);else{const ie=Array.isArray(s.x)||ArrayBuffer.isView(s.x)?s.x.length:0,we=(Array.isArray(s.x)||ArrayBuffer.isView(s.x))&&($t=>s.x[$t]),Be=(Array.isArray(s.y)||ArrayBuffer.isView(s.y))&&($t=>s.y[$t]),We=(Array.isArray(s.line)||ArrayBuffer.isView(s.line))&&($t=>s.line[$t]),ft=(Array.isArray(s.lineOrder)||ArrayBuffer.isView(s.lineOrder))&&($t=>s.lineOrder[$t]),Mt=Object.keys(s),Nt=(()=>{const $t=Mt.find(It=>R_.has(It));return $t&&(Array.isArray(s[$t])||ArrayBuffer.isView(s[$t]))&&(It=>s[$t][It])})(),xn=(()=>{const $t=Mt.find(It=>O_.has(It));return $t&&(Array.isArray(s[$t])||ArrayBuffer.isView(s[$t]))&&(It=>s[$t][It])})();we&&Be&&Nt&&xn&&We&&ft?N(s.x.map(($t,It)=>[$t,Be(It),Nt(It),xn(It),We(It),ft(It)])):we&&Be&&Nt&&xn&&We?N(Array.from({length:ie},($t,It)=>[we(It),Be(It),Nt(It),xn(It),We(It)])):we&&Be&&Nt&&xn?N(Array.from({length:ie},($t,It)=>[we(It),Be(It),Nt(It),xn(It)])):we&&Be&&Nt?N(Array.from({length:ie},($t,It)=>[we(It),Be(It),Nt(It)])):we&&Be?N(Array.from({length:ie},($t,It)=>[we(It),Be(It)])):G(new Error("You need to specify at least x and y"))}}),fo=(s,N={})=>et?Promise.reject(new Error("The instance was already destroyed")):Yh(s).then(G=>new Promise(ie=>{if(et){ie();return}let we=!1;(!N.preventFilterReset||(G==null?void 0:G.length)!==wn)&&(Rt=!1,yn.clear());const Be=G&&Zo(G[0])&&(Gt||N.showPointConnectionsOnce),{zDataType:We,wDataType:ft}=N;G&&(N.transition&&(G.length===wn?we=Tc(G,{z:We,w:ft}):console.warn("Cannot transition! The number of points between the previous and current draw call must be identical.")),oa(G,{z:We,w:ft}),N.hover!==void 0&&Jo(N.hover,{preventEvent:!0}),N.select!==void 0&&io(N.select,{preventEvent:!0}),N.filter!==void 0&&Cc(N.filter,{preventEvent:!0}),Be&&uo(G).then(()=>{t.publish("pointConnectionsDraw"),pt=!0,wi=N.showReticleOnce})),N.transition&&we?(Be?Promise.all([new Promise(Mt=>{t.subscribe("transitionEnd",()=>{pt=!0,wi=N.showReticleOnce,Mt()},1)}),new Promise(Mt=>{t.subscribe("pointConnectionsDraw",Mt,1)})]).then(ie):t.subscribe("transitionEnd",()=>{pt=!0,wi=N.showReticleOnce,ie()},1),fl({duration:N.transitionDuration,easing:N.transitionEasing})):(Be?Promise.all([new Promise(Mt=>{t.subscribe("draw",Mt,1)}),new Promise(Mt=>{t.subscribe("pointConnectionsDraw",Mt,1)})]).then(ie):t.subscribe("draw",ie,1),pt=!0,wi=N.showReticleOnce)})),An=s=>(...N)=>{const G=s(...N);return pt=!0,G},kc=s=>{let N=1/0,G=-1/0,ie=1/0,we=-1/0;for(let Be=0;Be<s.length;Be++){const[We,ft]=jn.points[s[Be]];N=Math.min(N,We),G=Math.max(G,We),ie=Math.min(ie,ft),we=Math.max(we,ft)}return{x:N,y:ie,width:G-N,height:we-ie}},Gs=(s,N={})=>new Promise(G=>{const ie=[s.x+s.width/2,s.y+s.height/2],we=2*Math.atan(1),Be=s.height*Yi>s.width?s.height/2/Math.tan(we/2):s.width/2/Math.tan(we*Yi/2);N.transition?(Me.config({isFixed:!0}),Ac(ie,Be),t.subscribe("transitionEnd",()=>{G(),Me.config({isFixed:!1})},1),fl({duration:N.transitionDuration,easing:N.transitionEasing})):(Me.lookAt(ie,Be),t.subscribe("draw",G,1),pt=!0)}),ki=(s,N={})=>{if(!ar)return Promise.reject(new Error(f1));const G=kc(s),ie=G.x+G.width/2,we=G.y+G.height/2,Be=lc(),We=1+(N.padding||0),ft=Math.max(G.width,Be)*We,Mt=Math.max(G.height,Be)*We,Nt=ie-ft/2,xn=we-Mt/2;return Gs({x:Nt,y:xn,width:ft,height:Mt},N)},$s=(s,N,G={})=>new Promise(ie=>{G.transition?(Me.config({isFixed:!0}),Ac(s,N),t.subscribe("transitionEnd",()=>{ie(),Me.config({isFixed:!1})},1),fl({duration:G.transitionDuration,easing:G.transitionEasing})):(Me.lookAt(s,N),t.subscribe("draw",ie,1),pt=!0)}),Nc=(s={})=>$s([0,0],1,s),Qh=s=>{if(!ar)throw new Error(f1);const N=jn.points[s];if(!N)return;const G=[N[0],N[1],0,1];nr(n,$a,nr(n,Me.view,Ki)),sd(G,G,n);const ie=sn*(G[0]+1)/2,we=Bn*(.5-G[1]/2);return[ie,we]},zs=()=>{fn.setStyle({color:Es(dt,vt,Ee),opacity:Ue===null?null:Ue[0],width:Et[0]})},Ic=()=>{const s=Math.round(kt)>.5?0:255;Tn.initiator.style.border=`1px dashed rgba(${s}, ${s}, ${s}, 0.33)`,Tn.initiator.style.background=`rgba(${s}, ${s}, ${s}, 0.1)`},Mc=()=>{const s=Math.round(kt)>.5?0:255;Tn.longPressIndicator.style.color=`rgb(${s}, ${s}, ${s})`,Tn.longPressIndicator.dataset.color=`rgb(${s}, ${s}, ${s})`;const N=p.map(G=>Math.round(G*255));Tn.longPressIndicator.dataset.activeColor=`rgb(${N[0]}, ${N[1]}, ${N[2]})`},Us=s=>{s&&(a=cr(s,!0),kt=v1(a),Ic(),Mc())},Dc=s=>{s?N0(s)?h1(o.regl,s).then(N=>{l=N,pt=!0,t.publish("backgroundImageReady")}).catch(()=>{console.error(`Count not create texture from ${s}`),l=null}):s._reglType==="texture2d"?l=s:l=null:l=null},Kh=s=>{s>0&&Me.lookAt(Me.target,s,Me.rotation)},Fc=s=>{s!==null&&Me.lookAt(Me.target,Me.distance[0],s)},Bc=s=>{s&&Me.lookAt(s,Me.distance[0],Me.rotation)},jc=s=>{s&&Me.setView(s)},dl=s=>{if(!s)return;p=cr(s,!0),Yt.setStyle({color:p});const N=p.map(G=>Math.round(G*255));Tn.longPressIndicator.dataset.activeColor=`rgb(${N[0]}, ${N[1]}, ${N[2]})`},qh=s=>{Number.isNaN(+s)||+s<1||(L=+s,Yt.setStyle({width:L}))},ui=s=>{+s&&(k=+s,Tn.set({minDelay:k}))},hl=s=>{+s&&(O=+s,Tn.set({minDist:O}))},Gc=s=>{j=d1(rC,j)(s)},$c=s=>{x=!!s,Tn.set({enableInitiator:x})},zc=s=>{T=s,Tn.set({startInitiatorParentElement:T})},Uc=s=>{C=!!s},Vc=s=>{V=Number(s)},Hc=s=>{Y=Number(s)},Wc=s=>{le=Number(s)},Xc=s=>{xe=Number(s)},Yc=s=>{se=Object.entries(s).reduce((N,[G,ie])=>(dC.includes(G)&&fC.includes(ie)&&(N[G]=ie),N),{}),za=p1(se),za[$d]?Me.config({isRotate:!0,mouseDownMoveModKey:za[$d]}):Me.config({isRotate:!1})},_r=s=>{ct=d1(eC,Bv)(s),Me.config({defaultMouseDownMoveAction:ct===C_?"rotate":"pan"})},Qc=s=>{s!==null&&(Qe=s)},Zh=s=>{s&&(Ve=cr(s,!0),Wo.setStyle({color:Ve}),Xo.setStyle({color:Ve}))},Xr=s=>{s&&(In=s,no=s.domain()[0],Ka=s?s.domain()[1]-s.domain()[0]:0,In.range([0,sn]),bi())},Vs=s=>{s&&(gn=s,qa=gn.domain()[0],Za=gn?gn.domain()[1]-gn.domain()[0]:0,gn.range([Bn,0]),bi())},Ni=s=>{m=!!s},ml=s=>{h=!!s},Kc=s=>{Gt=!!s,Gt?Zo(jn.points[0])&&uo(ps()).then(()=>{t.publish("pointConnectionsDraw"),pt=!0}):uo()},pl=(s,N)=>G=>{if(G==="inherit")s([...N()]);else{const ie=_o(G)?G:[G];s(ie.map(we=>cr(we,!0)))}zs()},qc=pl(s=>{dt=s},()=>Le),Zc=pl(s=>{vt=s},()=>nt),Jc=pl(s=>{Ee=s},()=>Xe),Jh=s=>{xo(s,Eo,{minLength:1})&&(Ue=[...s]),Uf(+s)&&(Ue=[+s]),dt=dt.map(N=>(N[3]=Number.isNaN(+Ue[0])?N[3]:+Ue[0],N)),zs()},em=s=>{!Number.isNaN(+s)&&+s&&(qe=+s)},tm=s=>{xo(s,Eo,{minLength:1})&&(Et=[...s]),Uf(+s)&&(Et=[+s]),zs()},nm=s=>{!Number.isNaN(+s)&&+s&&(Lt=Math.max(0,s))},rm=s=>{Bt=Math.max(0,s)},im=s=>{Wt=Math.max(0,s)},om=s=>{Qt=s,si()},ef=s=>{yt=+s},tf=s=>{_t=+s},am=s=>{bt=+s},lm=s=>{o.gamma=s},Hs=s=>{if(Lp({property:!0}),s==="aspectRatio")return Ga;if(s==="background"||s==="backgroundColor")return a;if(s==="backgroundImage")return l;if(s==="camera")return Me;if(s==="cameraTarget")return Me.target;if(s==="cameraDistance")return Me.distance[0];if(s==="cameraRotation")return Me.rotation;if(s==="cameraView")return Me.view;if(s==="canvas")return u;if(s==="colorBy")return f;if(s==="sizeBy")return mt;if(s==="deselectOnDblClick")return m;if(s==="deselectOnEscape")return h;if(s==="height")return At;if(s==="lassoColor")return p;if(s==="lassoLineWidth")return L;if(s==="lassoMinDelay")return k;if(s==="lassoMinDist")return O;if(s==="lassoClearEvent")return j;if(s==="lassoInitiator")return x;if(s==="lassoInitiatorElement")return Tn.initiator;if(s==="lassoInitiatorParentElement")return T;if(s==="keyMap")return{...se};if(s==="mouseMode")return ct;if(s==="opacity")return Ht.length===1?Ht[0]:Ht;if(s==="opacityBy")return Xt;if(s==="opacityByDensityFill")return yt;if(s==="opacityByDensityDebounceTime")return y;if(s==="opacityInactiveMax")return _t;if(s==="opacityInactiveScale")return bt;if(s==="points")return jn.points;if(s==="hoveredPoint")return On;if(s==="selectedPoints")return[...Fe];if(s==="filteredPoints")return Rt?Array.from(yn):Array.from({length:jn.points.length},(N,G)=>G);if(s==="pointsInView")return la();if(s==="pointColor")return Le.length===1?Le[0]:Le;if(s==="pointColorActive")return nt.length===1?nt[0]:nt;if(s==="pointColorHover")return Xe.length===1?Xe[0]:Xe;if(s==="pointOutlineWidth")return cn;if(s==="pointSize")return Pt.length===1?Pt[0]:Pt;if(s==="pointSizeSelected")return ln;if(s==="pointSizeMouseDetection")return Qt;if(s==="showPointConnections")return Gt;if(s==="pointConnectionColor")return dt.length===1?dt[0]:dt;if(s==="pointConnectionColorActive")return vt.length===1?vt[0]:vt;if(s==="pointConnectionColorHover")return Ee.length===1?Ee[0]:Ee;if(s==="pointConnectionColorBy")return Ge;if(s==="pointConnectionOpacity")return Ue.length===1?Ue[0]:Ue;if(s==="pointConnectionOpacityBy")return Ce;if(s==="pointConnectionOpacityActive")return qe;if(s==="pointConnectionSize")return Et.length===1?Et[0]:Et;if(s==="pointConnectionSizeActive")return Lt;if(s==="pointConnectionSizeBy")return Vt;if(s==="pointConnectionMaxIntPointsPerSegment")return Bt;if(s==="pointConnectionTolerance")return Wt;if(s==="reticleColor")return Ve;if(s==="regl")return o.regl;if(s==="showReticle")return Qe;if(s==="version")return tL;if(s==="width")return zt;if(s==="xScale")return In;if(s==="yScale")return gn;if(s==="performanceMode")return Ur;if(s==="gamma")return o.gamma;if(s==="renderer")return o;if(s==="isDestroyed")return et;if(s==="isPointsDrawn")return ar;if(s==="isPointsFiltered")return Rt;if(s==="zDataType")return ai;if(s==="wDataType")return Ai},sa=(s={})=>(Lp(s),(s.backgroundColor!==void 0||s.background!==void 0)&&Us(s.backgroundColor||s.background),s.backgroundImage!==void 0&&Dc(s.backgroundImage),s.cameraTarget!==void 0&&Bc(s.cameraTarget),s.cameraDistance!==void 0&&Kh(s.cameraDistance),s.cameraRotation!==void 0&&Fc(s.cameraRotation),s.cameraView!==void 0&&jc(s.cameraView),s.colorBy!==void 0&&fc(s.colorBy),s.pointColor!==void 0&&wh(s.pointColor),s.pointColorActive!==void 0&&Th(s.pointColorActive),s.pointColorHover!==void 0&&li(s.pointColorHover),s.pointSize!==void 0&&uc(s.pointSize),s.pointSizeSelected!==void 0&&ao(s.pointSizeSelected),s.pointSizeMouseDetection!==void 0&&om(s.pointSizeMouseDetection),s.sizeBy!==void 0&&Rh(s.sizeBy),s.opacity!==void 0&&bh(s.opacity),s.showPointConnections!==void 0&&Kc(s.showPointConnections),s.pointConnectionColor!==void 0&&qc(s.pointConnectionColor),s.pointConnectionColorActive!==void 0&&Zc(s.pointConnectionColorActive),s.pointConnectionColorHover!==void 0&&Jc(s.pointConnectionColorHover),s.pointConnectionColorBy!==void 0&&dc(s.pointConnectionColorBy),s.pointConnectionOpacityBy!==void 0&&Zt(s.pointConnectionOpacityBy),s.pointConnectionOpacity!==void 0&&Jh(s.pointConnectionOpacity),s.pointConnectionOpacityActive!==void 0&&em(s.pointConnectionOpacityActive),s.pointConnectionSize!==void 0&&tm(s.pointConnectionSize),s.pointConnectionSizeActive!==void 0&&nm(s.pointConnectionSizeActive),s.pointConnectionSizeBy!==void 0&&hc(s.pointConnectionSizeBy),s.pointConnectionMaxIntPointsPerSegment!==void 0&&rm(s.pointConnectionMaxIntPointsPerSegment),s.pointConnectionTolerance!==void 0&&im(s.pointConnectionTolerance),s.opacityBy!==void 0&&Lh(s.opacityBy),s.lassoColor!==void 0&&dl(s.lassoColor),s.lassoLineWidth!==void 0&&qh(s.lassoLineWidth),s.lassoMinDelay!==void 0&&ui(s.lassoMinDelay),s.lassoMinDist!==void 0&&hl(s.lassoMinDist),s.lassoClearEvent!==void 0&&Gc(s.lassoClearEvent),s.lassoInitiator!==void 0&&$c(s.lassoInitiator),s.lassoInitiatorParentElement!==void 0&&zc(s.lassoInitiatorParentElement),s.lassoOnLongPress!==void 0&&Uc(s.lassoOnLongPress),s.lassoLongPressTime!==void 0&&Vc(s.lassoLongPressTime),s.lassoLongPressAfterEffectTime!==void 0&&Hc(s.lassoLongPressAfterEffectTime),s.lassoLongPressEffectDelay!==void 0&&Wc(s.lassoLongPressEffectDelay),s.lassoLongPressRevertEffectTime!==void 0&&Xc(s.lassoLongPressRevertEffectTime),s.keyMap!==void 0&&Yc(s.keyMap),s.mouseMode!==void 0&&_r(s.mouseMode),s.showReticle!==void 0&&Qc(s.showReticle),s.reticleColor!==void 0&&Zh(s.reticleColor),s.pointOutlineWidth!==void 0&&cc(s.pointOutlineWidth),s.height!==void 0&&Ch(s.height),s.width!==void 0&&Ts(s.width),s.aspectRatio!==void 0&&Sh(s.aspectRatio),s.xScale!==void 0&&Xr(s.xScale),s.yScale!==void 0&&Vs(s.yScale),s.deselectOnDblClick!==void 0&&Ni(s.deselectOnDblClick),s.deselectOnEscape!==void 0&&ml(s.deselectOnEscape),s.opacityByDensityFill!==void 0&&ef(s.opacityByDensityFill),s.opacityInactiveMax!==void 0&&tf(s.opacityInactiveMax),s.opacityInactiveScale!==void 0&&am(s.opacityInactiveScale),s.gamma!==void 0&&lm(s.gamma),new Promise(N=>{window.requestAnimationFrame(()=>{u&&(Ss(),Me.refresh(),o.refresh(),pt=!0,N())})})),sm=(s,{preventEvent:N=!1}={})=>{jc(s),pt=!0,Ua=N},nf=()=>{Me||(Me=T2(u,{isPanInverted:[!1,!0]})),e.cameraView?Me.setView(e1(e.cameraView)):e.cameraTarget||e.cameraDistance||e.cameraRotation?Me.lookAt([...e.cameraTarget||FC],e.cameraDistance||BC,e.cameraRotation||jC):Me.setView(e1(GC)),Yo=gr(1,1),Zi=gr(-1,-1)},um=({preventEvent:s=!1}={})=>{nf(),bi(),!s&&t.publish("view",{view:Me.view,camera:Me,xScale:In,yScale:gn})},rf=({key:s})=>{switch(s){case"Escape":h&&tl();break}},of=()=>{Pr=!0,oi=!0},Ws=()=>{Jo(),Pr=!1,oi=!0,pt=!0},af=()=>{pt=!0},cm=()=>{oa([]),fn.clear()},ua=()=>{Me.refresh();const s=zt===yi,N=At===yi;if(s||N){const{width:G,height:ie}=u.getBoundingClientRect();s&&Wr(G),N&&Li(ie),Ss(),pt=!0}},fm=()=>u.getContext("2d").getImageData(0,0,u.width,u.height),dm=()=>{Ss(),nf(),bi(),Yt=zf(o.regl,{color:p,width:L,is2d:!0}),fn=zf(o.regl,{color:dt,colorHover:Ee,colorActive:vt,opacity:Ue===null?null:Ue[0],width:Et[0],widthActive:Lt,is2d:!0}),Wo=zf(o.regl,{color:Ve,width:1,is2d:!0}),Xo=zf(o.regl,{color:Ve,width:1,is2d:!0}),si(),u.addEventListener("wheel",af),Qo=o.regl.buffer(),fs=o.regl.buffer(),Ko=o.regl.buffer({usage:"dynamic",type:"float",length:J2*2}),Ji=_s(),Qa=ol();const s=sa({backgroundImage:l,width:zt,height:At,keyMap:se});Ic(),Mc(),window.addEventListener("keyup",rf,!1),window.addEventListener("blur",ta,!1),window.addEventListener("mouseup",xs,!1),window.addEventListener("mousemove",Hr,!1),u.addEventListener("mousedown",gs,!1),u.addEventListener("mouseenter",of,!1),u.addEventListener("mouseleave",Ws,!1),u.addEventListener("click",rl,!1),u.addEventListener("dblclick",il,!1),"ResizeObserver"in window?(Va=new ResizeObserver(ua),Va.observe(u)):(window.addEventListener("resize",ua),window.addEventListener("orientationchange",ua)),s.then(()=>{t.publish("init")})},ho=o.onFrame(()=>{ms=Me.tick(),!(!ar||!(pt||Ti))&&(Ti&&!Oc(ds,hs)&&Pc(),ms&&(Yo=gr(1,1),Zi=gr(-1,-1),Xt==="density"&&co()),o.render(()=>{const s=u.width/o.canvas.width,N=u.height/o.canvas.height;_h(s,N),l&&l._reglType&&jh(),Si.length>2&&Fs(),Ti||fn.draw({projection:pc(),model:na(),view:ul()}),Ih(),!gt&&(Qe||wi)&&Gh(),On>=0&&Mh(),Fe.length&&Bh(),Yt.draw({projection:pc(),model:na(),view:ul()})},u),ms&&(bi(),Ua?Ua=!1:t.publish("view",{view:Me.view,camera:Me,xScale:In,yScale:gn})),pt=!1,wi=!1,t.publish("draw"))}),hm=()=>{pt=!0},mm=()=>{ar=!1,et=!0,ho(),window.removeEventListener("keyup",rf,!1),window.removeEventListener("blur",ta,!1),window.removeEventListener("mouseup",xs,!1),window.removeEventListener("mousemove",Hr,!1),u.removeEventListener("mousedown",gs,!1),u.removeEventListener("mouseenter",of,!1),u.removeEventListener("mouseleave",Ws,!1),u.removeEventListener("click",rl,!1),u.removeEventListener("dblclick",il,!1),u.removeEventListener("wheel",af,!1),Va?Va.disconnect():(window.removeEventListener("resize",ua),window.removeEventListener("orientationchange",ua)),u=void 0,Me.dispose(),Me=void 0,Yt.destroy(),Tn.destroy(),fn.destroy(),Wo.destroy(),Xo.destroy(),e.renderer||o.destroy(),t.publish("destroy"),t.clear()};return dm(),{get isSupported(){return o.isSupported},clear:An(cm),createTextureFromUrl:(s,N=Vv)=>h1(o.regl,s,N),deselect:tl,destroy:mm,draw:fo,filter:Cc,get:Hs,getScreenPosition:Qh,hover:Jo,redraw:hm,refresh:o.refresh,reset:An(um),select:io,set:sa,export:fm,subscribe:t.subscribe,unfilter:aa,unsubscribe:t.unsubscribe,view:sm,zoomToLocation:$s,zoomToArea:Gs,zoomToPoints:ki,zoomToOrigin:Nc}};function ud(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function rL(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function I_(e){let t,n,r;e.length!==2?(t=ud,n=(l,u)=>ud(e(l),u),r=(l,u)=>e(l)-u):(t=e===ud||e===rL?e:iL,n=e,r=e);function i(l,u,f=0,m=l.length){if(f<m){if(t(u,u)!==0)return m;do{const h=f+m>>>1;n(l[h],u)<0?f=h+1:m=h}while(f<m)}return f}function o(l,u,f=0,m=l.length){if(f<m){if(t(u,u)!==0)return m;do{const h=f+m>>>1;n(l[h],u)<=0?f=h+1:m=h}while(f<m)}return f}function a(l,u,f=0,m=l.length){const h=i(l,u,f,m-1);return h>f&&r(l[h-1],u)>-r(l[h],u)?h-1:h}return{left:i,center:a,right:o}}function iL(){return 0}function oL(e){return e===null?NaN:+e}const aL=I_(ud),lL=aL.right;I_(oL).center;const sL=lL;function uL(e,t){let n,r;if(t===void 0)for(const i of e)i!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)));else{let i=-1;for(let o of e)(o=t(o,++i,e))!=null&&(n===void 0?o>=o&&(n=r=o):(n>o&&(n=o),r<o&&(r=o)))}return[n,r]}class cL extends Map{constructor(t,n=hL){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(g1(this,t))}has(t){return super.has(g1(this,t))}set(t,n){return super.set(fL(this,t),n)}delete(t){return super.delete(dL(this,t))}}function g1({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function fL({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function dL({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function hL(e){return e!==null&&typeof e=="object"?e.valueOf():e}function mL(e){return e}function pL(e,...t){return vL(e,Array.from,mL,t)}function vL(e,t,n,r){return function i(o,a){if(a>=r.length)return n(o);const l=new cL,u=r[a++];let f=-1;for(const m of o){const h=u(m,++f,o),p=l.get(h);p?p.push(m):l.set(h,[m])}for(const[m,h]of l)l.set(m,i(h,a));return t(l)}(e,0)}const yL=Math.sqrt(50),gL=Math.sqrt(10),xL=Math.sqrt(2);function Vd(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=yL?10:o>=gL?5:o>=xL?2:1;let l,u,f;return i<0?(f=Math.pow(10,-i)/a,l=Math.round(e*f),u=Math.round(t*f),l/f<e&&++l,u/f>t&&--u,f=-f):(f=Math.pow(10,i)*a,l=Math.round(e/f),u=Math.round(t/f),l*f<e&&++l,u*f>t&&--u),u<l&&.5<=n&&n<2?Vd(e,t,n*2):[l,u,f]}function I0(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,o,a]=r?Vd(t,e,n):Vd(e,t,n);if(!(o>=i))return[];const l=o-i+1,u=new Array(l);if(r)if(a<0)for(let f=0;f<l;++f)u[f]=(o-f)/-a;else for(let f=0;f<l;++f)u[f]=(o-f)*a;else if(a<0)for(let f=0;f<l;++f)u[f]=(i+f)/-a;else for(let f=0;f<l;++f)u[f]=(i+f)*a;return u}function M0(e,t,n){return t=+t,e=+e,n=+n,Vd(e,t,n)[2]}function EL(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?M0(t,e,n):M0(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function M_(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function _L(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}function mh(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Hv(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function ls(){}var Ma=.7,ts=1/Ma,Wl="\\s*([+-]?\\d+)\\s*",Xu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",_i="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",SL=/^#([0-9a-f]{3,8})$/,wL=new RegExp(`^rgb\\(${Wl},${Wl},${Wl}\\)$`),TL=new RegExp(`^rgb\\(${_i},${_i},${_i}\\)$`),AL=new RegExp(`^rgba\\(${Wl},${Wl},${Wl},${Xu}\\)$`),CL=new RegExp(`^rgba\\(${_i},${_i},${_i},${Xu}\\)$`),bL=new RegExp(`^hsl\\(${Xu},${_i},${_i}\\)$`),LL=new RegExp(`^hsla\\(${Xu},${_i},${_i},${Xu}\\)$`),x1={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};mh(ls,Yu,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:E1,formatHex:E1,formatHex8:RL,formatHsl:OL,formatRgb:_1,toString:_1});function E1(){return this.rgb().formatHex()}function RL(){return this.rgb().formatHex8()}function OL(){return F_(this).formatHsl()}function _1(){return this.rgb().formatRgb()}function Yu(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=SL.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?S1(t):n===3?new qn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Hf(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Hf(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=wL.exec(e))?new qn(t[1],t[2],t[3],1):(t=TL.exec(e))?new qn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=AL.exec(e))?Hf(t[1],t[2],t[3],t[4]):(t=CL.exec(e))?Hf(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=bL.exec(e))?A1(t[1],t[2]/100,t[3]/100,1):(t=LL.exec(e))?A1(t[1],t[2]/100,t[3]/100,t[4]):x1.hasOwnProperty(e)?S1(x1[e]):e==="transparent"?new qn(NaN,NaN,NaN,0):null}function S1(e){return new qn(e>>16&255,e>>8&255,e&255,1)}function Hf(e,t,n,r){return r<=0&&(e=t=n=NaN),new qn(e,t,n,r)}function D_(e){return e instanceof ls||(e=Yu(e)),e?(e=e.rgb(),new qn(e.r,e.g,e.b,e.opacity)):new qn}function Hd(e,t,n,r){return arguments.length===1?D_(e):new qn(e,t,n,r??1)}function qn(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}mh(qn,Hd,Hv(ls,{brighter(e){return e=e==null?ts:Math.pow(ts,e),new qn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Ma:Math.pow(Ma,e),new qn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new qn(ba(this.r),ba(this.g),ba(this.b),Wd(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:w1,formatHex:w1,formatHex8:PL,formatRgb:T1,toString:T1}));function w1(){return`#${Ta(this.r)}${Ta(this.g)}${Ta(this.b)}`}function PL(){return`#${Ta(this.r)}${Ta(this.g)}${Ta(this.b)}${Ta((isNaN(this.opacity)?1:this.opacity)*255)}`}function T1(){const e=Wd(this.opacity);return`${e===1?"rgb(":"rgba("}${ba(this.r)}, ${ba(this.g)}, ${ba(this.b)}${e===1?")":`, ${e})`}`}function Wd(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ba(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ta(e){return e=ba(e),(e<16?"0":"")+e.toString(16)}function A1(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Zr(e,t,n,r)}function F_(e){if(e instanceof Zr)return new Zr(e.h,e.s,e.l,e.opacity);if(e instanceof ls||(e=Yu(e)),!e)return new Zr;if(e instanceof Zr)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),a=NaN,l=o-i,u=(o+i)/2;return l?(t===o?a=(n-r)/l+(n<r)*6:n===o?a=(r-t)/l+2:a=(t-n)/l+4,l/=u<.5?o+i:2-o-i,a*=60):l=u>0&&u<1?0:a,new Zr(a,l,u,e.opacity)}function kL(e,t,n,r){return arguments.length===1?F_(e):new Zr(e,t,n,r??1)}function Zr(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}mh(Zr,kL,Hv(ls,{brighter(e){return e=e==null?ts:Math.pow(ts,e),new Zr(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Ma:Math.pow(Ma,e),new Zr(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new qn(Op(e>=240?e-240:e+120,i,r),Op(e,i,r),Op(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Zr(C1(this.h),Wf(this.s),Wf(this.l),Wd(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Wd(this.opacity);return`${e===1?"hsl(":"hsla("}${C1(this.h)}, ${Wf(this.s)*100}%, ${Wf(this.l)*100}%${e===1?")":`, ${e})`}`}}));function C1(e){return e=(e||0)%360,e<0?e+360:e}function Wf(e){return Math.max(0,Math.min(1,e||0))}function Op(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const NL=Math.PI/180,IL=180/Math.PI;var B_=-.14861,Wv=1.78277,Xv=-.29227,ph=-.90649,Qu=1.97294,b1=Qu*ph,L1=Qu*Wv,R1=Wv*Xv-ph*B_;function ML(e){if(e instanceof La)return new La(e.h,e.s,e.l,e.opacity);e instanceof qn||(e=D_(e));var t=e.r/255,n=e.g/255,r=e.b/255,i=(R1*r+b1*t-L1*n)/(R1+b1-L1),o=r-i,a=(Qu*(n-i)-Xv*o)/ph,l=Math.sqrt(a*a+o*o)/(Qu*i*(1-i)),u=l?Math.atan2(a,o)*IL-120:NaN;return new La(u<0?u+360:u,l,i,e.opacity)}function $o(e,t,n,r){return arguments.length===1?ML(e):new La(e,t,n,r??1)}function La(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}mh(La,$o,Hv(ls,{brighter(e){return e=e==null?ts:Math.pow(ts,e),new La(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Ma:Math.pow(Ma,e),new La(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=isNaN(this.h)?0:(this.h+120)*NL,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),i=Math.sin(e);return new qn(255*(t+n*(B_*r+Wv*i)),255*(t+n*(Xv*r+ph*i)),255*(t+n*(Qu*r)),this.opacity)}}));const vh=e=>()=>e;function j_(e,t){return function(n){return e+n*t}}function DL(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function FL(e,t){var n=t-e;return n?j_(e,n>180||n<-180?n-360*Math.round(n/360):n):vh(isNaN(e)?t:e)}function BL(e){return(e=+e)==1?Xl:function(t,n){return n-t?DL(t,n,e):vh(isNaN(t)?n:t)}}function Xl(e,t){var n=t-e;return n?j_(e,n):vh(isNaN(e)?t:e)}const O1=function e(t){var n=BL(t);function r(i,o){var a=n((i=Hd(i)).r,(o=Hd(o)).r),l=n(i.g,o.g),u=n(i.b,o.b),f=Xl(i.opacity,o.opacity);return function(m){return i.r=a(m),i.g=l(m),i.b=u(m),i.opacity=f(m),i+""}}return r.gamma=e,r}(1);function jL(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=e[i]*(1-o)+t[i]*o;return r}}function GL(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function $L(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),o=new Array(n),a;for(a=0;a<r;++a)i[a]=yh(e[a],t[a]);for(;a<n;++a)o[a]=t[a];return function(l){for(a=0;a<r;++a)o[a]=i[a](l);return o}}function zL(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Xd(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function UL(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=yh(e[i],t[i]):r[i]=t[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var D0=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Pp=new RegExp(D0.source,"g");function VL(e){return function(){return e}}function HL(e){return function(t){return e(t)+""}}function WL(e,t){var n=D0.lastIndex=Pp.lastIndex=0,r,i,o,a=-1,l=[],u=[];for(e=e+"",t=t+"";(r=D0.exec(e))&&(i=Pp.exec(t));)(o=i.index)>n&&(o=t.slice(n,o),l[a]?l[a]+=o:l[++a]=o),(r=r[0])===(i=i[0])?l[a]?l[a]+=i:l[++a]=i:(l[++a]=null,u.push({i:a,x:Xd(r,i)})),n=Pp.lastIndex;return n<t.length&&(o=t.slice(n),l[a]?l[a]+=o:l[++a]=o),l.length<2?u[0]?HL(u[0].x):VL(t):(t=u.length,function(f){for(var m=0,h;m<t;++m)l[(h=u[m]).i]=h.x(f);return l.join("")})}function yh(e,t){var n=typeof t,r;return t==null||n==="boolean"?vh(t):(n==="number"?Xd:n==="string"?(r=Yu(t))?(t=r,O1):WL:t instanceof Yu?O1:t instanceof Date?zL:GL(t)?jL:Array.isArray(t)?$L:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?UL:Xd)(e,t)}function G_(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function $_(e){return function t(n){n=+n;function r(i,o){var a=e((i=$o(i)).h,(o=$o(o)).h),l=Xl(i.s,o.s),u=Xl(i.l,o.l),f=Xl(i.opacity,o.opacity);return function(m){return i.h=a(m),i.s=l(m),i.l=u(Math.pow(m,n)),i.opacity=f(m),i+""}}return r.gamma=t,r}(1)}$_(FL);var z_=$_(Xl);function XL(e){return function(){return e}}function YL(e){return+e}var P1=[0,1];function Ro(e){return e}function F0(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:XL(isNaN(t)?NaN:.5)}function QL(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function KL(e,t,n){var r=e[0],i=e[1],o=t[0],a=t[1];return i<r?(r=F0(i,r),o=n(a,o)):(r=F0(r,i),o=n(o,a)),function(l){return o(r(l))}}function qL(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),a=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<r;)i[a]=F0(e[a],e[a+1]),o[a]=n(t[a],t[a+1]);return function(l){var u=sL(e,l,1,r)-1;return o[u](i[u](l))}}function U_(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function V_(){var e=P1,t=P1,n=yh,r,i,o,a=Ro,l,u,f;function m(){var p=Math.min(e.length,t.length);return a!==Ro&&(a=QL(e[0],e[p-1])),l=p>2?qL:KL,u=f=null,h}function h(p){return p==null||isNaN(p=+p)?o:(u||(u=l(e.map(r),t,n)))(r(a(p)))}return h.invert=function(p){return a(i((f||(f=l(t,e.map(r),Xd)))(p)))},h.domain=function(p){return arguments.length?(e=Array.from(p,YL),m()):e.slice()},h.range=function(p){return arguments.length?(t=Array.from(p),m()):t.slice()},h.rangeRound=function(p){return t=Array.from(p),n=G_,m()},h.clamp=function(p){return arguments.length?(a=p?!0:Ro,m()):a!==Ro},h.interpolate=function(p){return arguments.length?(n=p,m()):n},h.unknown=function(p){return arguments.length?(o=p,h):o},function(p,L){return r=p,i=L,m()}}function ZL(){return V_()(Ro,Ro)}function JL(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Yd(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function ns(e){return e=Yd(Math.abs(e)),e?e[1]:NaN}function eR(e,t){return function(n,r){for(var i=n.length,o=[],a=0,l=e[0],u=0;i>0&&l>0&&(u+l+1>r&&(l=Math.max(1,r-u)),o.push(n.substring(i-=l,i+l)),!((u+=l+1)>r));)l=e[a=(a+1)%e.length];return o.reverse().join(t)}}function tR(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var nR=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ku(e){if(!(t=nR.exec(e)))throw new Error("invalid format: "+e);var t;return new Yv({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Ku.prototype=Yv.prototype;function Yv(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Yv.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function rR(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var H_;function iR(e,t){var n=Yd(e,t);if(!n)return e+"";var r=n[0],i=n[1],o=i-(H_=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Yd(e,Math.max(0,t+o-1))[0]}function k1(e,t){var n=Yd(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const N1={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:JL,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>k1(e*100,t),r:k1,s:iR,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function I1(e){return e}var M1=Array.prototype.map,D1=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function oR(e){var t=e.grouping===void 0||e.thousands===void 0?I1:eR(M1.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?I1:tR(M1.call(e.numerals,String)),a=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"−":e.minus+"",u=e.nan===void 0?"NaN":e.nan+"";function f(h){h=Ku(h);var p=h.fill,L=h.align,k=h.sign,O=h.symbol,j=h.zero,x=h.width,T=h.comma,C=h.precision,V=h.trim,Y=h.type;Y==="n"?(T=!0,Y="g"):N1[Y]||(C===void 0&&(C=12),V=!0,Y="g"),(j||p==="0"&&L==="=")&&(j=!0,p="0",L="=");var le=O==="$"?n:O==="#"&&/[boxX]/.test(Y)?"0"+Y.toLowerCase():"",xe=O==="$"?r:/[%p]/.test(Y)?a:"",se=N1[Y],ct=/[defgprs%]/.test(Y);C=C===void 0?6:/[gprs]/.test(Y)?Math.max(1,Math.min(21,C)):Math.max(0,Math.min(20,C));function Qe(Ve){var Le=le,nt=xe,Xe,Gt,dt;if(Y==="c")nt=se(Ve)+nt,Ve="";else{Ve=+Ve;var vt=Ve<0||1/Ve<0;if(Ve=isNaN(Ve)?u:se(Math.abs(Ve),C),V&&(Ve=rR(Ve)),vt&&+Ve==0&&k!=="+"&&(vt=!1),Le=(vt?k==="("?k:l:k==="-"||k==="("?"":k)+Le,nt=(Y==="s"?D1[8+H_/3]:"")+nt+(vt&&k==="("?")":""),ct){for(Xe=-1,Gt=Ve.length;++Xe<Gt;)if(dt=Ve.charCodeAt(Xe),48>dt||dt>57){nt=(dt===46?i+Ve.slice(Xe+1):Ve.slice(Xe))+nt,Ve=Ve.slice(0,Xe);break}}}T&&!j&&(Ve=t(Ve,1/0));var Ee=Le.length+Ve.length+nt.length,Ge=Ee<x?new Array(x-Ee+1).join(p):"";switch(T&&j&&(Ve=t(Ge+Ve,Ge.length?x-nt.length:1/0),Ge=""),L){case"<":Ve=Le+Ve+nt+Ge;break;case"=":Ve=Le+Ge+Ve+nt;break;case"^":Ve=Ge.slice(0,Ee=Ge.length>>1)+Le+Ve+nt+Ge.slice(Ee);break;default:Ve=Ge+Le+Ve+nt;break}return o(Ve)}return Qe.toString=function(){return h+""},Qe}function m(h,p){var L=f((h=Ku(h),h.type="f",h)),k=Math.max(-8,Math.min(8,Math.floor(ns(p)/3)))*3,O=Math.pow(10,-k),j=D1[8+k/3];return function(x){return L(O*x)+j}}return{format:f,formatPrefix:m}}var Xf,Qv,W_;aR({thousands:",",grouping:[3],currency:["$",""]});function aR(e){return Xf=oR(e),Qv=Xf.format,W_=Xf.formatPrefix,Xf}function lR(e){return Math.max(0,-ns(Math.abs(e)))}function sR(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ns(t)/3)))*3-ns(Math.abs(e)))}function uR(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,ns(t)-ns(e))+1}function cR(e,t,n,r){var i=EL(e,t,n),o;switch(r=Ku(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(o=sR(i,a))&&(r.precision=o),W_(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=uR(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=lR(i))&&(r.precision=o-(r.type==="%")*2);break}}return Qv(r)}function X_(e){var t=e.domain;return e.ticks=function(n){var r=t();return I0(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return cR(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,o=r.length-1,a=r[i],l=r[o],u,f,m=10;for(l<a&&(f=a,a=l,l=f,f=i,i=o,o=f);m-- >0;){if(f=M0(a,l,n),f===u)return r[i]=a,r[o]=l,t(r);if(f>0)a=Math.floor(a/f)*f,l=Math.ceil(l/f)*f;else if(f<0)a=Math.ceil(a*f)/f,l=Math.floor(l*f)/f;else break;u=f}return e},e}function Da(){var e=ZL();return e.copy=function(){return U_(e,Da())},M_.apply(e,arguments),X_(e)}function fR(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],o=e[r],a;return o<i&&(a=n,n=r,r=a,a=i,i=o,o=a),e[n]=t.floor(i),e[r]=t.ceil(o),e}function F1(e){return Math.log(e)}function B1(e){return Math.exp(e)}function dR(e){return-Math.log(-e)}function hR(e){return-Math.exp(-e)}function mR(e){return isFinite(e)?+("1e"+e):e<0?0:e}function pR(e){return e===10?mR:e===Math.E?Math.exp:t=>Math.pow(e,t)}function vR(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function j1(e){return(t,n)=>-e(-t,n)}function yR(e){const t=e(F1,B1),n=t.domain;let r=10,i,o;function a(){return i=vR(r),o=pR(r),n()[0]<0?(i=j1(i),o=j1(o),e(dR,hR)):e(F1,B1),t}return t.base=function(l){return arguments.length?(r=+l,a()):r},t.domain=function(l){return arguments.length?(n(l),a()):n()},t.ticks=l=>{const u=n();let f=u[0],m=u[u.length-1];const h=m<f;h&&([f,m]=[m,f]);let p=i(f),L=i(m),k,O;const j=l==null?10:+l;let x=[];if(!(r%1)&&L-p<j){if(p=Math.floor(p),L=Math.ceil(L),f>0){for(;p<=L;++p)for(k=1;k<r;++k)if(O=p<0?k/o(-p):k*o(p),!(O<f)){if(O>m)break;x.push(O)}}else for(;p<=L;++p)for(k=r-1;k>=1;--k)if(O=p>0?k/o(-p):k*o(p),!(O<f)){if(O>m)break;x.push(O)}x.length*2<j&&(x=I0(f,m,j))}else x=I0(p,L,Math.min(L-p,j)).map(o);return h?x.reverse():x},t.tickFormat=(l,u)=>{if(l==null&&(l=10),u==null&&(u=r===10?"s":","),typeof u!="function"&&(!(r%1)&&(u=Ku(u)).precision==null&&(u.trim=!0),u=Qv(u)),l===1/0)return u;const f=Math.max(1,r*l/t.ticks().length);return m=>{let h=m/o(Math.round(i(m)));return h*r<r-.5&&(h*=r),h<=f?u(m):""}},t.nice=()=>n(fR(n(),{floor:l=>o(Math.floor(i(l))),ceil:l=>o(Math.ceil(i(l)))})),t}function Kv(){const e=yR(V_()).domain([1,10]);return e.copy=()=>U_(e,Kv()).base(e.base()),M_.apply(e,arguments),e}function gR(){var e=0,t=1,n,r,i,o,a=Ro,l=!1,u;function f(h){return h==null||isNaN(h=+h)?u:a(i===0?.5:(h=(o(h)-n)*i,l?Math.max(0,Math.min(1,h)):h))}f.domain=function(h){return arguments.length?([e,t]=h,n=o(e=+e),r=o(t=+t),i=n===r?0:1/(r-n),f):[e,t]},f.clamp=function(h){return arguments.length?(l=!!h,f):l},f.interpolator=function(h){return arguments.length?(a=h,f):a};function m(h){return function(p){var L,k;return arguments.length?([L,k]=p,a=h(L,k),f):[a(0),a(1)]}}return f.range=m(yh),f.rangeRound=m(G_),f.unknown=function(h){return arguments.length?(u=h,f):u},function(h){return o=h,n=h(e),r=h(t),i=n===r?0:1/(r-n),f}}function xR(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function Y_(){var e=X_(gR()(Ro));return e.copy=function(){return xR(e,Y_())},_L.apply(e,arguments)}z_($o(-100,.75,.35),$o(80,1.5,.8));var ER=z_($o(260,.75,.35),$o(80,1.5,.8));$o();const _R="_scatter_lrznx_2",SR={scatter:_R};Q_.propTypes={points:Je.array.isRequired,colors:Je.array,width:Je.number.isRequired,height:Je.number.isRequired,onScatter:Je.func,onView:Je.func,onSelect:Je.func,onHover:Je.func};const wR=e=>Kv().domain([100,1e6]).range([6,1]).clamp(!0)(e),TR=e=>Kv().domain([100,1e6]).range([.7,.2]).clamp(!0)(e);function Q_({points:e,colors:t,width:n,height:r,onScatter:i,onView:o,onSelect:a,onHover:l}){const u=re.useRef(),f=re.useRef([-1,1]),m=re.useRef([-1,1]),h=Da().domain(f.current),p=Da().domain(m.current);return re.useEffect(()=>{if(e&&e.length){const L=wR(e.length),k=TR(e.length);let O=[250/255,128/255,114/255,1],j=e;if(t!=null&&t.length){j=e.map((Y,le)=>[Y[0],Y[1],t[le]]);const C=pL(t,Y=>Y).map(Y=>Y[0]).sort((Y,le)=>Y-le),V=Y_(ER).domain(uL(C).reverse());O=C.map(Y=>Hd(V(Y)).hex())}const x={canvas:u.current,width:n,height:r,pointSize:L,opacity:k,pointColor:O,pointColorHover:[.1,.1,.1,.5],xScale:h,yScale:p};t!=null&&t.length&&(x.colorBy="valueA");const T=nL(x);return T.draw(j),o&&o(h,p),T.subscribe("view",({camera:C,view:V,xScale:Y,yScale:le})=>{f.current=Y.domain(),m.current=le.domain(),o&&o(f.current,m.current)}),T.subscribe("select",({points:C})=>{a&&a(C)}),T.subscribe("deselect",()=>{a&&a([])}),T.subscribe("pointOver",C=>{l&&l(C)}),T.subscribe("pointOut",()=>{l&&l(null)}),i&&i(T),()=>{T.destroy()}}},[e,t]),ye.jsx("canvas",{className:SR.scatter,ref:u})}const Yf=({points:e,fill:t,stroke:n,size:r,symbol:i,xDomain:o,yDomain:a,width:l,height:u})=>{const f=re.useRef();return re.useEffect(()=>{if(o&&a){const m=Da().domain(o).range([0,l]),h=Da().domain(a).range([u,0]),p=j=>j/(.1+o[1]-o[0]),k=f.current.getContext("2d");k.clearRect(0,0,l,u),k.fillStyle=t,k.strokeStyle=n,k.font=`${p(r)}px monospace`,k.globalAlpha=.75;let O=p(r);if(!e.length)return;e.map(j=>{t&&k.fillRect(m(j[0])-O/2,h(j[1])-O/2,O,O),n&&k.strokeRect(m(j[0])-O/2,h(j[1])-O/2,O,O),i&&k.fillText(i,m(j[0])-O/3.2,h(j[1])+O/3.2)})}},[e,t,n,r,o,a,l,u]),ye.jsx("canvas",{className:"annotation-plot",ref:f,width:l,height:u})},kp=({points:e,hulls:t,fill:n,stroke:r,size:i,symbol:o,xDomain:a,yDomain:l,width:u,height:f})=>{const m=re.useRef();return re.useEffect(()=>{if(a&&l){const h=Da().domain(a).range([0,u]),p=Da().domain(l).range([f,0]),L=j=>j/(.1+a[1]-a[0]),O=m.current.getContext("2d");if(O.clearRect(0,0,u,f),O.fillStyle=n,O.strokeStyle=r,O.font=`${L(i)}px monospace`,O.globalAlpha=.75,L(i),!t.length||!e.length)return;t.forEach(j=>{j&&(O.beginPath(),j.forEach((x,T)=>{T===0?O.moveTo(h(e[x][0]),p(e[x][1])):O.lineTo(h(e[x][0]),p(e[x][1]))}),O.lineTo(h(e[j[0]][0]),p(e[j[0]][1])),n&&O.fill(),r&&O.stroke())})}},[e,t,n,r,i,a,l,u,f]),ye.jsx("canvas",{className:"hull-plot",ref:m,width:u,height:f})},Di=500,Fi=500,mi="https://api.latentscope.com/api";function AR(){var Ct;const[e,t]=re.useState(null),{dataset:n,scope:r}=NA(),i=[{id:0,name:"Selected"},{id:1,name:"Search"},{id:2,name:"Clusters"},{id:3,name:"Tags"}],[o,a]=re.useState(2);re.useEffect(()=>{fetch(`${mi}/datasets/${n}/meta`).then(q=>q.json()).then(q=>{console.log("dataset",q),t(q)})},[n,t]);const[l,u]=re.useState(null);re.useEffect(()=>{fetch(`${mi}/datasets/${n}/scopes/${r}`).then(q=>q.json()).then(q=>{console.log("scope",q),u(q)})},[n,r,u]);const[f,m]=re.useState(null),[h,p]=re.useState(null),[L,k]=re.useState([]),[O,j]=re.useState([]),[x,T]=re.useState(f==null?void 0:f.id),[C,V]=re.useState([]);re.useEffect(()=>{fetch(`${mi}/datasets/${n}/embeddings`).then(q=>q.json()).then(q=>{V(q)})},[n,V]),re.useEffect(()=>{l&&(m(C.find(q=>q.id==l.embedding_id)),fetch(`${mi}/datasets/${n}/umaps/${l.umap_id}`).then(q=>q.json()).then(q=>{console.log("umap",q),p(q)}),fetch(`${mi}/datasets/${n}/clusters/${l.cluster_id}/labels/${l.cluster_labels_id||"default"}`).then(q=>q.json()).then(q=>{console.log("labels",q),j(q)}),fetch(`${mi}/datasets/${n}/clusters/${l.cluster_id}/indices`).then(q=>q.json()).then(q=>{console.log("cluster indices",q),k(q)}))},[n,l,C,p,j,m,T]);const Y=re.useMemo(()=>L.map(q=>q.cluster),[L]);re.useEffect(()=>{f&&T(f.id)},[f,T]);const le=q=>{console.log("selected",q),T(q)},[xe,se]=re.useState([]),[ct,Qe]=re.useState(!1);re.useEffect(()=>{h&&fetch(`${mi}/datasets/${e.id}/umaps/${h.id}/points`).then(q=>q.json()).then(q=>{console.log("umap points",q),se(q.map(Fe=>[Fe.x,Fe.y]))})},[e,h]);const Ve=re.useCallback((q,Fe,Kt=[])=>{fetch(`${mi}/indexed?dataset=${n}&indices=${JSON.stringify(q)}`).then(en=>en.json()).then(en=>{if(!e)return;let Rt=en.map((yn,wn)=>({index:q[wn],...yn}));Fe(Rt)})},[e,n]),[Le,nt]=re.useState({}),[Xe,Gt]=re.useState([-1,1]),[dt,vt]=re.useState([-1,1]),Ee=re.useCallback((q,Fe)=>{Gt(q),vt(Fe)},[Gt,vt]),[Ge,Ue]=re.useState([]),Ce=re.useCallback(q=>{console.log("handle selected",q),Ue(q),a(0)},[Ue,a]),[qe,Et]=re.useState(null),[Lt,Vt]=re.useState(null);re.useEffect(()=>{qe!=null?Ve([qe],q=>{Vt(q[0])}):Vt(null)},[qe,Vt,Ve]);const[Bt,Wt]=re.useState(null);re.useEffect(()=>{if(Lt&&L.length&&O.length){const q=Lt.index,Fe=L[q],Kt=O[Fe==null?void 0:Fe.cluster];Wt({cluster:Fe.cluster,...Kt})}else Wt(null)},[Lt,L,O,Wt]);const[Pt,ln]=re.useState([]);re.useEffect(()=>{qe!=null?ln([xe[qe]]):ln([])},[qe,xe]);const[Qt,cn]=re.useState({});re.useEffect(()=>{fetch(`${mi}/tags?dataset=${n}`).then(q=>q.json()).then(q=>cn(q))},[n]);const Ht=re.useMemo(()=>{const q=[];for(const Fe in Qt)q.push(Fe);return q},[Qt]),[Xt,yt]=re.useState(Ht[0]),[_t,bt]=re.useState([]);re.useEffect(()=>{if(Qt[Xt]){const q=Qt[Xt].map(Fe=>xe[Fe]);bt(q)}else bt([]),Le&&Le.config&&(Le==null||Le.zoomToOrigin({transition:!0,transitionDuration:1500}))},[Qt,Xt,xe,Le,bt]);const[mt,At]=re.useState([]),[zt,sn]=re.useState([]),Bn=re.useCallback(q=>{fetch(`${mi}/search/nn?dataset=${n}&query=${q}&embedding_id=${x}`).then(Fe=>Fe.json()).then(Fe=>{sn(Fe.distances),At(Fe.indices),Le==null||Le.zoomToPoints(Fe.indices,{transition:!0,padding:.2,transitionDuration:1500})})},[x,n,Le,sn,At]),[Ur,y]=re.useState([]);re.useEffect(()=>{const q=mt.map(Fe=>xe[Fe]);y(q)},[mt,xe]);const[et,kt]=re.useState(null),[Me,Yt]=re.useState([]);re.useEffect(()=>{if(et){const q=et.indices.map(Fe=>xe[Fe]);Yt(q)}else Yt([]),Le&&Le.config&&(Le==null||Le.zoomToOrigin({transition:!0,transitionDuration:1500}))},[et,xe,Le,Yt]);const gt=re.useCallback(q=>{Le==null||Le.zoomToPoints([q],{transition:!0,padding:.9,transitionDuration:1500})},[Le]),Ne=re.useCallback(q=>{Et(q)},[Et]);return e?ye.jsxs("div",{className:"dataset--explore",children:[ye.jsxs("div",{className:"column",children:[ye.jsxs("div",{className:"first-row summary",children:[ye.jsxs("h3",{children:[" ",n,"  [",l==null?void 0:l.id,"]",null]}),e==null?void 0:e.length," rows",ye.jsx("br",{}),"Embedding model:",ye.jsx("br",{})," ",f==null?void 0:f.model_id,ye.jsx("br",{})]}),ye.jsxs("div",{className:"second-row",children:[ye.jsx("div",{className:"umap-container",children:ye.jsxs("div",{className:"scatters",style:{width:Di,height:Fi},children:[ye.jsx(Q_,{points:xe,colors:Y,loading:ct,width:Di,height:Fi,onScatter:nt,onView:Ee,onSelect:Ce,onHover:Ne}),Bt&&Bt.hull?ye.jsx(kp,{points:xe,hulls:[Bt==null?void 0:Bt.hull],fill:"lightgray",xDomain:Xe,yDomain:dt,width:Di,height:Fi}):null,et&&et.hull?ye.jsx(kp,{points:xe,hulls:[et==null?void 0:et.hull],fill:"darkgray",xDomain:Xe,yDomain:dt,width:Di,height:Fi}):null,ye.jsx(kp,{points:xe,hulls:O.map(q=>q.hull),stroke:"lightgray",xDomain:Xe,yDomain:dt,width:Di,height:Fi}),ye.jsx(Yf,{points:Ur,fill:"black",size:"8",xDomain:Xe,yDomain:dt,width:Di,height:Fi}),ye.jsx(Yf,{points:Me,fill:"darkred",size:"8",xDomain:Xe,yDomain:dt,width:Di,height:Fi}),ye.jsx(Yf,{points:_t,symbol:Xt,size:"20",xDomain:Xe,yDomain:dt,width:Di,height:Fi}),ye.jsx(Yf,{points:Pt,stroke:"black",fill:"orange",size:"16",xDomain:Xe,yDomain:dt,width:Di,height:Fi})]})}),ye.jsxs("div",{className:"hovered-point",children:[Lt&&Object.keys(Lt).map(q=>ye.jsxs("span",{children:[ye.jsxs("span",{className:"key",children:[q,":"]}),ye.jsx("span",{className:"value",children:Lt[q]})]},q)),Bt?ye.jsxs("span",{children:[ye.jsx("span",{className:"key",children:"Cluster:"}),ye.jsx("span",{className:"value",children:Bt.label})]}):null]})]})]}),ye.jsx("div",{className:"column",children:ye.jsxs("div",{className:"second-row tab-tables",children:[ye.jsx("div",{className:"tab-header",children:i.map(q=>ye.jsx("button",{onClick:()=>a(q.id),className:q.id===o?"tab-active":"tab-inactive",children:q.name},q.id))}),o===0?ye.jsxs("div",{className:"tab-content tab-selected",children:[ye.jsxs("span",{children:["Selected: ",Ge==null?void 0:Ge.length,(Ge==null?void 0:Ge.length)>0?ye.jsx("button",{className:"deselect",onClick:()=>{Ue([]),Le==null||Le.select([]),Le==null||Le.zoomToOrigin({transition:!0,transitionDuration:1500})},children:"X"}):null]}),(Ge==null?void 0:Ge.length)>0?ye.jsx(xu,{indices:Ge,clusterIndices:L,clusterLabels:O,tagset:Qt,dataset:e,maxRows:150,onTagset:q=>cn(q),onHover:Ne,onClick:gt}):null]}):null,o===1?ye.jsxs("div",{className:"tab-content tab-neighbors",children:[ye.jsx("div",{className:"search-box",children:ye.jsxs("form",{onSubmit:q=>{q.preventDefault(),Bn(q.target.elements.searchBox.value),a(1)},children:[ye.jsx("input",{type:"text",id:"searchBox"}),ye.jsx("button",{type:"submit",children:"Similarity Search"}),ye.jsx("br",{}),ye.jsx("label",{htmlFor:"embeddingModel"}),ye.jsx("select",{id:"embeddingModel",onChange:q=>le(q.target.value),value:x,children:C.map((q,Fe)=>ye.jsxs("option",{value:q.id,children:[q.id," - ",q.model_id]},Fe))})]})}),ye.jsxs("span",{children:[mt.length?ye.jsxs("span",{children:["Nearest Neighbors: ",mt.length," (capped at 150) "]}):null,mt.length>0?ye.jsx("button",{className:"deselect",onClick:()=>{At([]),document.getElementById("searchBox").value=""},children:"X"}):null]}),mt.length>0?ye.jsx(xu,{indices:mt,distances:zt,clusterIndices:L,clusterLabels:O,tagset:Qt,dataset:e,onTagset:q=>cn(q),onHover:Ne,onClick:gt}):null]}):null,o===2?ye.jsxs("div",{className:"tab-content tab-cluster",children:[ye.jsx("div",{className:"clusters-select",children:ye.jsxs("select",{onChange:q=>{const Fe=O.find(Kt=>Kt.label===q.target.value);Fe&&kt(Fe)},value:et==null?void 0:et.label,children:[ye.jsx("option",{value:"",children:"Select a cluster"}),O.map((q,Fe)=>ye.jsx("option",{value:q.label,children:q.label},Fe))]})}),ye.jsx("div",{className:"cluster-selected",children:ye.jsxs("span",{children:[et==null?void 0:et.indices.length," ",et!=null&&et.indices.length?"Rows":"",et?ye.jsx("button",{className:"deselect",onClick:()=>{kt(null)},children:"X"}):null]})}),ye.jsx("div",{className:"cluster-table",children:et!=null&&et.indices?ye.jsx(xu,{indices:et==null?void 0:et.indices,clusterIndices:L,clusterLabels:O,dataset:e,tagset:Qt,onTagset:q=>cn(q),onHover:Ne,onClick:gt}):null})]}):null,o===3?ye.jsxs("div",{className:"tab-content tab-tag",children:[ye.jsxs("div",{className:"tags-box",children:[ye.jsxs("div",{className:"tags-select",children:["Tags: ",Ht.map(q=>ye.jsxs("button",{className:"dataset--tag-link",onClick:()=>{yt(q),a(3),Le==null||Le.zoomToPoints(Qt[q],{transition:!0,padding:.2,transitionDuration:1500})},children:[q,"(",Qt[q].length,")"]},q))]}),null]}),ye.jsxs("span",{children:[Xt," ",(Ct=Qt[Xt])==null?void 0:Ct.length,Xt?ye.jsx("button",{className:"deselect",onClick:()=>{yt(null)},children:"X"}):null]}),Qt[Xt]?ye.jsx(xu,{indices:Qt[Xt],clusterIndices:L,clusterLabels:O,tagset:Qt,dataset:e,onTagset:q=>cn(q),onHover:Ne,onClick:gt}):null]}):null]})})]}):ye.jsx("div",{children:"Loading..."})}const CR={"embeddings-form":"_embeddings-form_72l9v_2","embeddings-list":"_embeddings-list_72l9v_12"};console.log("EMBEDDING STYLES",CR);Je.shape({id:Je.string.isRequired}).isRequired,Je.string.isRequired,Je.object,Je.array,Je.array,Je.func.isRequired,Je.func.isRequired;Je.shape({id:Je.string.isRequired}).isRequired,Je.object,Je.object,Je.array.isRequired,Je.func.isRequired,Je.func.isRequired;Je.shape({id:Je.string.isRequired}).isRequired,Je.object,Je.object,Je.array,Je.func.isRequired,Je.func.isRequired;Je.shape({id:Je.string.isRequired}).isRequired,Je.object,Je.string,Je.func.isRequired,Je.func,Je.func;Je.shape({id:Je.string.isRequired}).isRequired,Je.object,Je.object,Je.object,Je.object,Je.string,Je.func.isRequired,Je.func.isRequired;const bR=()=>ye.jsx("nav",{children:ye.jsx("ul",{children:ye.jsx("li",{children:ye.jsx(f_,{to:"/",children:"Latent Scope"})})})});var LR={VITE_API_URL:"https://api.latentscope.com/api",BASE_URL:"/latent-scope/",MODE:"read_only",DEV:!1,PROD:!0,SSR:!1};const K_=LR;console.log("ENV",K_);function RR(){return ye.jsxs(JA,{basename:K_.BASE_NAME,children:[ye.jsx(bR,{}),ye.jsx("div",{className:"page",children:ye.jsxs(XA,{children:[ye.jsx(b0,{path:"/",element:ye.jsx(s2,{})}),null,null,null,null,ye.jsx(b0,{path:"/datasets/:dataset/explore/:scope",element:ye.jsx(AR,{})})]})})]})}Np.createRoot(document.getElementById("root")).render(ye.jsx(Q1.StrictMode,{children:ye.jsx(RR,{})}));
