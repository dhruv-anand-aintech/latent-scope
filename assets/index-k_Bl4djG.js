function PS(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var kS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function B0(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var G1={exports:{}},Qd={},z1={exports:{}},Gt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qu=Symbol.for("react.element"),NS=Symbol.for("react.portal"),IS=Symbol.for("react.fragment"),MS=Symbol.for("react.strict_mode"),DS=Symbol.for("react.profiler"),FS=Symbol.for("react.provider"),BS=Symbol.for("react.context"),jS=Symbol.for("react.forward_ref"),$S=Symbol.for("react.suspense"),GS=Symbol.for("react.memo"),zS=Symbol.for("react.lazy"),Fy=Symbol.iterator;function US(e){return e===null||typeof e!="object"?null:(e=Fy&&e[Fy]||e["@@iterator"],typeof e=="function"?e:null)}var U1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},V1=Object.assign,H1={};function rs(e,t,n){this.props=e,this.context=t,this.refs=H1,this.updater=n||U1}rs.prototype.isReactComponent={};rs.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};rs.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function W1(){}W1.prototype=rs.prototype;function j0(e,t,n){this.props=e,this.context=t,this.refs=H1,this.updater=n||U1}var $0=j0.prototype=new W1;$0.constructor=j0;V1($0,rs.prototype);$0.isPureReactComponent=!0;var By=Array.isArray,X1=Object.prototype.hasOwnProperty,G0={current:null},Y1={key:!0,ref:!0,__self:!0,__source:!0};function Q1(e,t,n){var r,i={},o=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(o=""+t.key),t)X1.call(t,r)&&!Y1.hasOwnProperty(r)&&(i[r]=t[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var u=Array(l),f=0;f<l;f++)u[f]=arguments[f+2];i.children=u}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:qu,type:e,key:o,ref:a,props:i,_owner:G0.current}}function VS(e,t){return{$$typeof:qu,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function z0(e){return typeof e=="object"&&e!==null&&e.$$typeof===qu}function HS(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var jy=/\/+/g;function Bm(e,t){return typeof e=="object"&&e!==null&&e.key!=null?HS(""+e.key):t.toString(36)}function Qf(e,t,n,r,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case qu:case NS:a=!0}}if(a)return a=e,i=i(a),e=r===""?"."+Bm(a,0):r,By(i)?(n="",e!=null&&(n=e.replace(jy,"$&/")+"/"),Qf(i,t,n,"",function(f){return f})):i!=null&&(z0(i)&&(i=VS(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(jy,"$&/")+"/")+e)),t.push(i)),1;if(a=0,r=r===""?".":r+":",By(e))for(var l=0;l<e.length;l++){o=e[l];var u=r+Bm(o,l);a+=Qf(o,t,n,u,i)}else if(u=US(e),typeof u=="function")for(e=u.call(e),l=0;!(o=e.next()).done;)o=o.value,u=r+Bm(o,l++),a+=Qf(o,t,n,u,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function Tf(e,t,n){if(e==null)return e;var r=[],i=0;return Qf(e,r,"","",function(o){return t.call(n,o,i++)}),r}function WS(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ir={current:null},Kf={transition:null},XS={ReactCurrentDispatcher:ir,ReactCurrentBatchConfig:Kf,ReactCurrentOwner:G0};Gt.Children={map:Tf,forEach:function(e,t,n){Tf(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Tf(e,function(){t++}),t},toArray:function(e){return Tf(e,function(t){return t})||[]},only:function(e){if(!z0(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Gt.Component=rs;Gt.Fragment=IS;Gt.Profiler=DS;Gt.PureComponent=j0;Gt.StrictMode=MS;Gt.Suspense=$S;Gt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=XS;Gt.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=V1({},e.props),i=e.key,o=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,a=G0.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)X1.call(t,u)&&!Y1.hasOwnProperty(u)&&(r[u]=t[u]===void 0&&l!==void 0?l[u]:t[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){l=Array(u);for(var f=0;f<u;f++)l[f]=arguments[f+2];r.children=l}return{$$typeof:qu,type:e.type,key:i,ref:o,props:r,_owner:a}};Gt.createContext=function(e){return e={$$typeof:BS,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:FS,_context:e},e.Consumer=e};Gt.createElement=Q1;Gt.createFactory=function(e){var t=Q1.bind(null,e);return t.type=e,t};Gt.createRef=function(){return{current:null}};Gt.forwardRef=function(e){return{$$typeof:jS,render:e}};Gt.isValidElement=z0;Gt.lazy=function(e){return{$$typeof:zS,_payload:{_status:-1,_result:e},_init:WS}};Gt.memo=function(e,t){return{$$typeof:GS,type:e,compare:t===void 0?null:t}};Gt.startTransition=function(e){var t=Kf.transition;Kf.transition={};try{e()}finally{Kf.transition=t}};Gt.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Gt.useCallback=function(e,t){return ir.current.useCallback(e,t)};Gt.useContext=function(e){return ir.current.useContext(e)};Gt.useDebugValue=function(){};Gt.useDeferredValue=function(e){return ir.current.useDeferredValue(e)};Gt.useEffect=function(e,t){return ir.current.useEffect(e,t)};Gt.useId=function(){return ir.current.useId()};Gt.useImperativeHandle=function(e,t,n){return ir.current.useImperativeHandle(e,t,n)};Gt.useInsertionEffect=function(e,t){return ir.current.useInsertionEffect(e,t)};Gt.useLayoutEffect=function(e,t){return ir.current.useLayoutEffect(e,t)};Gt.useMemo=function(e,t){return ir.current.useMemo(e,t)};Gt.useReducer=function(e,t,n){return ir.current.useReducer(e,t,n)};Gt.useRef=function(e){return ir.current.useRef(e)};Gt.useState=function(e){return ir.current.useState(e)};Gt.useSyncExternalStore=function(e,t,n){return ir.current.useSyncExternalStore(e,t,n)};Gt.useTransition=function(){return ir.current.useTransition()};Gt.version="18.2.0";z1.exports=Gt;var re=z1.exports;const K1=B0(re),YS=PS({__proto__:null,default:K1},[re]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QS=re,KS=Symbol.for("react.element"),qS=Symbol.for("react.fragment"),ZS=Object.prototype.hasOwnProperty,JS=QS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ew={key:!0,ref:!0,__self:!0,__source:!0};function q1(e,t,n){var r,i={},o=null,a=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)ZS.call(t,r)&&!ew.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:KS,type:e,key:o,ref:a,props:i,_owner:JS.current}}Qd.Fragment=qS;Qd.jsx=q1;Qd.jsxs=q1;G1.exports=Qd;var de=G1.exports,Np={},Z1={exports:{}},Or={},J1={exports:{}},ex={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(xe,Ge){var ze=xe.length;xe.push(Ge);e:for(;0<ze;){var Ce=ze-1>>>1,Qe=xe[Ce];if(0<i(Qe,Ge))xe[Ce]=Ge,xe[ze]=Qe,ze=Ce;else break e}}function n(xe){return xe.length===0?null:xe[0]}function r(xe){if(xe.length===0)return null;var Ge=xe[0],ze=xe.pop();if(ze!==Ge){xe[0]=ze;e:for(var Ce=0,Qe=xe.length,xt=Qe>>>1;Ce<xt;){var zt=2*(Ce+1)-1,Dt=xe[zt],Qt=zt+1,Ht=xe[Qt];if(0>i(Dt,ze))Qt<Qe&&0>i(Ht,Dt)?(xe[Ce]=Ht,xe[Qt]=ze,Ce=Qt):(xe[Ce]=Dt,xe[zt]=ze,Ce=zt);else if(Qt<Qe&&0>i(Ht,ze))xe[Ce]=Ht,xe[Qt]=ze,Ce=Qt;else break e}}return Ge}function i(xe,Ge){var ze=xe.sortIndex-Ge.sortIndex;return ze!==0?ze:xe.id-Ge.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var u=[],f=[],h=1,m=null,p=3,L=!1,O=!1,k=!1,j=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(xe){for(var Ge=n(f);Ge!==null;){if(Ge.callback===null)r(f);else if(Ge.startTime<=xe)r(f),Ge.sortIndex=Ge.expirationTime,t(u,Ge);else break;Ge=n(f)}}function U(xe){if(k=!1,C(xe),!O)if(n(u)!==null)O=!0,wt(X);else{var Ge=n(f);Ge!==null&&dt(U,Ge.startTime-xe)}}function X(xe,Ge){O=!1,k&&(k=!1,x(se),se=-1),L=!0;var ze=p;try{for(C(Ge),m=n(u);m!==null&&(!(m.expirationTime>Ge)||xe&&!Ue());){var Ce=m.callback;if(typeof Ce=="function"){m.callback=null,p=m.priorityLevel;var Qe=Ce(m.expirationTime<=Ge);Ge=e.unstable_now(),typeof Qe=="function"?m.callback=Qe:m===n(u)&&r(u),C(Ge)}else r(u);m=n(u)}if(m!==null)var xt=!0;else{var zt=n(f);zt!==null&&dt(U,zt.startTime-Ge),xt=!1}return xt}finally{m=null,p=ze,L=!1}}var ae=!1,Ae=null,se=-1,ft=5,Be=-1;function Ue(){return!(e.unstable_now()-Be<ft)}function et(){if(Ae!==null){var xe=e.unstable_now();Be=xe;var Ge=!0;try{Ge=Ae(!0,xe)}finally{Ge?tt():(ae=!1,Ae=null)}}else ae=!1}var tt;if(typeof w=="function")tt=function(){w(et)};else if(typeof MessageChannel<"u"){var Ye=new MessageChannel,rt=Ye.port2;Ye.port1.onmessage=et,tt=function(){rt.postMessage(null)}}else tt=function(){j(et,0)};function wt(xe){Ae=xe,ae||(ae=!0,tt())}function dt(xe,Ge){se=j(function(){xe(e.unstable_now())},Ge)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(xe){xe.callback=null},e.unstable_continueExecution=function(){O||L||(O=!0,wt(X))},e.unstable_forceFrameRate=function(xe){0>xe||125<xe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ft=0<xe?Math.floor(1e3/xe):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(xe){switch(p){case 1:case 2:case 3:var Ge=3;break;default:Ge=p}var ze=p;p=Ge;try{return xe()}finally{p=ze}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(xe,Ge){switch(xe){case 1:case 2:case 3:case 4:case 5:break;default:xe=3}var ze=p;p=xe;try{return Ge()}finally{p=ze}},e.unstable_scheduleCallback=function(xe,Ge,ze){var Ce=e.unstable_now();switch(typeof ze=="object"&&ze!==null?(ze=ze.delay,ze=typeof ze=="number"&&0<ze?Ce+ze:Ce):ze=Ce,xe){case 1:var Qe=-1;break;case 2:Qe=250;break;case 5:Qe=1073741823;break;case 4:Qe=1e4;break;default:Qe=5e3}return Qe=ze+Qe,xe={id:h++,callback:Ge,priorityLevel:xe,startTime:ze,expirationTime:Qe,sortIndex:-1},ze>Ce?(xe.sortIndex=ze,t(f,xe),n(u)===null&&xe===n(f)&&(k?(x(se),se=-1):k=!0,dt(U,ze-Ce))):(xe.sortIndex=Qe,t(u,xe),O||L||(O=!0,wt(X))),xe},e.unstable_shouldYield=Ue,e.unstable_wrapCallback=function(xe){var Ge=p;return function(){var ze=p;p=Ge;try{return xe.apply(this,arguments)}finally{p=ze}}}})(ex);J1.exports=ex;var tw=J1.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tx=re,Lr=tw;function Oe(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var nx=new Set,Lu={};function Fa(e,t){Yl(e,t),Yl(e+"Capture",t)}function Yl(e,t){for(Lu[e]=t,e=0;e<t.length;e++)nx.add(t[e])}var Ui=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ip=Object.prototype.hasOwnProperty,nw=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,$y={},Gy={};function rw(e){return Ip.call(Gy,e)?!0:Ip.call($y,e)?!1:nw.test(e)?Gy[e]=!0:($y[e]=!0,!1)}function iw(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function ow(e,t,n,r){if(t===null||typeof t>"u"||iw(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function or(e,t,n,r,i,o,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var Xn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Xn[e]=new or(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Xn[t]=new or(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Xn[e]=new or(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Xn[e]=new or(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Xn[e]=new or(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Xn[e]=new or(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Xn[e]=new or(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Xn[e]=new or(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Xn[e]=new or(e,5,!1,e.toLowerCase(),null,!1,!1)});var U0=/[\-:]([a-z])/g;function V0(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(U0,V0);Xn[t]=new or(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(U0,V0);Xn[t]=new or(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(U0,V0);Xn[t]=new or(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Xn[e]=new or(e,1,!1,e.toLowerCase(),null,!1,!1)});Xn.xlinkHref=new or("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Xn[e]=new or(e,1,!1,e.toLowerCase(),null,!0,!0)});function H0(e,t,n,r){var i=Xn.hasOwnProperty(t)?Xn[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(ow(t,n,i,r)&&(n=null),r||i===null?rw(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Xi=tx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Af=Symbol.for("react.element"),bl=Symbol.for("react.portal"),Rl=Symbol.for("react.fragment"),W0=Symbol.for("react.strict_mode"),Mp=Symbol.for("react.profiler"),rx=Symbol.for("react.provider"),ix=Symbol.for("react.context"),X0=Symbol.for("react.forward_ref"),Dp=Symbol.for("react.suspense"),Fp=Symbol.for("react.suspense_list"),Y0=Symbol.for("react.memo"),So=Symbol.for("react.lazy"),ox=Symbol.for("react.offscreen"),zy=Symbol.iterator;function iu(e){return e===null||typeof e!="object"?null:(e=zy&&e[zy]||e["@@iterator"],typeof e=="function"?e:null)}var vn=Object.assign,jm;function pu(e){if(jm===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);jm=t&&t[1]||""}return`
`+jm+e}var $m=!1;function Gm(e,t){if(!e||$m)return"";$m=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(f){var r=f}Reflect.construct(e,[],t)}else{try{t.call()}catch(f){r=f}e.call(t.prototype)}else{try{throw Error()}catch(f){r=f}e()}}catch(f){if(f&&r&&typeof f.stack=="string"){for(var i=f.stack.split(`
`),o=r.stack.split(`
`),a=i.length-1,l=o.length-1;1<=a&&0<=l&&i[a]!==o[l];)l--;for(;1<=a&&0<=l;a--,l--)if(i[a]!==o[l]){if(a!==1||l!==1)do if(a--,l--,0>l||i[a]!==o[l]){var u=`
`+i[a].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=a&&0<=l);break}}}finally{$m=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?pu(e):""}function aw(e){switch(e.tag){case 5:return pu(e.type);case 16:return pu("Lazy");case 13:return pu("Suspense");case 19:return pu("SuspenseList");case 0:case 2:case 15:return e=Gm(e.type,!1),e;case 11:return e=Gm(e.type.render,!1),e;case 1:return e=Gm(e.type,!0),e;default:return""}}function Bp(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Rl:return"Fragment";case bl:return"Portal";case Mp:return"Profiler";case W0:return"StrictMode";case Dp:return"Suspense";case Fp:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ix:return(e.displayName||"Context")+".Consumer";case rx:return(e._context.displayName||"Context")+".Provider";case X0:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Y0:return t=e.displayName||null,t!==null?t:Bp(e.type)||"Memo";case So:t=e._payload,e=e._init;try{return Bp(e(t))}catch{}}return null}function lw(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Bp(t);case 8:return t===W0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function jo(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ax(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function sw(e){var t=ax(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,o.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Cf(e){e._valueTracker||(e._valueTracker=sw(e))}function lx(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ax(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function cd(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function jp(e,t){var n=t.checked;return vn({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Uy(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=jo(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function sx(e,t){t=t.checked,t!=null&&H0(e,"checked",t,!1)}function $p(e,t){sx(e,t);var n=jo(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Gp(e,t.type,n):t.hasOwnProperty("defaultValue")&&Gp(e,t.type,jo(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Vy(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Gp(e,t,n){(t!=="number"||cd(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var vu=Array.isArray;function $l(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+jo(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function zp(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Oe(91));return vn({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Hy(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(Oe(92));if(vu(n)){if(1<n.length)throw Error(Oe(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:jo(n)}}function ux(e,t){var n=jo(t.value),r=jo(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Wy(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function cx(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Up(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?cx(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var bf,fx=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(bf=bf||document.createElement("div"),bf.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=bf.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ou(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Eu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},uw=["Webkit","ms","Moz","O"];Object.keys(Eu).forEach(function(e){uw.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Eu[t]=Eu[e]})});function dx(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Eu.hasOwnProperty(e)&&Eu[e]?(""+t).trim():t+"px"}function hx(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=dx(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var cw=vn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Vp(e,t){if(t){if(cw[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Oe(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Oe(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Oe(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Oe(62))}}function Hp(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Wp=null;function Q0(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Xp=null,Gl=null,zl=null;function Xy(e){if(e=ec(e)){if(typeof Xp!="function")throw Error(Oe(280));var t=e.stateNode;t&&(t=eh(t),Xp(e.stateNode,e.type,t))}}function mx(e){Gl?zl?zl.push(e):zl=[e]:Gl=e}function px(){if(Gl){var e=Gl,t=zl;if(zl=Gl=null,Xy(e),t)for(e=0;e<t.length;e++)Xy(t[e])}}function vx(e,t){return e(t)}function yx(){}var zm=!1;function gx(e,t,n){if(zm)return e(t,n);zm=!0;try{return vx(e,t,n)}finally{zm=!1,(Gl!==null||zl!==null)&&(yx(),px())}}function Pu(e,t){var n=e.stateNode;if(n===null)return null;var r=eh(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Oe(231,t,typeof n));return n}var Yp=!1;if(Ui)try{var ou={};Object.defineProperty(ou,"passive",{get:function(){Yp=!0}}),window.addEventListener("test",ou,ou),window.removeEventListener("test",ou,ou)}catch{Yp=!1}function fw(e,t,n,r,i,o,a,l,u){var f=Array.prototype.slice.call(arguments,3);try{t.apply(n,f)}catch(h){this.onError(h)}}var _u=!1,fd=null,dd=!1,Qp=null,dw={onError:function(e){_u=!0,fd=e}};function hw(e,t,n,r,i,o,a,l,u){_u=!1,fd=null,fw.apply(dw,arguments)}function mw(e,t,n,r,i,o,a,l,u){if(hw.apply(this,arguments),_u){if(_u){var f=fd;_u=!1,fd=null}else throw Error(Oe(198));dd||(dd=!0,Qp=f)}}function Ba(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function xx(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Yy(e){if(Ba(e)!==e)throw Error(Oe(188))}function pw(e){var t=e.alternate;if(!t){if(t=Ba(e),t===null)throw Error(Oe(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Yy(i),e;if(o===r)return Yy(i),t;o=o.sibling}throw Error(Oe(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=o;break}if(l===r){a=!0,r=i,n=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===n){a=!0,n=o,r=i;break}if(l===r){a=!0,r=o,n=i;break}l=l.sibling}if(!a)throw Error(Oe(189))}}if(n.alternate!==r)throw Error(Oe(190))}if(n.tag!==3)throw Error(Oe(188));return n.stateNode.current===n?e:t}function Ex(e){return e=pw(e),e!==null?_x(e):null}function _x(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=_x(e);if(t!==null)return t;e=e.sibling}return null}var Sx=Lr.unstable_scheduleCallback,Qy=Lr.unstable_cancelCallback,vw=Lr.unstable_shouldYield,yw=Lr.unstable_requestPaint,bn=Lr.unstable_now,gw=Lr.unstable_getCurrentPriorityLevel,K0=Lr.unstable_ImmediatePriority,wx=Lr.unstable_UserBlockingPriority,hd=Lr.unstable_NormalPriority,xw=Lr.unstable_LowPriority,Tx=Lr.unstable_IdlePriority,Kd=null,Ei=null;function Ew(e){if(Ei&&typeof Ei.onCommitFiberRoot=="function")try{Ei.onCommitFiberRoot(Kd,e,void 0,(e.current.flags&128)===128)}catch{}}var ti=Math.clz32?Math.clz32:ww,_w=Math.log,Sw=Math.LN2;function ww(e){return e>>>=0,e===0?32:31-(_w(e)/Sw|0)|0}var Rf=64,Lf=4194304;function yu(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function md(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,a=n&268435455;if(a!==0){var l=a&~i;l!==0?r=yu(l):(o&=a,o!==0&&(r=yu(o)))}else a=n&~i,a!==0?r=yu(a):o!==0&&(r=yu(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-ti(t),i=1<<n,r|=e[n],t&=~i;return r}function Tw(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Aw(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-ti(o),l=1<<a,u=i[a];u===-1?(!(l&n)||l&r)&&(i[a]=Tw(l,t)):u<=t&&(e.expiredLanes|=l),o&=~l}}function Kp(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Ax(){var e=Rf;return Rf<<=1,!(Rf&4194240)&&(Rf=64),e}function Um(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Zu(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ti(t),e[t]=n}function Cw(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ti(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}function q0(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ti(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Zt=0;function Cx(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var bx,Z0,Rx,Lx,Ox,qp=!1,Of=[],Oo=null,Po=null,ko=null,ku=new Map,Nu=new Map,To=[],bw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ky(e,t){switch(e){case"focusin":case"focusout":Oo=null;break;case"dragenter":case"dragleave":Po=null;break;case"mouseover":case"mouseout":ko=null;break;case"pointerover":case"pointerout":ku.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nu.delete(t.pointerId)}}function au(e,t,n,r,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},t!==null&&(t=ec(t),t!==null&&Z0(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Rw(e,t,n,r,i){switch(t){case"focusin":return Oo=au(Oo,e,t,n,r,i),!0;case"dragenter":return Po=au(Po,e,t,n,r,i),!0;case"mouseover":return ko=au(ko,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return ku.set(o,au(ku.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Nu.set(o,au(Nu.get(o)||null,e,t,n,r,i)),!0}return!1}function Px(e){var t=_a(e.target);if(t!==null){var n=Ba(t);if(n!==null){if(t=n.tag,t===13){if(t=xx(n),t!==null){e.blockedOn=t,Ox(e.priority,function(){Rx(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function qf(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Zp(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Wp=r,n.target.dispatchEvent(r),Wp=null}else return t=ec(n),t!==null&&Z0(t),e.blockedOn=n,!1;t.shift()}return!0}function qy(e,t,n){qf(e)&&n.delete(t)}function Lw(){qp=!1,Oo!==null&&qf(Oo)&&(Oo=null),Po!==null&&qf(Po)&&(Po=null),ko!==null&&qf(ko)&&(ko=null),ku.forEach(qy),Nu.forEach(qy)}function lu(e,t){e.blockedOn===t&&(e.blockedOn=null,qp||(qp=!0,Lr.unstable_scheduleCallback(Lr.unstable_NormalPriority,Lw)))}function Iu(e){function t(i){return lu(i,e)}if(0<Of.length){lu(Of[0],e);for(var n=1;n<Of.length;n++){var r=Of[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Oo!==null&&lu(Oo,e),Po!==null&&lu(Po,e),ko!==null&&lu(ko,e),ku.forEach(t),Nu.forEach(t),n=0;n<To.length;n++)r=To[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<To.length&&(n=To[0],n.blockedOn===null);)Px(n),n.blockedOn===null&&To.shift()}var Ul=Xi.ReactCurrentBatchConfig,pd=!0;function Ow(e,t,n,r){var i=Zt,o=Ul.transition;Ul.transition=null;try{Zt=1,J0(e,t,n,r)}finally{Zt=i,Ul.transition=o}}function Pw(e,t,n,r){var i=Zt,o=Ul.transition;Ul.transition=null;try{Zt=4,J0(e,t,n,r)}finally{Zt=i,Ul.transition=o}}function J0(e,t,n,r){if(pd){var i=Zp(e,t,n,r);if(i===null)Jm(e,t,r,vd,n),Ky(e,r);else if(Rw(i,e,t,n,r))r.stopPropagation();else if(Ky(e,r),t&4&&-1<bw.indexOf(e)){for(;i!==null;){var o=ec(i);if(o!==null&&bx(o),o=Zp(e,t,n,r),o===null&&Jm(e,t,r,vd,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Jm(e,t,r,null,n)}}var vd=null;function Zp(e,t,n,r){if(vd=null,e=Q0(r),e=_a(e),e!==null)if(t=Ba(e),t===null)e=null;else if(n=t.tag,n===13){if(e=xx(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return vd=e,null}function kx(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(gw()){case K0:return 1;case wx:return 4;case hd:case xw:return 16;case Tx:return 536870912;default:return 16}default:return 16}}var Co=null,ev=null,Zf=null;function Nx(){if(Zf)return Zf;var e,t=ev,n=t.length,r,i="value"in Co?Co.value:Co.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===i[o-r];r++);return Zf=i.slice(e,1<r?1-r:void 0)}function Jf(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Pf(){return!0}function Zy(){return!1}function Pr(e){function t(n,r,i,o,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Pf:Zy,this.isPropagationStopped=Zy,this}return vn(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Pf)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Pf)},persist:function(){},isPersistent:Pf}),t}var is={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},tv=Pr(is),Ju=vn({},is,{view:0,detail:0}),kw=Pr(Ju),Vm,Hm,su,qd=vn({},Ju,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:nv,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==su&&(su&&e.type==="mousemove"?(Vm=e.screenX-su.screenX,Hm=e.screenY-su.screenY):Hm=Vm=0,su=e),Vm)},movementY:function(e){return"movementY"in e?e.movementY:Hm}}),Jy=Pr(qd),Nw=vn({},qd,{dataTransfer:0}),Iw=Pr(Nw),Mw=vn({},Ju,{relatedTarget:0}),Wm=Pr(Mw),Dw=vn({},is,{animationName:0,elapsedTime:0,pseudoElement:0}),Fw=Pr(Dw),Bw=vn({},is,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),jw=Pr(Bw),$w=vn({},is,{data:0}),eg=Pr($w),Gw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Uw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Vw(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Uw[e])?!!t[e]:!1}function nv(){return Vw}var Hw=vn({},Ju,{key:function(e){if(e.key){var t=Gw[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Jf(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?zw[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:nv,charCode:function(e){return e.type==="keypress"?Jf(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Jf(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ww=Pr(Hw),Xw=vn({},qd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),tg=Pr(Xw),Yw=vn({},Ju,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:nv}),Qw=Pr(Yw),Kw=vn({},is,{propertyName:0,elapsedTime:0,pseudoElement:0}),qw=Pr(Kw),Zw=vn({},qd,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Jw=Pr(Zw),eT=[9,13,27,32],rv=Ui&&"CompositionEvent"in window,Su=null;Ui&&"documentMode"in document&&(Su=document.documentMode);var tT=Ui&&"TextEvent"in window&&!Su,Ix=Ui&&(!rv||Su&&8<Su&&11>=Su),ng=" ",rg=!1;function Mx(e,t){switch(e){case"keyup":return eT.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Dx(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ll=!1;function nT(e,t){switch(e){case"compositionend":return Dx(t);case"keypress":return t.which!==32?null:(rg=!0,ng);case"textInput":return e=t.data,e===ng&&rg?null:e;default:return null}}function rT(e,t){if(Ll)return e==="compositionend"||!rv&&Mx(e,t)?(e=Nx(),Zf=ev=Co=null,Ll=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ix&&t.locale!=="ko"?null:t.data;default:return null}}var iT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ig(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!iT[e.type]:t==="textarea"}function Fx(e,t,n,r){mx(r),t=yd(t,"onChange"),0<t.length&&(n=new tv("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var wu=null,Mu=null;function oT(e){Yx(e,0)}function Zd(e){var t=kl(e);if(lx(t))return e}function aT(e,t){if(e==="change")return t}var Bx=!1;if(Ui){var Xm;if(Ui){var Ym="oninput"in document;if(!Ym){var og=document.createElement("div");og.setAttribute("oninput","return;"),Ym=typeof og.oninput=="function"}Xm=Ym}else Xm=!1;Bx=Xm&&(!document.documentMode||9<document.documentMode)}function ag(){wu&&(wu.detachEvent("onpropertychange",jx),Mu=wu=null)}function jx(e){if(e.propertyName==="value"&&Zd(Mu)){var t=[];Fx(t,Mu,e,Q0(e)),gx(oT,t)}}function lT(e,t,n){e==="focusin"?(ag(),wu=t,Mu=n,wu.attachEvent("onpropertychange",jx)):e==="focusout"&&ag()}function sT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Zd(Mu)}function uT(e,t){if(e==="click")return Zd(t)}function cT(e,t){if(e==="input"||e==="change")return Zd(t)}function fT(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ri=typeof Object.is=="function"?Object.is:fT;function Du(e,t){if(ri(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Ip.call(t,i)||!ri(e[i],t[i]))return!1}return!0}function lg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function sg(e,t){var n=lg(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=lg(n)}}function $x(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?$x(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Gx(){for(var e=window,t=cd();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=cd(e.document)}return t}function iv(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function dT(e){var t=Gx(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&$x(n.ownerDocument.documentElement,n)){if(r!==null&&iv(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=sg(n,o);var a=sg(n,r);i&&a&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var hT=Ui&&"documentMode"in document&&11>=document.documentMode,Ol=null,Jp=null,Tu=null,e0=!1;function ug(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;e0||Ol==null||Ol!==cd(r)||(r=Ol,"selectionStart"in r&&iv(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Tu&&Du(Tu,r)||(Tu=r,r=yd(Jp,"onSelect"),0<r.length&&(t=new tv("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Ol)))}function kf(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Pl={animationend:kf("Animation","AnimationEnd"),animationiteration:kf("Animation","AnimationIteration"),animationstart:kf("Animation","AnimationStart"),transitionend:kf("Transition","TransitionEnd")},Qm={},zx={};Ui&&(zx=document.createElement("div").style,"AnimationEvent"in window||(delete Pl.animationend.animation,delete Pl.animationiteration.animation,delete Pl.animationstart.animation),"TransitionEvent"in window||delete Pl.transitionend.transition);function Jd(e){if(Qm[e])return Qm[e];if(!Pl[e])return e;var t=Pl[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in zx)return Qm[e]=t[n];return e}var Ux=Jd("animationend"),Vx=Jd("animationiteration"),Hx=Jd("animationstart"),Wx=Jd("transitionend"),Xx=new Map,cg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function zo(e,t){Xx.set(e,t),Fa(t,[e])}for(var Km=0;Km<cg.length;Km++){var qm=cg[Km],mT=qm.toLowerCase(),pT=qm[0].toUpperCase()+qm.slice(1);zo(mT,"on"+pT)}zo(Ux,"onAnimationEnd");zo(Vx,"onAnimationIteration");zo(Hx,"onAnimationStart");zo("dblclick","onDoubleClick");zo("focusin","onFocus");zo("focusout","onBlur");zo(Wx,"onTransitionEnd");Yl("onMouseEnter",["mouseout","mouseover"]);Yl("onMouseLeave",["mouseout","mouseover"]);Yl("onPointerEnter",["pointerout","pointerover"]);Yl("onPointerLeave",["pointerout","pointerover"]);Fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);Fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vT=new Set("cancel close invalid load scroll toggle".split(" ").concat(gu));function fg(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,mw(r,t,void 0,e),e.currentTarget=null}function Yx(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var l=r[a],u=l.instance,f=l.currentTarget;if(l=l.listener,u!==o&&i.isPropagationStopped())break e;fg(i,l,f),o=u}else for(a=0;a<r.length;a++){if(l=r[a],u=l.instance,f=l.currentTarget,l=l.listener,u!==o&&i.isPropagationStopped())break e;fg(i,l,f),o=u}}}if(dd)throw e=Qp,dd=!1,Qp=null,e}function ln(e,t){var n=t[o0];n===void 0&&(n=t[o0]=new Set);var r=e+"__bubble";n.has(r)||(Qx(t,e,2,!1),n.add(r))}function Zm(e,t,n){var r=0;t&&(r|=4),Qx(n,e,r,t)}var Nf="_reactListening"+Math.random().toString(36).slice(2);function Fu(e){if(!e[Nf]){e[Nf]=!0,nx.forEach(function(n){n!=="selectionchange"&&(vT.has(n)||Zm(n,!1,e),Zm(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Nf]||(t[Nf]=!0,Zm("selectionchange",!1,t))}}function Qx(e,t,n,r){switch(kx(t)){case 1:var i=Ow;break;case 4:i=Pw;break;default:i=J0}n=i.bind(null,t,n,e),i=void 0,!Yp||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Jm(e,t,n,r,i){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var u=a.tag;if((u===3||u===4)&&(u=a.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;a=a.return}for(;l!==null;){if(a=_a(l),a===null)return;if(u=a.tag,u===5||u===6){r=o=a;continue e}l=l.parentNode}}r=r.return}gx(function(){var f=o,h=Q0(n),m=[];e:{var p=Xx.get(e);if(p!==void 0){var L=tv,O=e;switch(e){case"keypress":if(Jf(n)===0)break e;case"keydown":case"keyup":L=Ww;break;case"focusin":O="focus",L=Wm;break;case"focusout":O="blur",L=Wm;break;case"beforeblur":case"afterblur":L=Wm;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":L=Jy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":L=Iw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":L=Qw;break;case Ux:case Vx:case Hx:L=Fw;break;case Wx:L=qw;break;case"scroll":L=kw;break;case"wheel":L=Jw;break;case"copy":case"cut":case"paste":L=jw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":L=tg}var k=(t&4)!==0,j=!k&&e==="scroll",x=k?p!==null?p+"Capture":null:p;k=[];for(var w=f,C;w!==null;){C=w;var U=C.stateNode;if(C.tag===5&&U!==null&&(C=U,x!==null&&(U=Pu(w,x),U!=null&&k.push(Bu(w,U,C)))),j)break;w=w.return}0<k.length&&(p=new L(p,O,null,n,h),m.push({event:p,listeners:k}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",L=e==="mouseout"||e==="pointerout",p&&n!==Wp&&(O=n.relatedTarget||n.fromElement)&&(_a(O)||O[Vi]))break e;if((L||p)&&(p=h.window===h?h:(p=h.ownerDocument)?p.defaultView||p.parentWindow:window,L?(O=n.relatedTarget||n.toElement,L=f,O=O?_a(O):null,O!==null&&(j=Ba(O),O!==j||O.tag!==5&&O.tag!==6)&&(O=null)):(L=null,O=f),L!==O)){if(k=Jy,U="onMouseLeave",x="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(k=tg,U="onPointerLeave",x="onPointerEnter",w="pointer"),j=L==null?p:kl(L),C=O==null?p:kl(O),p=new k(U,w+"leave",L,n,h),p.target=j,p.relatedTarget=C,U=null,_a(h)===f&&(k=new k(x,w+"enter",O,n,h),k.target=C,k.relatedTarget=j,U=k),j=U,L&&O)t:{for(k=L,x=O,w=0,C=k;C;C=Tl(C))w++;for(C=0,U=x;U;U=Tl(U))C++;for(;0<w-C;)k=Tl(k),w--;for(;0<C-w;)x=Tl(x),C--;for(;w--;){if(k===x||x!==null&&k===x.alternate)break t;k=Tl(k),x=Tl(x)}k=null}else k=null;L!==null&&dg(m,p,L,k,!1),O!==null&&j!==null&&dg(m,j,O,k,!0)}}e:{if(p=f?kl(f):window,L=p.nodeName&&p.nodeName.toLowerCase(),L==="select"||L==="input"&&p.type==="file")var X=aT;else if(ig(p))if(Bx)X=cT;else{X=sT;var ae=lT}else(L=p.nodeName)&&L.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(X=uT);if(X&&(X=X(e,f))){Fx(m,X,n,h);break e}ae&&ae(e,p,f),e==="focusout"&&(ae=p._wrapperState)&&ae.controlled&&p.type==="number"&&Gp(p,"number",p.value)}switch(ae=f?kl(f):window,e){case"focusin":(ig(ae)||ae.contentEditable==="true")&&(Ol=ae,Jp=f,Tu=null);break;case"focusout":Tu=Jp=Ol=null;break;case"mousedown":e0=!0;break;case"contextmenu":case"mouseup":case"dragend":e0=!1,ug(m,n,h);break;case"selectionchange":if(hT)break;case"keydown":case"keyup":ug(m,n,h)}var Ae;if(rv)e:{switch(e){case"compositionstart":var se="onCompositionStart";break e;case"compositionend":se="onCompositionEnd";break e;case"compositionupdate":se="onCompositionUpdate";break e}se=void 0}else Ll?Mx(e,n)&&(se="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(se="onCompositionStart");se&&(Ix&&n.locale!=="ko"&&(Ll||se!=="onCompositionStart"?se==="onCompositionEnd"&&Ll&&(Ae=Nx()):(Co=h,ev="value"in Co?Co.value:Co.textContent,Ll=!0)),ae=yd(f,se),0<ae.length&&(se=new eg(se,e,null,n,h),m.push({event:se,listeners:ae}),Ae?se.data=Ae:(Ae=Dx(n),Ae!==null&&(se.data=Ae)))),(Ae=tT?nT(e,n):rT(e,n))&&(f=yd(f,"onBeforeInput"),0<f.length&&(h=new eg("onBeforeInput","beforeinput",null,n,h),m.push({event:h,listeners:f}),h.data=Ae))}Yx(m,t)})}function Bu(e,t,n){return{instance:e,listener:t,currentTarget:n}}function yd(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Pu(e,n),o!=null&&r.unshift(Bu(e,o,i)),o=Pu(e,t),o!=null&&r.push(Bu(e,o,i))),e=e.return}return r}function Tl(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function dg(e,t,n,r,i){for(var o=t._reactName,a=[];n!==null&&n!==r;){var l=n,u=l.alternate,f=l.stateNode;if(u!==null&&u===r)break;l.tag===5&&f!==null&&(l=f,i?(u=Pu(n,o),u!=null&&a.unshift(Bu(n,u,l))):i||(u=Pu(n,o),u!=null&&a.push(Bu(n,u,l)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var yT=/\r\n?/g,gT=/\u0000|\uFFFD/g;function hg(e){return(typeof e=="string"?e:""+e).replace(yT,`
`).replace(gT,"")}function If(e,t,n){if(t=hg(t),hg(e)!==t&&n)throw Error(Oe(425))}function gd(){}var t0=null,n0=null;function r0(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var i0=typeof setTimeout=="function"?setTimeout:void 0,xT=typeof clearTimeout=="function"?clearTimeout:void 0,mg=typeof Promise=="function"?Promise:void 0,ET=typeof queueMicrotask=="function"?queueMicrotask:typeof mg<"u"?function(e){return mg.resolve(null).then(e).catch(_T)}:i0;function _T(e){setTimeout(function(){throw e})}function ep(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Iu(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Iu(t)}function No(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function pg(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var os=Math.random().toString(36).slice(2),xi="__reactFiber$"+os,ju="__reactProps$"+os,Vi="__reactContainer$"+os,o0="__reactEvents$"+os,ST="__reactListeners$"+os,wT="__reactHandles$"+os;function _a(e){var t=e[xi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Vi]||n[xi]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=pg(e);e!==null;){if(n=e[xi])return n;e=pg(e)}return t}e=n,n=e.parentNode}return null}function ec(e){return e=e[xi]||e[Vi],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function kl(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Oe(33))}function eh(e){return e[ju]||null}var a0=[],Nl=-1;function Uo(e){return{current:e}}function sn(e){0>Nl||(e.current=a0[Nl],a0[Nl]=null,Nl--)}function rn(e,t){Nl++,a0[Nl]=e.current,e.current=t}var $o={},Zn=Uo($o),mr=Uo(!1),La=$o;function Ql(e,t){var n=e.type.contextTypes;if(!n)return $o;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function pr(e){return e=e.childContextTypes,e!=null}function xd(){sn(mr),sn(Zn)}function vg(e,t,n){if(Zn.current!==$o)throw Error(Oe(168));rn(Zn,t),rn(mr,n)}function Kx(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(Oe(108,lw(e)||"Unknown",i));return vn({},n,r)}function Ed(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||$o,La=Zn.current,rn(Zn,e),rn(mr,mr.current),!0}function yg(e,t,n){var r=e.stateNode;if(!r)throw Error(Oe(169));n?(e=Kx(e,t,La),r.__reactInternalMemoizedMergedChildContext=e,sn(mr),sn(Zn),rn(Zn,e)):sn(mr),rn(mr,n)}var ji=null,th=!1,tp=!1;function qx(e){ji===null?ji=[e]:ji.push(e)}function TT(e){th=!0,qx(e)}function Vo(){if(!tp&&ji!==null){tp=!0;var e=0,t=Zt;try{var n=ji;for(Zt=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}ji=null,th=!1}catch(i){throw ji!==null&&(ji=ji.slice(e+1)),Sx(K0,Vo),i}finally{Zt=t,tp=!1}}return null}var Il=[],Ml=0,_d=null,Sd=0,Br=[],jr=0,Oa=null,$i=1,Gi="";function xa(e,t){Il[Ml++]=Sd,Il[Ml++]=_d,_d=e,Sd=t}function Zx(e,t,n){Br[jr++]=$i,Br[jr++]=Gi,Br[jr++]=Oa,Oa=e;var r=$i;e=Gi;var i=32-ti(r)-1;r&=~(1<<i),n+=1;var o=32-ti(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,$i=1<<32-ti(t)+i|n<<i|r,Gi=o+e}else $i=1<<o|n<<i|r,Gi=e}function ov(e){e.return!==null&&(xa(e,1),Zx(e,1,0))}function av(e){for(;e===_d;)_d=Il[--Ml],Il[Ml]=null,Sd=Il[--Ml],Il[Ml]=null;for(;e===Oa;)Oa=Br[--jr],Br[jr]=null,Gi=Br[--jr],Br[jr]=null,$i=Br[--jr],Br[jr]=null}var Rr=null,br=null,un=!1,Jr=null;function Jx(e,t){var n=$r(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function gg(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Rr=e,br=No(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Rr=e,br=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Oa!==null?{id:$i,overflow:Gi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=$r(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Rr=e,br=null,!0):!1;default:return!1}}function l0(e){return(e.mode&1)!==0&&(e.flags&128)===0}function s0(e){if(un){var t=br;if(t){var n=t;if(!gg(e,t)){if(l0(e))throw Error(Oe(418));t=No(n.nextSibling);var r=Rr;t&&gg(e,t)?Jx(r,n):(e.flags=e.flags&-4097|2,un=!1,Rr=e)}}else{if(l0(e))throw Error(Oe(418));e.flags=e.flags&-4097|2,un=!1,Rr=e}}}function xg(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Rr=e}function Mf(e){if(e!==Rr)return!1;if(!un)return xg(e),un=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!r0(e.type,e.memoizedProps)),t&&(t=br)){if(l0(e))throw eE(),Error(Oe(418));for(;t;)Jx(e,t),t=No(t.nextSibling)}if(xg(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Oe(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){br=No(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}br=null}}else br=Rr?No(e.stateNode.nextSibling):null;return!0}function eE(){for(var e=br;e;)e=No(e.nextSibling)}function Kl(){br=Rr=null,un=!1}function lv(e){Jr===null?Jr=[e]:Jr.push(e)}var AT=Xi.ReactCurrentBatchConfig;function qr(e,t){if(e&&e.defaultProps){t=vn({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var wd=Uo(null),Td=null,Dl=null,sv=null;function uv(){sv=Dl=Td=null}function cv(e){var t=wd.current;sn(wd),e._currentValue=t}function u0(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Vl(e,t){Td=e,sv=Dl=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(hr=!0),e.firstContext=null)}function zr(e){var t=e._currentValue;if(sv!==e)if(e={context:e,memoizedValue:t,next:null},Dl===null){if(Td===null)throw Error(Oe(308));Dl=e,Td.dependencies={lanes:0,firstContext:e}}else Dl=Dl.next=e;return t}var Sa=null;function fv(e){Sa===null?Sa=[e]:Sa.push(e)}function tE(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,fv(t)):(n.next=i.next,i.next=n),t.interleaved=n,Hi(e,r)}function Hi(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var wo=!1;function dv(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function nE(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function zi(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Io(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Xt&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Hi(e,n)}return i=r.interleaved,i===null?(t.next=t,fv(r)):(t.next=i.next,i.next=t),r.interleaved=t,Hi(e,n)}function ed(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,q0(e,n)}}function Eg(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ad(e,t,n,r){var i=e.updateQueue;wo=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var u=l,f=u.next;u.next=null,a===null?o=f:a.next=f,a=u;var h=e.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==a&&(l===null?h.firstBaseUpdate=f:l.next=f,h.lastBaseUpdate=u))}if(o!==null){var m=i.baseState;a=0,h=f=u=null,l=o;do{var p=l.lane,L=l.eventTime;if((r&p)===p){h!==null&&(h=h.next={eventTime:L,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var O=e,k=l;switch(p=t,L=n,k.tag){case 1:if(O=k.payload,typeof O=="function"){m=O.call(L,m,p);break e}m=O;break e;case 3:O.flags=O.flags&-65537|128;case 0:if(O=k.payload,p=typeof O=="function"?O.call(L,m,p):O,p==null)break e;m=vn({},m,p);break e;case 2:wo=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,p=i.effects,p===null?i.effects=[l]:p.push(l))}else L={eventTime:L,lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(f=h=L,u=m):h=h.next=L,a|=p;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;p=l,l=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(h===null&&(u=m),i.baseState=u,i.firstBaseUpdate=f,i.lastBaseUpdate=h,t=i.shared.interleaved,t!==null){i=t;do a|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);ka|=a,e.lanes=a,e.memoizedState=m}}function _g(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Oe(191,i));i.call(r)}}}var rE=new tx.Component().refs;function c0(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:vn({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var nh={isMounted:function(e){return(e=e._reactInternals)?Ba(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=rr(),i=Do(e),o=zi(r,i);o.payload=t,n!=null&&(o.callback=n),t=Io(e,o,i),t!==null&&(ni(t,e,i,r),ed(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=rr(),i=Do(e),o=zi(r,i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=Io(e,o,i),t!==null&&(ni(t,e,i,r),ed(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=rr(),r=Do(e),i=zi(n,r);i.tag=2,t!=null&&(i.callback=t),t=Io(e,i,r),t!==null&&(ni(t,e,r,n),ed(t,e,r))}};function Sg(e,t,n,r,i,o,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,a):t.prototype&&t.prototype.isPureReactComponent?!Du(n,r)||!Du(i,o):!0}function iE(e,t,n){var r=!1,i=$o,o=t.contextType;return typeof o=="object"&&o!==null?o=zr(o):(i=pr(t)?La:Zn.current,r=t.contextTypes,o=(r=r!=null)?Ql(e,i):$o),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=nh,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function wg(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&nh.enqueueReplaceState(t,t.state,null)}function f0(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=rE,dv(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=zr(o):(o=pr(t)?La:Zn.current,i.context=Ql(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(c0(e,t,o,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&nh.enqueueReplaceState(i,i.state,null),Ad(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function uu(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Oe(309));var r=n.stateNode}if(!r)throw Error(Oe(147,e));var i=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(a){var l=i.refs;l===rE&&(l=i.refs={}),a===null?delete l[o]:l[o]=a},t._stringRef=o,t)}if(typeof e!="string")throw Error(Oe(284));if(!n._owner)throw Error(Oe(290,e))}return e}function Df(e,t){throw e=Object.prototype.toString.call(t),Error(Oe(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Tg(e){var t=e._init;return t(e._payload)}function oE(e){function t(x,w){if(e){var C=x.deletions;C===null?(x.deletions=[w],x.flags|=16):C.push(w)}}function n(x,w){if(!e)return null;for(;w!==null;)t(x,w),w=w.sibling;return null}function r(x,w){for(x=new Map;w!==null;)w.key!==null?x.set(w.key,w):x.set(w.index,w),w=w.sibling;return x}function i(x,w){return x=Fo(x,w),x.index=0,x.sibling=null,x}function o(x,w,C){return x.index=C,e?(C=x.alternate,C!==null?(C=C.index,C<w?(x.flags|=2,w):C):(x.flags|=2,w)):(x.flags|=1048576,w)}function a(x){return e&&x.alternate===null&&(x.flags|=2),x}function l(x,w,C,U){return w===null||w.tag!==6?(w=sp(C,x.mode,U),w.return=x,w):(w=i(w,C),w.return=x,w)}function u(x,w,C,U){var X=C.type;return X===Rl?h(x,w,C.props.children,U,C.key):w!==null&&(w.elementType===X||typeof X=="object"&&X!==null&&X.$$typeof===So&&Tg(X)===w.type)?(U=i(w,C.props),U.ref=uu(x,w,C),U.return=x,U):(U=ad(C.type,C.key,C.props,null,x.mode,U),U.ref=uu(x,w,C),U.return=x,U)}function f(x,w,C,U){return w===null||w.tag!==4||w.stateNode.containerInfo!==C.containerInfo||w.stateNode.implementation!==C.implementation?(w=up(C,x.mode,U),w.return=x,w):(w=i(w,C.children||[]),w.return=x,w)}function h(x,w,C,U,X){return w===null||w.tag!==7?(w=Ca(C,x.mode,U,X),w.return=x,w):(w=i(w,C),w.return=x,w)}function m(x,w,C){if(typeof w=="string"&&w!==""||typeof w=="number")return w=sp(""+w,x.mode,C),w.return=x,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Af:return C=ad(w.type,w.key,w.props,null,x.mode,C),C.ref=uu(x,null,w),C.return=x,C;case bl:return w=up(w,x.mode,C),w.return=x,w;case So:var U=w._init;return m(x,U(w._payload),C)}if(vu(w)||iu(w))return w=Ca(w,x.mode,C,null),w.return=x,w;Df(x,w)}return null}function p(x,w,C,U){var X=w!==null?w.key:null;if(typeof C=="string"&&C!==""||typeof C=="number")return X!==null?null:l(x,w,""+C,U);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Af:return C.key===X?u(x,w,C,U):null;case bl:return C.key===X?f(x,w,C,U):null;case So:return X=C._init,p(x,w,X(C._payload),U)}if(vu(C)||iu(C))return X!==null?null:h(x,w,C,U,null);Df(x,C)}return null}function L(x,w,C,U,X){if(typeof U=="string"&&U!==""||typeof U=="number")return x=x.get(C)||null,l(w,x,""+U,X);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case Af:return x=x.get(U.key===null?C:U.key)||null,u(w,x,U,X);case bl:return x=x.get(U.key===null?C:U.key)||null,f(w,x,U,X);case So:var ae=U._init;return L(x,w,C,ae(U._payload),X)}if(vu(U)||iu(U))return x=x.get(C)||null,h(w,x,U,X,null);Df(w,U)}return null}function O(x,w,C,U){for(var X=null,ae=null,Ae=w,se=w=0,ft=null;Ae!==null&&se<C.length;se++){Ae.index>se?(ft=Ae,Ae=null):ft=Ae.sibling;var Be=p(x,Ae,C[se],U);if(Be===null){Ae===null&&(Ae=ft);break}e&&Ae&&Be.alternate===null&&t(x,Ae),w=o(Be,w,se),ae===null?X=Be:ae.sibling=Be,ae=Be,Ae=ft}if(se===C.length)return n(x,Ae),un&&xa(x,se),X;if(Ae===null){for(;se<C.length;se++)Ae=m(x,C[se],U),Ae!==null&&(w=o(Ae,w,se),ae===null?X=Ae:ae.sibling=Ae,ae=Ae);return un&&xa(x,se),X}for(Ae=r(x,Ae);se<C.length;se++)ft=L(Ae,x,se,C[se],U),ft!==null&&(e&&ft.alternate!==null&&Ae.delete(ft.key===null?se:ft.key),w=o(ft,w,se),ae===null?X=ft:ae.sibling=ft,ae=ft);return e&&Ae.forEach(function(Ue){return t(x,Ue)}),un&&xa(x,se),X}function k(x,w,C,U){var X=iu(C);if(typeof X!="function")throw Error(Oe(150));if(C=X.call(C),C==null)throw Error(Oe(151));for(var ae=X=null,Ae=w,se=w=0,ft=null,Be=C.next();Ae!==null&&!Be.done;se++,Be=C.next()){Ae.index>se?(ft=Ae,Ae=null):ft=Ae.sibling;var Ue=p(x,Ae,Be.value,U);if(Ue===null){Ae===null&&(Ae=ft);break}e&&Ae&&Ue.alternate===null&&t(x,Ae),w=o(Ue,w,se),ae===null?X=Ue:ae.sibling=Ue,ae=Ue,Ae=ft}if(Be.done)return n(x,Ae),un&&xa(x,se),X;if(Ae===null){for(;!Be.done;se++,Be=C.next())Be=m(x,Be.value,U),Be!==null&&(w=o(Be,w,se),ae===null?X=Be:ae.sibling=Be,ae=Be);return un&&xa(x,se),X}for(Ae=r(x,Ae);!Be.done;se++,Be=C.next())Be=L(Ae,x,se,Be.value,U),Be!==null&&(e&&Be.alternate!==null&&Ae.delete(Be.key===null?se:Be.key),w=o(Be,w,se),ae===null?X=Be:ae.sibling=Be,ae=Be);return e&&Ae.forEach(function(et){return t(x,et)}),un&&xa(x,se),X}function j(x,w,C,U){if(typeof C=="object"&&C!==null&&C.type===Rl&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case Af:e:{for(var X=C.key,ae=w;ae!==null;){if(ae.key===X){if(X=C.type,X===Rl){if(ae.tag===7){n(x,ae.sibling),w=i(ae,C.props.children),w.return=x,x=w;break e}}else if(ae.elementType===X||typeof X=="object"&&X!==null&&X.$$typeof===So&&Tg(X)===ae.type){n(x,ae.sibling),w=i(ae,C.props),w.ref=uu(x,ae,C),w.return=x,x=w;break e}n(x,ae);break}else t(x,ae);ae=ae.sibling}C.type===Rl?(w=Ca(C.props.children,x.mode,U,C.key),w.return=x,x=w):(U=ad(C.type,C.key,C.props,null,x.mode,U),U.ref=uu(x,w,C),U.return=x,x=U)}return a(x);case bl:e:{for(ae=C.key;w!==null;){if(w.key===ae)if(w.tag===4&&w.stateNode.containerInfo===C.containerInfo&&w.stateNode.implementation===C.implementation){n(x,w.sibling),w=i(w,C.children||[]),w.return=x,x=w;break e}else{n(x,w);break}else t(x,w);w=w.sibling}w=up(C,x.mode,U),w.return=x,x=w}return a(x);case So:return ae=C._init,j(x,w,ae(C._payload),U)}if(vu(C))return O(x,w,C,U);if(iu(C))return k(x,w,C,U);Df(x,C)}return typeof C=="string"&&C!==""||typeof C=="number"?(C=""+C,w!==null&&w.tag===6?(n(x,w.sibling),w=i(w,C),w.return=x,x=w):(n(x,w),w=sp(C,x.mode,U),w.return=x,x=w),a(x)):n(x,w)}return j}var ql=oE(!0),aE=oE(!1),tc={},_i=Uo(tc),$u=Uo(tc),Gu=Uo(tc);function wa(e){if(e===tc)throw Error(Oe(174));return e}function hv(e,t){switch(rn(Gu,t),rn($u,e),rn(_i,tc),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Up(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Up(t,e)}sn(_i),rn(_i,t)}function Zl(){sn(_i),sn($u),sn(Gu)}function lE(e){wa(Gu.current);var t=wa(_i.current),n=Up(t,e.type);t!==n&&(rn($u,e),rn(_i,n))}function mv(e){$u.current===e&&(sn(_i),sn($u))}var mn=Uo(0);function Cd(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var np=[];function pv(){for(var e=0;e<np.length;e++)np[e]._workInProgressVersionPrimary=null;np.length=0}var td=Xi.ReactCurrentDispatcher,rp=Xi.ReactCurrentBatchConfig,Pa=0,pn=null,Fn=null,Un=null,bd=!1,Au=!1,zu=0,CT=0;function Yn(){throw Error(Oe(321))}function vv(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ri(e[n],t[n]))return!1;return!0}function yv(e,t,n,r,i,o){if(Pa=o,pn=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,td.current=e===null||e.memoizedState===null?OT:PT,e=n(r,i),Au){o=0;do{if(Au=!1,zu=0,25<=o)throw Error(Oe(301));o+=1,Un=Fn=null,t.updateQueue=null,td.current=kT,e=n(r,i)}while(Au)}if(td.current=Rd,t=Fn!==null&&Fn.next!==null,Pa=0,Un=Fn=pn=null,bd=!1,t)throw Error(Oe(300));return e}function gv(){var e=zu!==0;return zu=0,e}function yi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Un===null?pn.memoizedState=Un=e:Un=Un.next=e,Un}function Ur(){if(Fn===null){var e=pn.alternate;e=e!==null?e.memoizedState:null}else e=Fn.next;var t=Un===null?pn.memoizedState:Un.next;if(t!==null)Un=t,Fn=e;else{if(e===null)throw Error(Oe(310));Fn=e,e={memoizedState:Fn.memoizedState,baseState:Fn.baseState,baseQueue:Fn.baseQueue,queue:Fn.queue,next:null},Un===null?pn.memoizedState=Un=e:Un=Un.next=e}return Un}function Uu(e,t){return typeof t=="function"?t(e):t}function ip(e){var t=Ur(),n=t.queue;if(n===null)throw Error(Oe(311));n.lastRenderedReducer=e;var r=Fn,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var l=a=null,u=null,f=o;do{var h=f.lane;if((Pa&h)===h)u!==null&&(u=u.next={lane:0,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null}),r=f.hasEagerState?f.eagerState:e(r,f.action);else{var m={lane:h,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null};u===null?(l=u=m,a=r):u=u.next=m,pn.lanes|=h,ka|=h}f=f.next}while(f!==null&&f!==o);u===null?a=r:u.next=l,ri(r,t.memoizedState)||(hr=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=u,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do o=i.lane,pn.lanes|=o,ka|=o,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function op(e){var t=Ur(),n=t.queue;if(n===null)throw Error(Oe(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do o=e(o,a.action),a=a.next;while(a!==i);ri(o,t.memoizedState)||(hr=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function sE(){}function uE(e,t){var n=pn,r=Ur(),i=t(),o=!ri(r.memoizedState,i);if(o&&(r.memoizedState=i,hr=!0),r=r.queue,xv(dE.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||Un!==null&&Un.memoizedState.tag&1){if(n.flags|=2048,Vu(9,fE.bind(null,n,r,i,t),void 0,null),Vn===null)throw Error(Oe(349));Pa&30||cE(n,t,i)}return i}function cE(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=pn.updateQueue,t===null?(t={lastEffect:null,stores:null},pn.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function fE(e,t,n,r){t.value=n,t.getSnapshot=r,hE(t)&&mE(e)}function dE(e,t,n){return n(function(){hE(t)&&mE(e)})}function hE(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ri(e,n)}catch{return!0}}function mE(e){var t=Hi(e,1);t!==null&&ni(t,e,1,-1)}function Ag(e){var t=yi();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Uu,lastRenderedState:e},t.queue=e,e=e.dispatch=LT.bind(null,pn,e),[t.memoizedState,e]}function Vu(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=pn.updateQueue,t===null?(t={lastEffect:null,stores:null},pn.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function pE(){return Ur().memoizedState}function nd(e,t,n,r){var i=yi();pn.flags|=e,i.memoizedState=Vu(1|t,n,void 0,r===void 0?null:r)}function rh(e,t,n,r){var i=Ur();r=r===void 0?null:r;var o=void 0;if(Fn!==null){var a=Fn.memoizedState;if(o=a.destroy,r!==null&&vv(r,a.deps)){i.memoizedState=Vu(t,n,o,r);return}}pn.flags|=e,i.memoizedState=Vu(1|t,n,o,r)}function Cg(e,t){return nd(8390656,8,e,t)}function xv(e,t){return rh(2048,8,e,t)}function vE(e,t){return rh(4,2,e,t)}function yE(e,t){return rh(4,4,e,t)}function gE(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function xE(e,t,n){return n=n!=null?n.concat([e]):null,rh(4,4,gE.bind(null,t,e),n)}function Ev(){}function EE(e,t){var n=Ur();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&vv(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function _E(e,t){var n=Ur();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&vv(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function SE(e,t,n){return Pa&21?(ri(n,t)||(n=Ax(),pn.lanes|=n,ka|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,hr=!0),e.memoizedState=n)}function bT(e,t){var n=Zt;Zt=n!==0&&4>n?n:4,e(!0);var r=rp.transition;rp.transition={};try{e(!1),t()}finally{Zt=n,rp.transition=r}}function wE(){return Ur().memoizedState}function RT(e,t,n){var r=Do(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},TE(e))AE(t,n);else if(n=tE(e,t,n,r),n!==null){var i=rr();ni(n,e,r,i),CE(n,t,r)}}function LT(e,t,n){var r=Do(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(TE(e))AE(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var a=t.lastRenderedState,l=o(a,n);if(i.hasEagerState=!0,i.eagerState=l,ri(l,a)){var u=t.interleaved;u===null?(i.next=i,fv(t)):(i.next=u.next,u.next=i),t.interleaved=i;return}}catch{}finally{}n=tE(e,t,i,r),n!==null&&(i=rr(),ni(n,e,r,i),CE(n,t,r))}}function TE(e){var t=e.alternate;return e===pn||t!==null&&t===pn}function AE(e,t){Au=bd=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function CE(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,q0(e,n)}}var Rd={readContext:zr,useCallback:Yn,useContext:Yn,useEffect:Yn,useImperativeHandle:Yn,useInsertionEffect:Yn,useLayoutEffect:Yn,useMemo:Yn,useReducer:Yn,useRef:Yn,useState:Yn,useDebugValue:Yn,useDeferredValue:Yn,useTransition:Yn,useMutableSource:Yn,useSyncExternalStore:Yn,useId:Yn,unstable_isNewReconciler:!1},OT={readContext:zr,useCallback:function(e,t){return yi().memoizedState=[e,t===void 0?null:t],e},useContext:zr,useEffect:Cg,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,nd(4194308,4,gE.bind(null,t,e),n)},useLayoutEffect:function(e,t){return nd(4194308,4,e,t)},useInsertionEffect:function(e,t){return nd(4,2,e,t)},useMemo:function(e,t){var n=yi();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=yi();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=RT.bind(null,pn,e),[r.memoizedState,e]},useRef:function(e){var t=yi();return e={current:e},t.memoizedState=e},useState:Ag,useDebugValue:Ev,useDeferredValue:function(e){return yi().memoizedState=e},useTransition:function(){var e=Ag(!1),t=e[0];return e=bT.bind(null,e[1]),yi().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=pn,i=yi();if(un){if(n===void 0)throw Error(Oe(407));n=n()}else{if(n=t(),Vn===null)throw Error(Oe(349));Pa&30||cE(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Cg(dE.bind(null,r,o,e),[e]),r.flags|=2048,Vu(9,fE.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=yi(),t=Vn.identifierPrefix;if(un){var n=Gi,r=$i;n=(r&~(1<<32-ti(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=zu++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=CT++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},PT={readContext:zr,useCallback:EE,useContext:zr,useEffect:xv,useImperativeHandle:xE,useInsertionEffect:vE,useLayoutEffect:yE,useMemo:_E,useReducer:ip,useRef:pE,useState:function(){return ip(Uu)},useDebugValue:Ev,useDeferredValue:function(e){var t=Ur();return SE(t,Fn.memoizedState,e)},useTransition:function(){var e=ip(Uu)[0],t=Ur().memoizedState;return[e,t]},useMutableSource:sE,useSyncExternalStore:uE,useId:wE,unstable_isNewReconciler:!1},kT={readContext:zr,useCallback:EE,useContext:zr,useEffect:xv,useImperativeHandle:xE,useInsertionEffect:vE,useLayoutEffect:yE,useMemo:_E,useReducer:op,useRef:pE,useState:function(){return op(Uu)},useDebugValue:Ev,useDeferredValue:function(e){var t=Ur();return Fn===null?t.memoizedState=e:SE(t,Fn.memoizedState,e)},useTransition:function(){var e=op(Uu)[0],t=Ur().memoizedState;return[e,t]},useMutableSource:sE,useSyncExternalStore:uE,useId:wE,unstable_isNewReconciler:!1};function Jl(e,t){try{var n="",r=t;do n+=aw(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function ap(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function d0(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var NT=typeof WeakMap=="function"?WeakMap:Map;function bE(e,t,n){n=zi(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Od||(Od=!0,S0=r),d0(e,t)},n}function RE(e,t,n){n=zi(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){d0(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){d0(e,t),typeof r!="function"&&(Mo===null?Mo=new Set([this]):Mo.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function bg(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new NT;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=XT.bind(null,e,t,n),t.then(e,e))}function Rg(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Lg(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=zi(-1,1),t.tag=2,Io(n,t,1))),n.lanes|=1),e)}var IT=Xi.ReactCurrentOwner,hr=!1;function tr(e,t,n,r){t.child=e===null?aE(t,null,n,r):ql(t,e.child,n,r)}function Og(e,t,n,r,i){n=n.render;var o=t.ref;return Vl(t,i),r=yv(e,t,n,r,o,i),n=gv(),e!==null&&!hr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Wi(e,t,i)):(un&&n&&ov(t),t.flags|=1,tr(e,t,r,i),t.child)}function Pg(e,t,n,r,i){if(e===null){var o=n.type;return typeof o=="function"&&!Rv(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,LE(e,t,o,r,i)):(e=ad(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:Du,n(a,r)&&e.ref===t.ref)return Wi(e,t,i)}return t.flags|=1,e=Fo(o,r),e.ref=t.ref,e.return=t,t.child=e}function LE(e,t,n,r,i){if(e!==null){var o=e.memoizedProps;if(Du(o,r)&&e.ref===t.ref)if(hr=!1,t.pendingProps=r=o,(e.lanes&i)!==0)e.flags&131072&&(hr=!0);else return t.lanes=e.lanes,Wi(e,t,i)}return h0(e,t,n,r,i)}function OE(e,t,n){var r=t.pendingProps,i=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},rn(Bl,Cr),Cr|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,rn(Bl,Cr),Cr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,rn(Bl,Cr),Cr|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,rn(Bl,Cr),Cr|=r;return tr(e,t,i,n),t.child}function PE(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function h0(e,t,n,r,i){var o=pr(n)?La:Zn.current;return o=Ql(t,o),Vl(t,i),n=yv(e,t,n,r,o,i),r=gv(),e!==null&&!hr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Wi(e,t,i)):(un&&r&&ov(t),t.flags|=1,tr(e,t,n,i),t.child)}function kg(e,t,n,r,i){if(pr(n)){var o=!0;Ed(t)}else o=!1;if(Vl(t,i),t.stateNode===null)rd(e,t),iE(t,n,r),f0(t,n,r,i),r=!0;else if(e===null){var a=t.stateNode,l=t.memoizedProps;a.props=l;var u=a.context,f=n.contextType;typeof f=="object"&&f!==null?f=zr(f):(f=pr(n)?La:Zn.current,f=Ql(t,f));var h=n.getDerivedStateFromProps,m=typeof h=="function"||typeof a.getSnapshotBeforeUpdate=="function";m||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==r||u!==f)&&wg(t,a,r,f),wo=!1;var p=t.memoizedState;a.state=p,Ad(t,r,a,i),u=t.memoizedState,l!==r||p!==u||mr.current||wo?(typeof h=="function"&&(c0(t,n,h,r),u=t.memoizedState),(l=wo||Sg(t,n,l,r,p,u,f))?(m||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),a.props=r,a.state=u,a.context=f,r=l):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,nE(e,t),l=t.memoizedProps,f=t.type===t.elementType?l:qr(t.type,l),a.props=f,m=t.pendingProps,p=a.context,u=n.contextType,typeof u=="object"&&u!==null?u=zr(u):(u=pr(n)?La:Zn.current,u=Ql(t,u));var L=n.getDerivedStateFromProps;(h=typeof L=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==m||p!==u)&&wg(t,a,r,u),wo=!1,p=t.memoizedState,a.state=p,Ad(t,r,a,i);var O=t.memoizedState;l!==m||p!==O||mr.current||wo?(typeof L=="function"&&(c0(t,n,L,r),O=t.memoizedState),(f=wo||Sg(t,n,f,r,p,O,u)||!1)?(h||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,O,u),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,O,u)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=O),a.props=r,a.state=O,a.context=u,r=f):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return m0(e,t,n,r,o,i)}function m0(e,t,n,r,i,o){PE(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return i&&yg(t,n,!1),Wi(e,t,o);r=t.stateNode,IT.current=t;var l=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=ql(t,e.child,null,o),t.child=ql(t,null,l,o)):tr(e,t,l,o),t.memoizedState=r.state,i&&yg(t,n,!0),t.child}function kE(e){var t=e.stateNode;t.pendingContext?vg(e,t.pendingContext,t.pendingContext!==t.context):t.context&&vg(e,t.context,!1),hv(e,t.containerInfo)}function Ng(e,t,n,r,i){return Kl(),lv(i),t.flags|=256,tr(e,t,n,r),t.child}var p0={dehydrated:null,treeContext:null,retryLane:0};function v0(e){return{baseLanes:e,cachePool:null,transitions:null}}function NE(e,t,n){var r=t.pendingProps,i=mn.current,o=!1,a=(t.flags&128)!==0,l;if((l=a)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),rn(mn,i&1),e===null)return s0(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,o?(r=t.mode,o=t.child,a={mode:"hidden",children:a},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=ah(a,r,0,null),e=Ca(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=v0(n),t.memoizedState=p0,e):_v(t,a));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return MT(e,t,a,r,l,i,n);if(o){o=r.fallback,a=t.mode,i=e.child,l=i.sibling;var u={mode:"hidden",children:r.children};return!(a&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=u,t.deletions=null):(r=Fo(i,u),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?o=Fo(l,o):(o=Ca(o,a,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,a=e.child.memoizedState,a=a===null?v0(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=e.childLanes&~n,t.memoizedState=p0,r}return o=e.child,e=o.sibling,r=Fo(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function _v(e,t){return t=ah({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ff(e,t,n,r){return r!==null&&lv(r),ql(t,e.child,null,n),e=_v(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function MT(e,t,n,r,i,o,a){if(n)return t.flags&256?(t.flags&=-257,r=ap(Error(Oe(422))),Ff(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=ah({mode:"visible",children:r.children},i,0,null),o=Ca(o,i,a,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&ql(t,e.child,null,a),t.child.memoizedState=v0(a),t.memoizedState=p0,o);if(!(t.mode&1))return Ff(e,t,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,o=Error(Oe(419)),r=ap(o,r,void 0),Ff(e,t,a,r)}if(l=(a&e.childLanes)!==0,hr||l){if(r=Vn,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Hi(e,i),ni(r,e,i,-1))}return bv(),r=ap(Error(Oe(421))),Ff(e,t,a,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=YT.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,br=No(i.nextSibling),Rr=t,un=!0,Jr=null,e!==null&&(Br[jr++]=$i,Br[jr++]=Gi,Br[jr++]=Oa,$i=e.id,Gi=e.overflow,Oa=t),t=_v(t,r.children),t.flags|=4096,t)}function Ig(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),u0(e.return,t,n)}function lp(e,t,n,r,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function IE(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(tr(e,t,r.children,n),r=mn.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ig(e,n,t);else if(e.tag===19)Ig(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(rn(mn,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Cd(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),lp(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Cd(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}lp(t,!0,n,null,o);break;case"together":lp(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function rd(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Wi(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ka|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Oe(153));if(t.child!==null){for(e=t.child,n=Fo(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Fo(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function DT(e,t,n){switch(t.tag){case 3:kE(t),Kl();break;case 5:lE(t);break;case 1:pr(t.type)&&Ed(t);break;case 4:hv(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;rn(wd,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(rn(mn,mn.current&1),t.flags|=128,null):n&t.child.childLanes?NE(e,t,n):(rn(mn,mn.current&1),e=Wi(e,t,n),e!==null?e.sibling:null);rn(mn,mn.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return IE(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),rn(mn,mn.current),r)break;return null;case 22:case 23:return t.lanes=0,OE(e,t,n)}return Wi(e,t,n)}var ME,y0,DE,FE;ME=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};y0=function(){};DE=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,wa(_i.current);var o=null;switch(n){case"input":i=jp(e,i),r=jp(e,r),o=[];break;case"select":i=vn({},i,{value:void 0}),r=vn({},r,{value:void 0}),o=[];break;case"textarea":i=zp(e,i),r=zp(e,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=gd)}Vp(n,r);var a;n=null;for(f in i)if(!r.hasOwnProperty(f)&&i.hasOwnProperty(f)&&i[f]!=null)if(f==="style"){var l=i[f];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else f!=="dangerouslySetInnerHTML"&&f!=="children"&&f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(Lu.hasOwnProperty(f)?o||(o=[]):(o=o||[]).push(f,null));for(f in r){var u=r[f];if(l=i!=null?i[f]:void 0,r.hasOwnProperty(f)&&u!==l&&(u!=null||l!=null))if(f==="style")if(l){for(a in l)!l.hasOwnProperty(a)||u&&u.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in u)u.hasOwnProperty(a)&&l[a]!==u[a]&&(n||(n={}),n[a]=u[a])}else n||(o||(o=[]),o.push(f,n)),n=u;else f==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(o=o||[]).push(f,u)):f==="children"?typeof u!="string"&&typeof u!="number"||(o=o||[]).push(f,""+u):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&(Lu.hasOwnProperty(f)?(u!=null&&f==="onScroll"&&ln("scroll",e),o||l===u||(o=[])):(o=o||[]).push(f,u))}n&&(o=o||[]).push("style",n);var f=o;(t.updateQueue=f)&&(t.flags|=4)}};FE=function(e,t,n,r){n!==r&&(t.flags|=4)};function cu(e,t){if(!un)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Qn(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function FT(e,t,n){var r=t.pendingProps;switch(av(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qn(t),null;case 1:return pr(t.type)&&xd(),Qn(t),null;case 3:return r=t.stateNode,Zl(),sn(mr),sn(Zn),pv(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Mf(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Jr!==null&&(A0(Jr),Jr=null))),y0(e,t),Qn(t),null;case 5:mv(t);var i=wa(Gu.current);if(n=t.type,e!==null&&t.stateNode!=null)DE(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(Oe(166));return Qn(t),null}if(e=wa(_i.current),Mf(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[xi]=t,r[ju]=o,e=(t.mode&1)!==0,n){case"dialog":ln("cancel",r),ln("close",r);break;case"iframe":case"object":case"embed":ln("load",r);break;case"video":case"audio":for(i=0;i<gu.length;i++)ln(gu[i],r);break;case"source":ln("error",r);break;case"img":case"image":case"link":ln("error",r),ln("load",r);break;case"details":ln("toggle",r);break;case"input":Uy(r,o),ln("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},ln("invalid",r);break;case"textarea":Hy(r,o),ln("invalid",r)}Vp(n,o),i=null;for(var a in o)if(o.hasOwnProperty(a)){var l=o[a];a==="children"?typeof l=="string"?r.textContent!==l&&(o.suppressHydrationWarning!==!0&&If(r.textContent,l,e),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&If(r.textContent,l,e),i=["children",""+l]):Lu.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&ln("scroll",r)}switch(n){case"input":Cf(r),Vy(r,o,!0);break;case"textarea":Cf(r),Wy(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=gd)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=cx(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[xi]=t,e[ju]=r,ME(e,t,!1,!1),t.stateNode=e;e:{switch(a=Hp(n,r),n){case"dialog":ln("cancel",e),ln("close",e),i=r;break;case"iframe":case"object":case"embed":ln("load",e),i=r;break;case"video":case"audio":for(i=0;i<gu.length;i++)ln(gu[i],e);i=r;break;case"source":ln("error",e),i=r;break;case"img":case"image":case"link":ln("error",e),ln("load",e),i=r;break;case"details":ln("toggle",e),i=r;break;case"input":Uy(e,r),i=jp(e,r),ln("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=vn({},r,{value:void 0}),ln("invalid",e);break;case"textarea":Hy(e,r),i=zp(e,r),ln("invalid",e);break;default:i=r}Vp(n,i),l=i;for(o in l)if(l.hasOwnProperty(o)){var u=l[o];o==="style"?hx(e,u):o==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&fx(e,u)):o==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&Ou(e,u):typeof u=="number"&&Ou(e,""+u):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Lu.hasOwnProperty(o)?u!=null&&o==="onScroll"&&ln("scroll",e):u!=null&&H0(e,o,u,a))}switch(n){case"input":Cf(e),Vy(e,r,!1);break;case"textarea":Cf(e),Wy(e);break;case"option":r.value!=null&&e.setAttribute("value",""+jo(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?$l(e,!!r.multiple,o,!1):r.defaultValue!=null&&$l(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=gd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Qn(t),null;case 6:if(e&&t.stateNode!=null)FE(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(Oe(166));if(n=wa(Gu.current),wa(_i.current),Mf(t)){if(r=t.stateNode,n=t.memoizedProps,r[xi]=t,(o=r.nodeValue!==n)&&(e=Rr,e!==null))switch(e.tag){case 3:If(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&If(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[xi]=t,t.stateNode=r}return Qn(t),null;case 13:if(sn(mn),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(un&&br!==null&&t.mode&1&&!(t.flags&128))eE(),Kl(),t.flags|=98560,o=!1;else if(o=Mf(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(Oe(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(Oe(317));o[xi]=t}else Kl(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Qn(t),o=!1}else Jr!==null&&(A0(Jr),Jr=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||mn.current&1?Bn===0&&(Bn=3):bv())),t.updateQueue!==null&&(t.flags|=4),Qn(t),null);case 4:return Zl(),y0(e,t),e===null&&Fu(t.stateNode.containerInfo),Qn(t),null;case 10:return cv(t.type._context),Qn(t),null;case 17:return pr(t.type)&&xd(),Qn(t),null;case 19:if(sn(mn),o=t.memoizedState,o===null)return Qn(t),null;if(r=(t.flags&128)!==0,a=o.rendering,a===null)if(r)cu(o,!1);else{if(Bn!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=Cd(e),a!==null){for(t.flags|=128,cu(o,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,e=a.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return rn(mn,mn.current&1|2),t.child}e=e.sibling}o.tail!==null&&bn()>es&&(t.flags|=128,r=!0,cu(o,!1),t.lanes=4194304)}else{if(!r)if(e=Cd(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),cu(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!un)return Qn(t),null}else 2*bn()-o.renderingStartTime>es&&n!==1073741824&&(t.flags|=128,r=!0,cu(o,!1),t.lanes=4194304);o.isBackwards?(a.sibling=t.child,t.child=a):(n=o.last,n!==null?n.sibling=a:t.child=a,o.last=a)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=bn(),t.sibling=null,n=mn.current,rn(mn,r?n&1|2:n&1),t):(Qn(t),null);case 22:case 23:return Cv(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Cr&1073741824&&(Qn(t),t.subtreeFlags&6&&(t.flags|=8192)):Qn(t),null;case 24:return null;case 25:return null}throw Error(Oe(156,t.tag))}function BT(e,t){switch(av(t),t.tag){case 1:return pr(t.type)&&xd(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Zl(),sn(mr),sn(Zn),pv(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return mv(t),null;case 13:if(sn(mn),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Oe(340));Kl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return sn(mn),null;case 4:return Zl(),null;case 10:return cv(t.type._context),null;case 22:case 23:return Cv(),null;case 24:return null;default:return null}}var Bf=!1,Kn=!1,jT=typeof WeakSet=="function"?WeakSet:Set,Je=null;function Fl(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){_n(e,t,r)}else n.current=null}function g0(e,t,n){try{n()}catch(r){_n(e,t,r)}}var Mg=!1;function $T(e,t){if(t0=pd,e=Gx(),iv(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,l=-1,u=-1,f=0,h=0,m=e,p=null;t:for(;;){for(var L;m!==n||i!==0&&m.nodeType!==3||(l=a+i),m!==o||r!==0&&m.nodeType!==3||(u=a+r),m.nodeType===3&&(a+=m.nodeValue.length),(L=m.firstChild)!==null;)p=m,m=L;for(;;){if(m===e)break t;if(p===n&&++f===i&&(l=a),p===o&&++h===r&&(u=a),(L=m.nextSibling)!==null)break;m=p,p=m.parentNode}m=L}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(n0={focusedElem:e,selectionRange:n},pd=!1,Je=t;Je!==null;)if(t=Je,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Je=e;else for(;Je!==null;){t=Je;try{var O=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(O!==null){var k=O.memoizedProps,j=O.memoizedState,x=t.stateNode,w=x.getSnapshotBeforeUpdate(t.elementType===t.type?k:qr(t.type,k),j);x.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var C=t.stateNode.containerInfo;C.nodeType===1?C.textContent="":C.nodeType===9&&C.documentElement&&C.removeChild(C.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Oe(163))}}catch(U){_n(t,t.return,U)}if(e=t.sibling,e!==null){e.return=t.return,Je=e;break}Je=t.return}return O=Mg,Mg=!1,O}function Cu(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&g0(t,n,o)}i=i.next}while(i!==r)}}function ih(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function x0(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function BE(e){var t=e.alternate;t!==null&&(e.alternate=null,BE(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[xi],delete t[ju],delete t[o0],delete t[ST],delete t[wT])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function jE(e){return e.tag===5||e.tag===3||e.tag===4}function Dg(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||jE(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function E0(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=gd));else if(r!==4&&(e=e.child,e!==null))for(E0(e,t,n),e=e.sibling;e!==null;)E0(e,t,n),e=e.sibling}function _0(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(_0(e,t,n),e=e.sibling;e!==null;)_0(e,t,n),e=e.sibling}var Hn=null,Zr=!1;function go(e,t,n){for(n=n.child;n!==null;)$E(e,t,n),n=n.sibling}function $E(e,t,n){if(Ei&&typeof Ei.onCommitFiberUnmount=="function")try{Ei.onCommitFiberUnmount(Kd,n)}catch{}switch(n.tag){case 5:Kn||Fl(n,t);case 6:var r=Hn,i=Zr;Hn=null,go(e,t,n),Hn=r,Zr=i,Hn!==null&&(Zr?(e=Hn,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Hn.removeChild(n.stateNode));break;case 18:Hn!==null&&(Zr?(e=Hn,n=n.stateNode,e.nodeType===8?ep(e.parentNode,n):e.nodeType===1&&ep(e,n),Iu(e)):ep(Hn,n.stateNode));break;case 4:r=Hn,i=Zr,Hn=n.stateNode.containerInfo,Zr=!0,go(e,t,n),Hn=r,Zr=i;break;case 0:case 11:case 14:case 15:if(!Kn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&g0(n,t,a),i=i.next}while(i!==r)}go(e,t,n);break;case 1:if(!Kn&&(Fl(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){_n(n,t,l)}go(e,t,n);break;case 21:go(e,t,n);break;case 22:n.mode&1?(Kn=(r=Kn)||n.memoizedState!==null,go(e,t,n),Kn=r):go(e,t,n);break;default:go(e,t,n)}}function Fg(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new jT),t.forEach(function(r){var i=QT.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Qr(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,a=t,l=a;e:for(;l!==null;){switch(l.tag){case 5:Hn=l.stateNode,Zr=!1;break e;case 3:Hn=l.stateNode.containerInfo,Zr=!0;break e;case 4:Hn=l.stateNode.containerInfo,Zr=!0;break e}l=l.return}if(Hn===null)throw Error(Oe(160));$E(o,a,i),Hn=null,Zr=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(f){_n(i,t,f)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)GE(t,e),t=t.sibling}function GE(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Qr(t,e),pi(e),r&4){try{Cu(3,e,e.return),ih(3,e)}catch(k){_n(e,e.return,k)}try{Cu(5,e,e.return)}catch(k){_n(e,e.return,k)}}break;case 1:Qr(t,e),pi(e),r&512&&n!==null&&Fl(n,n.return);break;case 5:if(Qr(t,e),pi(e),r&512&&n!==null&&Fl(n,n.return),e.flags&32){var i=e.stateNode;try{Ou(i,"")}catch(k){_n(e,e.return,k)}}if(r&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,a=n!==null?n.memoizedProps:o,l=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&sx(i,o),Hp(l,a);var f=Hp(l,o);for(a=0;a<u.length;a+=2){var h=u[a],m=u[a+1];h==="style"?hx(i,m):h==="dangerouslySetInnerHTML"?fx(i,m):h==="children"?Ou(i,m):H0(i,h,m,f)}switch(l){case"input":$p(i,o);break;case"textarea":ux(i,o);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var L=o.value;L!=null?$l(i,!!o.multiple,L,!1):p!==!!o.multiple&&(o.defaultValue!=null?$l(i,!!o.multiple,o.defaultValue,!0):$l(i,!!o.multiple,o.multiple?[]:"",!1))}i[ju]=o}catch(k){_n(e,e.return,k)}}break;case 6:if(Qr(t,e),pi(e),r&4){if(e.stateNode===null)throw Error(Oe(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(k){_n(e,e.return,k)}}break;case 3:if(Qr(t,e),pi(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Iu(t.containerInfo)}catch(k){_n(e,e.return,k)}break;case 4:Qr(t,e),pi(e);break;case 13:Qr(t,e),pi(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Tv=bn())),r&4&&Fg(e);break;case 22:if(h=n!==null&&n.memoizedState!==null,e.mode&1?(Kn=(f=Kn)||h,Qr(t,e),Kn=f):Qr(t,e),pi(e),r&8192){if(f=e.memoizedState!==null,(e.stateNode.isHidden=f)&&!h&&e.mode&1)for(Je=e,h=e.child;h!==null;){for(m=Je=h;Je!==null;){switch(p=Je,L=p.child,p.tag){case 0:case 11:case 14:case 15:Cu(4,p,p.return);break;case 1:Fl(p,p.return);var O=p.stateNode;if(typeof O.componentWillUnmount=="function"){r=p,n=p.return;try{t=r,O.props=t.memoizedProps,O.state=t.memoizedState,O.componentWillUnmount()}catch(k){_n(r,n,k)}}break;case 5:Fl(p,p.return);break;case 22:if(p.memoizedState!==null){jg(m);continue}}L!==null?(L.return=p,Je=L):jg(m)}h=h.sibling}e:for(h=null,m=e;;){if(m.tag===5){if(h===null){h=m;try{i=m.stateNode,f?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=m.stateNode,u=m.memoizedProps.style,a=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=dx("display",a))}catch(k){_n(e,e.return,k)}}}else if(m.tag===6){if(h===null)try{m.stateNode.nodeValue=f?"":m.memoizedProps}catch(k){_n(e,e.return,k)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===e)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;m.sibling===null;){if(m.return===null||m.return===e)break e;h===m&&(h=null),m=m.return}h===m&&(h=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:Qr(t,e),pi(e),r&4&&Fg(e);break;case 21:break;default:Qr(t,e),pi(e)}}function pi(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(jE(n)){var r=n;break e}n=n.return}throw Error(Oe(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Ou(i,""),r.flags&=-33);var o=Dg(e);_0(e,o,i);break;case 3:case 4:var a=r.stateNode.containerInfo,l=Dg(e);E0(e,l,a);break;default:throw Error(Oe(161))}}catch(u){_n(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function GT(e,t,n){Je=e,zE(e)}function zE(e,t,n){for(var r=(e.mode&1)!==0;Je!==null;){var i=Je,o=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||Bf;if(!a){var l=i.alternate,u=l!==null&&l.memoizedState!==null||Kn;l=Bf;var f=Kn;if(Bf=a,(Kn=u)&&!f)for(Je=i;Je!==null;)a=Je,u=a.child,a.tag===22&&a.memoizedState!==null?$g(i):u!==null?(u.return=a,Je=u):$g(i);for(;o!==null;)Je=o,zE(o),o=o.sibling;Je=i,Bf=l,Kn=f}Bg(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,Je=o):Bg(e)}}function Bg(e){for(;Je!==null;){var t=Je;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Kn||ih(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Kn)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:qr(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&_g(t,o,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}_g(t,a,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var f=t.alternate;if(f!==null){var h=f.memoizedState;if(h!==null){var m=h.dehydrated;m!==null&&Iu(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Oe(163))}Kn||t.flags&512&&x0(t)}catch(p){_n(t,t.return,p)}}if(t===e){Je=null;break}if(n=t.sibling,n!==null){n.return=t.return,Je=n;break}Je=t.return}}function jg(e){for(;Je!==null;){var t=Je;if(t===e){Je=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Je=n;break}Je=t.return}}function $g(e){for(;Je!==null;){var t=Je;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ih(4,t)}catch(u){_n(t,n,u)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(u){_n(t,i,u)}}var o=t.return;try{x0(t)}catch(u){_n(t,o,u)}break;case 5:var a=t.return;try{x0(t)}catch(u){_n(t,a,u)}}}catch(u){_n(t,t.return,u)}if(t===e){Je=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Je=l;break}Je=t.return}}var zT=Math.ceil,Ld=Xi.ReactCurrentDispatcher,Sv=Xi.ReactCurrentOwner,Gr=Xi.ReactCurrentBatchConfig,Xt=0,Vn=null,Pn=null,Wn=0,Cr=0,Bl=Uo(0),Bn=0,Hu=null,ka=0,oh=0,wv=0,bu=null,dr=null,Tv=0,es=1/0,Bi=null,Od=!1,S0=null,Mo=null,jf=!1,bo=null,Pd=0,Ru=0,w0=null,id=-1,od=0;function rr(){return Xt&6?bn():id!==-1?id:id=bn()}function Do(e){return e.mode&1?Xt&2&&Wn!==0?Wn&-Wn:AT.transition!==null?(od===0&&(od=Ax()),od):(e=Zt,e!==0||(e=window.event,e=e===void 0?16:kx(e.type)),e):1}function ni(e,t,n,r){if(50<Ru)throw Ru=0,w0=null,Error(Oe(185));Zu(e,n,r),(!(Xt&2)||e!==Vn)&&(e===Vn&&(!(Xt&2)&&(oh|=n),Bn===4&&Ao(e,Wn)),vr(e,r),n===1&&Xt===0&&!(t.mode&1)&&(es=bn()+500,th&&Vo()))}function vr(e,t){var n=e.callbackNode;Aw(e,t);var r=md(e,e===Vn?Wn:0);if(r===0)n!==null&&Qy(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Qy(n),t===1)e.tag===0?TT(Gg.bind(null,e)):qx(Gg.bind(null,e)),ET(function(){!(Xt&6)&&Vo()}),n=null;else{switch(Cx(r)){case 1:n=K0;break;case 4:n=wx;break;case 16:n=hd;break;case 536870912:n=Tx;break;default:n=hd}n=KE(n,UE.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function UE(e,t){if(id=-1,od=0,Xt&6)throw Error(Oe(327));var n=e.callbackNode;if(Hl()&&e.callbackNode!==n)return null;var r=md(e,e===Vn?Wn:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=kd(e,r);else{t=r;var i=Xt;Xt|=2;var o=HE();(Vn!==e||Wn!==t)&&(Bi=null,es=bn()+500,Aa(e,t));do try{HT();break}catch(l){VE(e,l)}while(!0);uv(),Ld.current=o,Xt=i,Pn!==null?t=0:(Vn=null,Wn=0,t=Bn)}if(t!==0){if(t===2&&(i=Kp(e),i!==0&&(r=i,t=T0(e,i))),t===1)throw n=Hu,Aa(e,0),Ao(e,r),vr(e,bn()),n;if(t===6)Ao(e,r);else{if(i=e.current.alternate,!(r&30)&&!UT(i)&&(t=kd(e,r),t===2&&(o=Kp(e),o!==0&&(r=o,t=T0(e,o))),t===1))throw n=Hu,Aa(e,0),Ao(e,r),vr(e,bn()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(Oe(345));case 2:Ea(e,dr,Bi);break;case 3:if(Ao(e,r),(r&130023424)===r&&(t=Tv+500-bn(),10<t)){if(md(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){rr(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=i0(Ea.bind(null,e,dr,Bi),t);break}Ea(e,dr,Bi);break;case 4:if(Ao(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-ti(r);o=1<<a,a=t[a],a>i&&(i=a),r&=~o}if(r=i,r=bn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*zT(r/1960))-r,10<r){e.timeoutHandle=i0(Ea.bind(null,e,dr,Bi),r);break}Ea(e,dr,Bi);break;case 5:Ea(e,dr,Bi);break;default:throw Error(Oe(329))}}}return vr(e,bn()),e.callbackNode===n?UE.bind(null,e):null}function T0(e,t){var n=bu;return e.current.memoizedState.isDehydrated&&(Aa(e,t).flags|=256),e=kd(e,t),e!==2&&(t=dr,dr=n,t!==null&&A0(t)),e}function A0(e){dr===null?dr=e:dr.push.apply(dr,e)}function UT(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!ri(o(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ao(e,t){for(t&=~wv,t&=~oh,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ti(t),r=1<<n;e[n]=-1,t&=~r}}function Gg(e){if(Xt&6)throw Error(Oe(327));Hl();var t=md(e,0);if(!(t&1))return vr(e,bn()),null;var n=kd(e,t);if(e.tag!==0&&n===2){var r=Kp(e);r!==0&&(t=r,n=T0(e,r))}if(n===1)throw n=Hu,Aa(e,0),Ao(e,t),vr(e,bn()),n;if(n===6)throw Error(Oe(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ea(e,dr,Bi),vr(e,bn()),null}function Av(e,t){var n=Xt;Xt|=1;try{return e(t)}finally{Xt=n,Xt===0&&(es=bn()+500,th&&Vo())}}function Na(e){bo!==null&&bo.tag===0&&!(Xt&6)&&Hl();var t=Xt;Xt|=1;var n=Gr.transition,r=Zt;try{if(Gr.transition=null,Zt=1,e)return e()}finally{Zt=r,Gr.transition=n,Xt=t,!(Xt&6)&&Vo()}}function Cv(){Cr=Bl.current,sn(Bl)}function Aa(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,xT(n)),Pn!==null)for(n=Pn.return;n!==null;){var r=n;switch(av(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&xd();break;case 3:Zl(),sn(mr),sn(Zn),pv();break;case 5:mv(r);break;case 4:Zl();break;case 13:sn(mn);break;case 19:sn(mn);break;case 10:cv(r.type._context);break;case 22:case 23:Cv()}n=n.return}if(Vn=e,Pn=e=Fo(e.current,null),Wn=Cr=t,Bn=0,Hu=null,wv=oh=ka=0,dr=bu=null,Sa!==null){for(t=0;t<Sa.length;t++)if(n=Sa[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var a=o.next;o.next=i,r.next=a}n.pending=r}Sa=null}return e}function VE(e,t){do{var n=Pn;try{if(uv(),td.current=Rd,bd){for(var r=pn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}bd=!1}if(Pa=0,Un=Fn=pn=null,Au=!1,zu=0,Sv.current=null,n===null||n.return===null){Bn=1,Hu=t,Pn=null;break}e:{var o=e,a=n.return,l=n,u=t;if(t=Wn,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var f=u,h=l,m=h.tag;if(!(h.mode&1)&&(m===0||m===11||m===15)){var p=h.alternate;p?(h.updateQueue=p.updateQueue,h.memoizedState=p.memoizedState,h.lanes=p.lanes):(h.updateQueue=null,h.memoizedState=null)}var L=Rg(a);if(L!==null){L.flags&=-257,Lg(L,a,l,o,t),L.mode&1&&bg(o,f,t),t=L,u=f;var O=t.updateQueue;if(O===null){var k=new Set;k.add(u),t.updateQueue=k}else O.add(u);break e}else{if(!(t&1)){bg(o,f,t),bv();break e}u=Error(Oe(426))}}else if(un&&l.mode&1){var j=Rg(a);if(j!==null){!(j.flags&65536)&&(j.flags|=256),Lg(j,a,l,o,t),lv(Jl(u,l));break e}}o=u=Jl(u,l),Bn!==4&&(Bn=2),bu===null?bu=[o]:bu.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var x=bE(o,u,t);Eg(o,x);break e;case 1:l=u;var w=o.type,C=o.stateNode;if(!(o.flags&128)&&(typeof w.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(Mo===null||!Mo.has(C)))){o.flags|=65536,t&=-t,o.lanes|=t;var U=RE(o,l,t);Eg(o,U);break e}}o=o.return}while(o!==null)}XE(n)}catch(X){t=X,Pn===n&&n!==null&&(Pn=n=n.return);continue}break}while(!0)}function HE(){var e=Ld.current;return Ld.current=Rd,e===null?Rd:e}function bv(){(Bn===0||Bn===3||Bn===2)&&(Bn=4),Vn===null||!(ka&268435455)&&!(oh&268435455)||Ao(Vn,Wn)}function kd(e,t){var n=Xt;Xt|=2;var r=HE();(Vn!==e||Wn!==t)&&(Bi=null,Aa(e,t));do try{VT();break}catch(i){VE(e,i)}while(!0);if(uv(),Xt=n,Ld.current=r,Pn!==null)throw Error(Oe(261));return Vn=null,Wn=0,Bn}function VT(){for(;Pn!==null;)WE(Pn)}function HT(){for(;Pn!==null&&!vw();)WE(Pn)}function WE(e){var t=QE(e.alternate,e,Cr);e.memoizedProps=e.pendingProps,t===null?XE(e):Pn=t,Sv.current=null}function XE(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=BT(n,t),n!==null){n.flags&=32767,Pn=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Bn=6,Pn=null;return}}else if(n=FT(n,t,Cr),n!==null){Pn=n;return}if(t=t.sibling,t!==null){Pn=t;return}Pn=t=e}while(t!==null);Bn===0&&(Bn=5)}function Ea(e,t,n){var r=Zt,i=Gr.transition;try{Gr.transition=null,Zt=1,WT(e,t,n,r)}finally{Gr.transition=i,Zt=r}return null}function WT(e,t,n,r){do Hl();while(bo!==null);if(Xt&6)throw Error(Oe(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(Oe(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(Cw(e,o),e===Vn&&(Pn=Vn=null,Wn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||jf||(jf=!0,KE(hd,function(){return Hl(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Gr.transition,Gr.transition=null;var a=Zt;Zt=1;var l=Xt;Xt|=4,Sv.current=null,$T(e,n),GE(n,e),dT(n0),pd=!!t0,n0=t0=null,e.current=n,GT(n),yw(),Xt=l,Zt=a,Gr.transition=o}else e.current=n;if(jf&&(jf=!1,bo=e,Pd=i),o=e.pendingLanes,o===0&&(Mo=null),Ew(n.stateNode),vr(e,bn()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Od)throw Od=!1,e=S0,S0=null,e;return Pd&1&&e.tag!==0&&Hl(),o=e.pendingLanes,o&1?e===w0?Ru++:(Ru=0,w0=e):Ru=0,Vo(),null}function Hl(){if(bo!==null){var e=Cx(Pd),t=Gr.transition,n=Zt;try{if(Gr.transition=null,Zt=16>e?16:e,bo===null)var r=!1;else{if(e=bo,bo=null,Pd=0,Xt&6)throw Error(Oe(331));var i=Xt;for(Xt|=4,Je=e.current;Je!==null;){var o=Je,a=o.child;if(Je.flags&16){var l=o.deletions;if(l!==null){for(var u=0;u<l.length;u++){var f=l[u];for(Je=f;Je!==null;){var h=Je;switch(h.tag){case 0:case 11:case 15:Cu(8,h,o)}var m=h.child;if(m!==null)m.return=h,Je=m;else for(;Je!==null;){h=Je;var p=h.sibling,L=h.return;if(BE(h),h===f){Je=null;break}if(p!==null){p.return=L,Je=p;break}Je=L}}}var O=o.alternate;if(O!==null){var k=O.child;if(k!==null){O.child=null;do{var j=k.sibling;k.sibling=null,k=j}while(k!==null)}}Je=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,Je=a;else e:for(;Je!==null;){if(o=Je,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Cu(9,o,o.return)}var x=o.sibling;if(x!==null){x.return=o.return,Je=x;break e}Je=o.return}}var w=e.current;for(Je=w;Je!==null;){a=Je;var C=a.child;if(a.subtreeFlags&2064&&C!==null)C.return=a,Je=C;else e:for(a=w;Je!==null;){if(l=Je,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:ih(9,l)}}catch(X){_n(l,l.return,X)}if(l===a){Je=null;break e}var U=l.sibling;if(U!==null){U.return=l.return,Je=U;break e}Je=l.return}}if(Xt=i,Vo(),Ei&&typeof Ei.onPostCommitFiberRoot=="function")try{Ei.onPostCommitFiberRoot(Kd,e)}catch{}r=!0}return r}finally{Zt=n,Gr.transition=t}}return!1}function zg(e,t,n){t=Jl(n,t),t=bE(e,t,1),e=Io(e,t,1),t=rr(),e!==null&&(Zu(e,1,t),vr(e,t))}function _n(e,t,n){if(e.tag===3)zg(e,e,n);else for(;t!==null;){if(t.tag===3){zg(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Mo===null||!Mo.has(r))){e=Jl(n,e),e=RE(t,e,1),t=Io(t,e,1),e=rr(),t!==null&&(Zu(t,1,e),vr(t,e));break}}t=t.return}}function XT(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=rr(),e.pingedLanes|=e.suspendedLanes&n,Vn===e&&(Wn&n)===n&&(Bn===4||Bn===3&&(Wn&130023424)===Wn&&500>bn()-Tv?Aa(e,0):wv|=n),vr(e,t)}function YE(e,t){t===0&&(e.mode&1?(t=Lf,Lf<<=1,!(Lf&130023424)&&(Lf=4194304)):t=1);var n=rr();e=Hi(e,t),e!==null&&(Zu(e,t,n),vr(e,n))}function YT(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),YE(e,n)}function QT(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(Oe(314))}r!==null&&r.delete(t),YE(e,n)}var QE;QE=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||mr.current)hr=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return hr=!1,DT(e,t,n);hr=!!(e.flags&131072)}else hr=!1,un&&t.flags&1048576&&Zx(t,Sd,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;rd(e,t),e=t.pendingProps;var i=Ql(t,Zn.current);Vl(t,n),i=yv(null,t,r,e,i,n);var o=gv();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,pr(r)?(o=!0,Ed(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,dv(t),i.updater=nh,t.stateNode=i,i._reactInternals=t,f0(t,r,e,n),t=m0(null,t,r,!0,o,n)):(t.tag=0,un&&o&&ov(t),tr(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(rd(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=qT(r),e=qr(r,e),i){case 0:t=h0(null,t,r,e,n);break e;case 1:t=kg(null,t,r,e,n);break e;case 11:t=Og(null,t,r,e,n);break e;case 14:t=Pg(null,t,r,qr(r.type,e),n);break e}throw Error(Oe(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:qr(r,i),h0(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:qr(r,i),kg(e,t,r,i,n);case 3:e:{if(kE(t),e===null)throw Error(Oe(387));r=t.pendingProps,o=t.memoizedState,i=o.element,nE(e,t),Ad(t,r,null,n);var a=t.memoizedState;if(r=a.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=Jl(Error(Oe(423)),t),t=Ng(e,t,r,n,i);break e}else if(r!==i){i=Jl(Error(Oe(424)),t),t=Ng(e,t,r,n,i);break e}else for(br=No(t.stateNode.containerInfo.firstChild),Rr=t,un=!0,Jr=null,n=aE(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Kl(),r===i){t=Wi(e,t,n);break e}tr(e,t,r,n)}t=t.child}return t;case 5:return lE(t),e===null&&s0(t),r=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,a=i.children,r0(r,i)?a=null:o!==null&&r0(r,o)&&(t.flags|=32),PE(e,t),tr(e,t,a,n),t.child;case 6:return e===null&&s0(t),null;case 13:return NE(e,t,n);case 4:return hv(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=ql(t,null,r,n):tr(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:qr(r,i),Og(e,t,r,i,n);case 7:return tr(e,t,t.pendingProps,n),t.child;case 8:return tr(e,t,t.pendingProps.children,n),t.child;case 12:return tr(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,a=i.value,rn(wd,r._currentValue),r._currentValue=a,o!==null)if(ri(o.value,a)){if(o.children===i.children&&!mr.current){t=Wi(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var l=o.dependencies;if(l!==null){a=o.child;for(var u=l.firstContext;u!==null;){if(u.context===r){if(o.tag===1){u=zi(-1,n&-n),u.tag=2;var f=o.updateQueue;if(f!==null){f=f.shared;var h=f.pending;h===null?u.next=u:(u.next=h.next,h.next=u),f.pending=u}}o.lanes|=n,u=o.alternate,u!==null&&(u.lanes|=n),u0(o.return,n,t),l.lanes|=n;break}u=u.next}}else if(o.tag===10)a=o.type===t.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(Oe(341));a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),u0(a,n,t),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===t){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}tr(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Vl(t,n),i=zr(i),r=r(i),t.flags|=1,tr(e,t,r,n),t.child;case 14:return r=t.type,i=qr(r,t.pendingProps),i=qr(r.type,i),Pg(e,t,r,i,n);case 15:return LE(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:qr(r,i),rd(e,t),t.tag=1,pr(r)?(e=!0,Ed(t)):e=!1,Vl(t,n),iE(t,r,i),f0(t,r,i,n),m0(null,t,r,!0,e,n);case 19:return IE(e,t,n);case 22:return OE(e,t,n)}throw Error(Oe(156,t.tag))};function KE(e,t){return Sx(e,t)}function KT(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $r(e,t,n,r){return new KT(e,t,n,r)}function Rv(e){return e=e.prototype,!(!e||!e.isReactComponent)}function qT(e){if(typeof e=="function")return Rv(e)?1:0;if(e!=null){if(e=e.$$typeof,e===X0)return 11;if(e===Y0)return 14}return 2}function Fo(e,t){var n=e.alternate;return n===null?(n=$r(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ad(e,t,n,r,i,o){var a=2;if(r=e,typeof e=="function")Rv(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case Rl:return Ca(n.children,i,o,t);case W0:a=8,i|=8;break;case Mp:return e=$r(12,n,t,i|2),e.elementType=Mp,e.lanes=o,e;case Dp:return e=$r(13,n,t,i),e.elementType=Dp,e.lanes=o,e;case Fp:return e=$r(19,n,t,i),e.elementType=Fp,e.lanes=o,e;case ox:return ah(n,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case rx:a=10;break e;case ix:a=9;break e;case X0:a=11;break e;case Y0:a=14;break e;case So:a=16,r=null;break e}throw Error(Oe(130,e==null?e:typeof e,""))}return t=$r(a,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function Ca(e,t,n,r){return e=$r(7,e,r,t),e.lanes=n,e}function ah(e,t,n,r){return e=$r(22,e,r,t),e.elementType=ox,e.lanes=n,e.stateNode={isHidden:!1},e}function sp(e,t,n){return e=$r(6,e,null,t),e.lanes=n,e}function up(e,t,n){return t=$r(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function ZT(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Um(0),this.expirationTimes=Um(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Um(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Lv(e,t,n,r,i,o,a,l,u){return e=new ZT(e,t,n,l,u),t===1?(t=1,o===!0&&(t|=8)):t=0,o=$r(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},dv(o),e}function JT(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:bl,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function qE(e){if(!e)return $o;e=e._reactInternals;e:{if(Ba(e)!==e||e.tag!==1)throw Error(Oe(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(pr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Oe(171))}if(e.tag===1){var n=e.type;if(pr(n))return Kx(e,n,t)}return t}function ZE(e,t,n,r,i,o,a,l,u){return e=Lv(n,r,!0,e,i,o,a,l,u),e.context=qE(null),n=e.current,r=rr(),i=Do(n),o=zi(r,i),o.callback=t??null,Io(n,o,i),e.current.lanes=i,Zu(e,i,r),vr(e,r),e}function lh(e,t,n,r){var i=t.current,o=rr(),a=Do(i);return n=qE(n),t.context===null?t.context=n:t.pendingContext=n,t=zi(o,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Io(i,t,a),e!==null&&(ni(e,i,a,o),ed(e,i,a)),a}function Nd(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Ug(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Ov(e,t){Ug(e,t),(e=e.alternate)&&Ug(e,t)}function eA(){return null}var JE=typeof reportError=="function"?reportError:function(e){console.error(e)};function Pv(e){this._internalRoot=e}sh.prototype.render=Pv.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Oe(409));lh(e,t,null,null)};sh.prototype.unmount=Pv.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Na(function(){lh(null,e,null,null)}),t[Vi]=null}};function sh(e){this._internalRoot=e}sh.prototype.unstable_scheduleHydration=function(e){if(e){var t=Lx();e={blockedOn:null,target:e,priority:t};for(var n=0;n<To.length&&t!==0&&t<To[n].priority;n++);To.splice(n,0,e),n===0&&Px(e)}};function kv(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function uh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Vg(){}function tA(e,t,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var f=Nd(a);o.call(f)}}var a=ZE(t,r,e,0,null,!1,!1,"",Vg);return e._reactRootContainer=a,e[Vi]=a.current,Fu(e.nodeType===8?e.parentNode:e),Na(),a}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var f=Nd(u);l.call(f)}}var u=Lv(e,0,!1,null,null,!1,!1,"",Vg);return e._reactRootContainer=u,e[Vi]=u.current,Fu(e.nodeType===8?e.parentNode:e),Na(function(){lh(t,u,n,r)}),u}function ch(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if(typeof i=="function"){var l=i;i=function(){var u=Nd(a);l.call(u)}}lh(t,a,e,i)}else a=tA(n,t,e,i,r);return Nd(a)}bx=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=yu(t.pendingLanes);n!==0&&(q0(t,n|1),vr(t,bn()),!(Xt&6)&&(es=bn()+500,Vo()))}break;case 13:Na(function(){var r=Hi(e,1);if(r!==null){var i=rr();ni(r,e,1,i)}}),Ov(e,1)}};Z0=function(e){if(e.tag===13){var t=Hi(e,134217728);if(t!==null){var n=rr();ni(t,e,134217728,n)}Ov(e,134217728)}};Rx=function(e){if(e.tag===13){var t=Do(e),n=Hi(e,t);if(n!==null){var r=rr();ni(n,e,t,r)}Ov(e,t)}};Lx=function(){return Zt};Ox=function(e,t){var n=Zt;try{return Zt=e,t()}finally{Zt=n}};Xp=function(e,t,n){switch(t){case"input":if($p(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=eh(r);if(!i)throw Error(Oe(90));lx(r),$p(r,i)}}}break;case"textarea":ux(e,n);break;case"select":t=n.value,t!=null&&$l(e,!!n.multiple,t,!1)}};vx=Av;yx=Na;var nA={usingClientEntryPoint:!1,Events:[ec,kl,eh,mx,px,Av]},fu={findFiberByHostInstance:_a,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rA={bundleType:fu.bundleType,version:fu.version,rendererPackageName:fu.rendererPackageName,rendererConfig:fu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Xi.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Ex(e),e===null?null:e.stateNode},findFiberByHostInstance:fu.findFiberByHostInstance||eA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $f=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$f.isDisabled&&$f.supportsFiber)try{Kd=$f.inject(rA),Ei=$f}catch{}}Or.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nA;Or.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!kv(t))throw Error(Oe(200));return JT(e,t,null,n)};Or.createRoot=function(e,t){if(!kv(e))throw Error(Oe(299));var n=!1,r="",i=JE;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Lv(e,1,!1,null,null,n,!1,r,i),e[Vi]=t.current,Fu(e.nodeType===8?e.parentNode:e),new Pv(t)};Or.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Oe(188)):(e=Object.keys(e).join(","),Error(Oe(268,e)));return e=Ex(t),e=e===null?null:e.stateNode,e};Or.flushSync=function(e){return Na(e)};Or.hydrate=function(e,t,n){if(!uh(t))throw Error(Oe(200));return ch(null,e,t,!0,n)};Or.hydrateRoot=function(e,t,n){if(!kv(e))throw Error(Oe(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",a=JE;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=ZE(t,null,e,1,n??null,i,!1,o,a),e[Vi]=t.current,Fu(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new sh(t)};Or.render=function(e,t,n){if(!uh(t))throw Error(Oe(200));return ch(null,e,t,!1,n)};Or.unmountComponentAtNode=function(e){if(!uh(e))throw Error(Oe(40));return e._reactRootContainer?(Na(function(){ch(null,null,e,!1,function(){e._reactRootContainer=null,e[Vi]=null})}),!0):!1};Or.unstable_batchedUpdates=Av;Or.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!uh(n))throw Error(Oe(200));if(e==null||e._reactInternals===void 0)throw Error(Oe(38));return ch(e,t,n,!1,r)};Or.version="18.2.0-next-9e3b772b8-20220608";function e_(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e_)}catch(e){console.error(e)}}e_(),Z1.exports=Or;var iA=Z1.exports,Hg=iA;Np.createRoot=Hg.createRoot,Np.hydrateRoot=Hg.hydrateRoot;/**
 * @remix-run/router v1.13.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wu(){return Wu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wu.apply(this,arguments)}var Ro;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Ro||(Ro={}));const Wg="popstate";function oA(e){e===void 0&&(e={});function t(i,o){let{pathname:a="/",search:l="",hash:u=""}=ja(i.location.hash.substr(1));return!a.startsWith("/")&&!a.startsWith(".")&&(a="/"+a),C0("",{pathname:a,search:l,hash:u},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(i,o){let a=i.document.querySelector("base"),l="";if(a&&a.getAttribute("href")){let u=i.location.href,f=u.indexOf("#");l=f===-1?u:u.slice(0,f)}return l+"#"+(typeof o=="string"?o:Id(o))}function r(i,o){fh(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(o)+")")}return lA(t,n,r,e)}function kn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function fh(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function aA(){return Math.random().toString(36).substr(2,8)}function Xg(e,t){return{usr:e.state,key:e.key,idx:t}}function C0(e,t,n,r){return n===void 0&&(n=null),Wu({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?ja(t):t,{state:n,key:t&&t.key||r||aA()})}function Id(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function ja(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function lA(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,a=i.history,l=Ro.Pop,u=null,f=h();f==null&&(f=0,a.replaceState(Wu({},a.state,{idx:f}),""));function h(){return(a.state||{idx:null}).idx}function m(){l=Ro.Pop;let j=h(),x=j==null?null:j-f;f=j,u&&u({action:l,location:k.location,delta:x})}function p(j,x){l=Ro.Push;let w=C0(k.location,j,x);n&&n(w,j),f=h()+1;let C=Xg(w,f),U=k.createHref(w);try{a.pushState(C,"",U)}catch(X){if(X instanceof DOMException&&X.name==="DataCloneError")throw X;i.location.assign(U)}o&&u&&u({action:l,location:k.location,delta:1})}function L(j,x){l=Ro.Replace;let w=C0(k.location,j,x);n&&n(w,j),f=h();let C=Xg(w,f),U=k.createHref(w);a.replaceState(C,"",U),o&&u&&u({action:l,location:k.location,delta:0})}function O(j){let x=i.location.origin!=="null"?i.location.origin:i.location.href,w=typeof j=="string"?j:Id(j);return kn(x,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,x)}let k={get action(){return l},get location(){return e(i,a)},listen(j){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(Wg,m),u=j,()=>{i.removeEventListener(Wg,m),u=null}},createHref(j){return t(i,j)},createURL:O,encodeLocation(j){let x=O(j);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:p,replace:L,go(j){return a.go(j)}};return k}var Yg;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Yg||(Yg={}));function sA(e,t,n){n===void 0&&(n="/");let r=typeof t=="string"?ja(t):t,i=Nv(r.pathname||"/",n);if(i==null)return null;let o=t_(e);uA(o);let a=null;for(let l=0;a==null&&l<o.length;++l)a=gA(o[l],_A(i));return a}function t_(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,a,l)=>{let u={relativePath:l===void 0?o.path||"":l,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};u.relativePath.startsWith("/")&&(kn(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let f=Bo([r,u.relativePath]),h=n.concat(u);o.children&&o.children.length>0&&(kn(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+f+'".')),t_(o.children,t,h,f)),!(o.path==null&&!o.index)&&t.push({path:f,score:vA(f,o.index),routesMeta:h})};return e.forEach((o,a)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))i(o,a);else for(let u of n_(o.path))i(o,a,u)}),t}function n_(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let a=n_(r.join("/")),l=[];return l.push(...a.map(u=>u===""?o:[o,u].join("/"))),i&&l.push(...a),l.map(u=>e.startsWith("/")&&u===""?"/":u)}function uA(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:yA(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const cA=/^:\w+$/,fA=3,dA=2,hA=1,mA=10,pA=-2,Qg=e=>e==="*";function vA(e,t){let n=e.split("/"),r=n.length;return n.some(Qg)&&(r+=pA),t&&(r+=dA),n.filter(i=>!Qg(i)).reduce((i,o)=>i+(cA.test(o)?fA:o===""?hA:mA),r)}function yA(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function gA(e,t){let{routesMeta:n}=e,r={},i="/",o=[];for(let a=0;a<n.length;++a){let l=n[a],u=a===n.length-1,f=i==="/"?t:t.slice(i.length)||"/",h=xA({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},f);if(!h)return null;Object.assign(r,h.params);let m=l.route;o.push({params:r,pathname:Bo([i,h.pathname]),pathnameBase:AA(Bo([i,h.pathnameBase])),route:m}),h.pathnameBase!=="/"&&(i=Bo([i,h.pathnameBase]))}return o}function xA(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=EA(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((f,h,m)=>{let{paramName:p,isOptional:L}=h;if(p==="*"){let k=l[m]||"";a=o.slice(0,o.length-k.length).replace(/(.)\/+$/,"$1")}const O=l[m];return L&&!O?f[p]=void 0:f[p]=SA(O||"",p),f},{}),pathname:o,pathnameBase:a,pattern:e}}function EA(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),fh(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,(a,l,u)=>(r.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function _A(e){try{return decodeURI(e)}catch(t){return fh(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function SA(e,t){try{return decodeURIComponent(e)}catch(n){return fh(!1,'The value for the URL param "'+t+'" will not be decoded because'+(' the string "'+e+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),e}}function Nv(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function wA(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?ja(e):e;return{pathname:n?n.startsWith("/")?n:TA(n,t):t,search:CA(r),hash:bA(i)}}function TA(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function cp(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function r_(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function i_(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=ja(e):(i=Wu({},e),kn(!i.pathname||!i.pathname.includes("?"),cp("?","pathname","search",i)),kn(!i.pathname||!i.pathname.includes("#"),cp("#","pathname","hash",i)),kn(!i.search||!i.search.includes("#"),cp("#","search","hash",i)));let o=e===""||i.pathname==="",a=o?"/":i.pathname,l;if(a==null)l=n;else if(r){let m=t[t.length-1].replace(/^\//,"").split("/");if(a.startsWith("..")){let p=a.split("/");for(;p[0]==="..";)p.shift(),m.pop();i.pathname=p.join("/")}l="/"+m.join("/")}else{let m=t.length-1;if(a.startsWith("..")){let p=a.split("/");for(;p[0]==="..";)p.shift(),m-=1;i.pathname=p.join("/")}l=m>=0?t[m]:"/"}let u=wA(i,l),f=a&&a!=="/"&&a.endsWith("/"),h=(o||a===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(f||h)&&(u.pathname+="/"),u}const Bo=e=>e.join("/").replace(/\/\/+/g,"/"),AA=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),CA=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,bA=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function RA(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const o_=["post","put","patch","delete"];new Set(o_);const LA=["get",...o_];new Set(LA);/**
 * React Router v6.20.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Md(){return Md=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Md.apply(this,arguments)}const Iv=re.createContext(null),OA=re.createContext(null),as=re.createContext(null),dh=re.createContext(null),Ho=re.createContext({outlet:null,matches:[],isDataRoute:!1}),a_=re.createContext(null);function PA(e,t){let{relative:n}=t===void 0?{}:t;nc()||kn(!1);let{basename:r,navigator:i}=re.useContext(as),{hash:o,pathname:a,search:l}=s_(e,{relative:n}),u=a;return r!=="/"&&(u=a==="/"?r:Bo([r,a])),i.createHref({pathname:u,search:l,hash:o})}function nc(){return re.useContext(dh)!=null}function hh(){return nc()||kn(!1),re.useContext(dh).location}function l_(e){re.useContext(as).static||re.useLayoutEffect(e)}function Mv(){let{isDataRoute:e}=re.useContext(Ho);return e?HA():kA()}function kA(){nc()||kn(!1);let e=re.useContext(Iv),{basename:t,navigator:n}=re.useContext(as),{matches:r}=re.useContext(Ho),{pathname:i}=hh(),o=JSON.stringify(r_(r).map(u=>u.pathnameBase)),a=re.useRef(!1);return l_(()=>{a.current=!0}),re.useCallback(function(u,f){if(f===void 0&&(f={}),!a.current)return;if(typeof u=="number"){n.go(u);return}let h=i_(u,JSON.parse(o),i,f.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Bo([t,h.pathname])),(f.replace?n.replace:n.push)(h,f.state,f)},[t,n,o,i,e])}function NA(){let{matches:e}=re.useContext(Ho),t=e[e.length-1];return t?t.params:{}}function s_(e,t){let{relative:n}=t===void 0?{}:t,{matches:r}=re.useContext(Ho),{pathname:i}=hh(),o=JSON.stringify(r_(r).map(a=>a.pathnameBase));return re.useMemo(()=>i_(e,JSON.parse(o),i,n==="path"),[e,o,i,n])}function IA(e,t){return MA(e,t)}function MA(e,t,n){nc()||kn(!1);let{navigator:r}=re.useContext(as),{matches:i}=re.useContext(Ho),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=hh(),f;if(t){var h;let k=typeof t=="string"?ja(t):t;l==="/"||(h=k.pathname)!=null&&h.startsWith(l)||kn(!1),f=k}else f=u;let m=f.pathname||"/",p=l==="/"?m:m.slice(l.length)||"/",L=sA(e,{pathname:p}),O=$A(L&&L.map(k=>Object.assign({},k,{params:Object.assign({},a,k.params),pathname:Bo([l,r.encodeLocation?r.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?l:Bo([l,r.encodeLocation?r.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),i,n);return t&&O?re.createElement(dh.Provider,{value:{location:Md({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:Ro.Pop}},O):O}function DA(){let e=VA(),t=RA(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},o=null;return re.createElement(re.Fragment,null,re.createElement("h2",null,"Unexpected Application Error!"),re.createElement("h3",{style:{fontStyle:"italic"}},t),n?re.createElement("pre",{style:i},n):null,o)}const FA=re.createElement(DA,null);class BA extends re.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error||n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error?re.createElement(Ho.Provider,{value:this.props.routeContext},re.createElement(a_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function jA(e){let{routeContext:t,match:n,children:r}=e,i=re.useContext(Iv);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),re.createElement(Ho.Provider,{value:t},r)}function $A(e,t,n){var r;if(t===void 0&&(t=[]),n===void 0&&(n=null),e==null){var i;if((i=n)!=null&&i.errors)e=n.matches;else return null}let o=e,a=(r=n)==null?void 0:r.errors;if(a!=null){let l=o.findIndex(u=>u.route.id&&(a==null?void 0:a[u.route.id]));l>=0||kn(!1),o=o.slice(0,Math.min(o.length,l+1))}return o.reduceRight((l,u,f)=>{let h=u.route.id?a==null?void 0:a[u.route.id]:null,m=null;n&&(m=u.route.errorElement||FA);let p=t.concat(o.slice(0,f+1)),L=()=>{let O;return h?O=m:u.route.Component?O=re.createElement(u.route.Component,null):u.route.element?O=u.route.element:O=l,re.createElement(jA,{match:u,routeContext:{outlet:l,matches:p,isDataRoute:n!=null},children:O})};return n&&(u.route.ErrorBoundary||u.route.errorElement||f===0)?re.createElement(BA,{location:n.location,revalidation:n.revalidation,component:m,error:h,children:L(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):L()},null)}var u_=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(u_||{}),Dd=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Dd||{});function GA(e){let t=re.useContext(Iv);return t||kn(!1),t}function zA(e){let t=re.useContext(OA);return t||kn(!1),t}function UA(e){let t=re.useContext(Ho);return t||kn(!1),t}function c_(e){let t=UA(),n=t.matches[t.matches.length-1];return n.route.id||kn(!1),n.route.id}function VA(){var e;let t=re.useContext(a_),n=zA(Dd.UseRouteError),r=c_(Dd.UseRouteError);return t||((e=n.errors)==null?void 0:e[r])}function HA(){let{router:e}=GA(u_.UseNavigateStable),t=c_(Dd.UseNavigateStable),n=re.useRef(!1);return l_(()=>{n.current=!0}),re.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,Md({fromRouteId:t},o)))},[e,t])}function b0(e){kn(!1)}function WA(e){let{basename:t="/",children:n=null,location:r,navigationType:i=Ro.Pop,navigator:o,static:a=!1}=e;nc()&&kn(!1);let l=t.replace(/^\/*/,"/"),u=re.useMemo(()=>({basename:l,navigator:o,static:a}),[l,o,a]);typeof r=="string"&&(r=ja(r));let{pathname:f="/",search:h="",hash:m="",state:p=null,key:L="default"}=r,O=re.useMemo(()=>{let k=Nv(f,l);return k==null?null:{location:{pathname:k,search:h,hash:m,state:p,key:L},navigationType:i}},[l,f,h,m,p,L,i]);return O==null?null:re.createElement(as.Provider,{value:u},re.createElement(dh.Provider,{children:n,value:O}))}function XA(e){let{children:t,location:n}=e;return IA(R0(t),n)}new Promise(()=>{});function R0(e,t){t===void 0&&(t=[]);let n=[];return re.Children.forEach(e,(r,i)=>{if(!re.isValidElement(r))return;let o=[...t,i];if(r.type===re.Fragment){n.push.apply(n,R0(r.props.children,o));return}r.type!==b0&&kn(!1),!r.props.index||!r.props.children||kn(!1);let a={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=R0(r.props.children,o)),n.push(a)}),n}/**
 * React Router DOM v6.20.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function L0(){return L0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},L0.apply(this,arguments)}function YA(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function QA(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function KA(e,t){return e.button===0&&(!t||t==="_self")&&!QA(e)}const qA=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],ZA="startTransition",Kg=YS[ZA];function JA(e){let{basename:t,children:n,future:r,window:i}=e,o=re.useRef();o.current==null&&(o.current=oA({window:i,v5Compat:!0}));let a=o.current,[l,u]=re.useState({action:a.action,location:a.location}),{v7_startTransition:f}=r||{},h=re.useCallback(m=>{f&&Kg?Kg(()=>u(m)):u(m)},[u,f]);return re.useLayoutEffect(()=>a.listen(h),[a,h]),re.createElement(WA,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:a})}const e2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",t2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,f_=re.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:o,replace:a,state:l,target:u,to:f,preventScrollReset:h,unstable_viewTransition:m}=t,p=YA(t,qA),{basename:L}=re.useContext(as),O,k=!1;if(typeof f=="string"&&t2.test(f)&&(O=f,e2))try{let C=new URL(window.location.href),U=f.startsWith("//")?new URL(C.protocol+f):new URL(f),X=Nv(U.pathname,L);U.origin===C.origin&&X!=null?f=X+U.search+U.hash:k=!0}catch{}let j=PA(f,{relative:i}),x=n2(f,{replace:a,state:l,target:u,preventScrollReset:h,relative:i,unstable_viewTransition:m});function w(C){r&&r(C),C.defaultPrevented||x(C)}return re.createElement("a",L0({},p,{href:O||j,onClick:k||o?r:w,ref:n,target:u}))});var qg;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(qg||(qg={}));var Zg;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Zg||(Zg={}));function n2(e,t){let{target:n,replace:r,state:i,preventScrollReset:o,relative:a,unstable_viewTransition:l}=t===void 0?{}:t,u=Mv(),f=hh(),h=s_(e,{relative:a});return re.useCallback(m=>{if(KA(m,n)){m.preventDefault();let p=r!==void 0?r:Id(f)===Id(h);u(e,{replace:p,state:i,preventScrollReset:o,relative:a,unstable_viewTransition:l})}},[f,u,h,r,i,n,e,o,a,l])}var d_={exports:{}},r2="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",i2=r2,o2=i2;function h_(){}function m_(){}m_.resetWarningCache=h_;var a2=function(){function e(r,i,o,a,l,u){if(u!==o2){var f=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw f.name="Invariant Violation",f}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:m_,resetWarningCache:h_};return n.PropTypes=n,n};d_.exports=a2();var l2=d_.exports;const qe=B0(l2);qe.object,qe.bool,qe.func.isRequired,qe.func;const fp="https://api.latentscope.com/api";function s2(){const[e,t]=re.useState([]);re.useEffect(()=>{fetch(`${fp}/datasets`).then(l=>l.json()).then(l=>t(l))},[]);const[n,r]=re.useState({});re.useEffect(()=>{e.forEach(l=>{fetch(`${fp}/datasets/${l.id}/scopes`).then(u=>u.json()).then(u=>r(f=>{const h={...f};return h[l.id]=u,h}))})},[e]),re.useEffect(()=>{console.log("scopes",n)},[n]);const[i,o]=re.useState(null),a=Mv();return re.useEffect(()=>{i&&i.status==="completed"&&setTimeout(function(){a(`/datasets/${i.dataset}/setup`)},1e3)},[i,a]),de.jsxs("div",{className:"home",children:[null,de.jsxs("div",{className:"section datasets",children:[de.jsx("h3",{children:"Datasets"}),de.jsx("div",{className:"datasets-content",children:e.map(l=>{var u;return de.jsxs("div",{className:"dataset",children:[de.jsxs("h3",{children:[" ",l.id,"  ",null]}),de.jsxs("span",{children:[l.length," rows"]}),de.jsx("div",{className:"scope-links",children:n[l.id]&&n[l.id].map&&((u=n[l.id])==null?void 0:u.map((f,h)=>de.jsxs("div",{className:"scope-link",children:[de.jsxs(f_,{to:`/datasets/${l.id}/explore/${f.id}`,children:[f.label||f.id,de.jsx("br",{}),de.jsx("img",{src:`${fp}/files/${l.id}/clusters/${f.cluster_id}.png`})]}),de.jsx("br",{}),null]},h)))})]},l.id)})})]})]})}const Jg="https://api.latentscope.com/api";p_.propTypes={data:qe.array.isRequired,tagset:qe.object,datasetId:qe.string,maxRows:qe.number,onTagset:qe.func,onHover:qe.func,onClick:qe.func};function p_({data:e,tagset:t,datasetId:n,maxRows:r,onTagset:i,onHover:o,onClick:a}){if(!e.length)return de.jsx("p",{children:"No data available."});const l=Object.keys(e[0]);let u;function f(m,p){console.log("tag",m),console.log("index",p),console.log("tagset",t),console.log("tagset[tag]",t[m]),t[m].includes(p)?(console.log("removing"),fetch(`${Jg}/tags/remove?dataset=${n}&tag=${m}&index=${p}`).then(L=>L.json()).then(L=>{console.log("removed",L),i(L)})):(console.log("adding"),fetch(`${Jg}/tags/add?dataset=${n}&tag=${m}&index=${p}`).then(L=>L.json()).then(L=>{console.log("added",L),i(L)}))}t&&(u=Object.keys(t));const h=r?e.slice(0,r):e;return de.jsxs(de.Fragment,{children:[de.jsxs("table",{className:"datatable",children:[de.jsx("thead",{children:de.jsxs("tr",{children:[l.map((m,p)=>de.jsx("th",{children:m},p)),u?de.jsx("th",{children:"tags"}):null]})}),de.jsx("tbody",{children:h.map((m,p)=>de.jsxs("tr",{onMouseEnter:()=>o&&o(m.index),onMouseLeave:()=>o&&o(),onClick:()=>a&&a(m.index),children:[l.map((L,O)=>de.jsx("td",{children:L=="url"?de.jsx("a",{href:m[L],children:"url"}):m[L]},O)),u?de.jsx("td",{children:u.map((L,O)=>de.jsx("button",{onClick:k=>{f(L,m.index),k.preventDefault(),k.stopPropagation()},className:t[L].includes(m.index)?"tag-active":"tag-inactive",children:L},O))}):null]},p))})]}),r&&e.length>r?de.jsxs("p",{children:["Showing ",r," of ",e.length," rows."]}):null]})}const u2="https://api.latentscope.com/api";xu.propTypes={dataset:qe.object.isRequired,indices:qe.array.isRequired,distances:qe.array,clusterIndices:qe.array,clusterLabels:qe.array,maxRows:qe.number,tagset:qe.object,onHover:qe.func,onClick:qe.func,onTagset:qe.func};function xu({dataset:e,indices:t,distances:n=[],clusterIndices:r=[],clusterLabels:i=[],maxRows:o,tagset:a,onHover:l,onClick:u,onTagset:f}){const[h,m]=re.useState([]),p=re.useCallback(L=>{e&&fetch(`${u2}/indexed?dataset=${e.id}&indices=${JSON.stringify(L)}`).then(O=>O.json()).then(O=>{let k=O.map((j,x)=>{let w=L[x],C={index:w,...j};return n&&n.length&&(C.distance=n[x]),r&&r.length&&i&&i.length&&(C.cluster=i[r[w].cluster].label),C});m(k)})},[e,n,r,i]);return re.useEffect(()=>{t&&t.length&&(console.log("refetching hydrate"),p(t))},[t]),de.jsx("div",{children:de.jsx(p_,{data:h,tagset:a,datasetId:e==null?void 0:e.id,maxRows:o,onTagset:f,onHover:l,onClick:u})})}const v_=(()=>{try{return new window.BroadcastChannel("pub-sub-es")}catch{return{postMessage:()=>{}}}})(),Dv=(e,t)=>t?e.toLowerCase():e,y_=(e,{caseInsensitive:t}={})=>(n,r,i=1/0)=>{const o=Dv(n,t);return e[o]||(e[o]=[],e.__times__[o]=[]),e[o].push(r),e.__times__[o].push(+i||1/0),{event:o,handler:r}},Fv=(e,{caseInsensitive:t}={})=>(n,r)=>{typeof n=="object"&&(r=n.handler,n=n.event);const i=Dv(n,t);if(!e[i])return;const o=e[i].indexOf(r);o===-1||o>=e[i].length||(e[i].splice(o,1),e.__times__[i].splice(o,1))},e1=(e,t)=>()=>{e.forEach(n=>n(t))},g_=(e,{isGlobal:t,caseInsensitive:n,async:r}={})=>{const i=Fv(e);return(o,a,l={})=>{const u=Dv(o,n);if(!e[u])return;const f=[...e[u]];if(f.forEach((h,m)=>{--e.__times__[u][m]<1&&i(u,h)}),r||l.async?setTimeout(e1(f,a),0):e1(f,a)(),t&&!l.isNoGlobalBroadcast)try{v_.postMessage({event:u,news:a})}catch(h){if(h instanceof DOMException)console.warn(`Could not broadcast '${u}' globally. Payload is not clonable.`);else throw h}}},c2=e=>()=>{Object.keys(e).filter(t=>t[0]!=="_").forEach(t=>{e[t]=void 0,e.__times__[t]=void 0,delete e[t],delete e.__times__[t]})},x_=()=>({__times__:{}}),f2=({async:e=!1,caseInsensitive:t=!1,stack:n=x_()}={})=>(n.__times__||(n.__times__={}),{publish:g_(n,{async:e,caseInsensitive:t}),subscribe:y_(n,{caseInsensitive:t}),unsubscribe:Fv(n,{caseInsensitive:t}),clear:c2(n),stack:n}),Gf=x_(),d2={publish:g_(Gf,{isGlobal:!0}),subscribe:y_(Gf),unsubscribe:Fv(Gf),stack:Gf};v_.onmessage=({data:{event:e,news:t}})=>d2.publish(e,t,{isNoGlobalBroadcast:!0});var E_={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(kS,function(){var n=function(c){return c instanceof Uint8Array||c instanceof Uint16Array||c instanceof Uint32Array||c instanceof Int8Array||c instanceof Int16Array||c instanceof Int32Array||c instanceof Float32Array||c instanceof Float64Array||c instanceof Uint8ClampedArray},r=function(c,v){for(var A=Object.keys(v),H=0;H<A.length;++H)c[A[H]]=v[A[H]];return c},i=`
`;function o(c){return typeof atob<"u"?atob(c):"base64:"+c}function a(c){var v=new Error("(regl) "+c);throw console.error(v),v}function l(c,v){c||a(v)}function u(c){return c?": "+c:""}function f(c,v,A){c in v||a("unknown parameter ("+c+")"+u(A)+". possible values: "+Object.keys(v).join())}function h(c,v){n(c)||a("invalid parameter type"+u(v)+". must be a typed array")}function m(c,v){switch(v){case"number":return typeof c=="number";case"object":return typeof c=="object";case"string":return typeof c=="string";case"boolean":return typeof c=="boolean";case"function":return typeof c=="function";case"undefined":return typeof c>"u";case"symbol":return typeof c=="symbol"}}function p(c,v,A){m(c,v)||a("invalid parameter type"+u(A)+". expected "+v+", got "+typeof c)}function L(c,v){c>=0&&(c|0)===c||a("invalid parameter type, ("+c+")"+u(v)+". must be a nonnegative integer")}function O(c,v,A){v.indexOf(c)<0&&a("invalid value"+u(A)+". must be one of: "+v)}var k=["gl","canvas","container","attributes","pixelRatio","extensions","optionalExtensions","profile","onDone"];function j(c){Object.keys(c).forEach(function(v){k.indexOf(v)<0&&a('invalid regl constructor argument "'+v+'". must be one of '+k)})}function x(c,v){for(c=c+"";c.length<v;)c=" "+c;return c}function w(){this.name="unknown",this.lines=[],this.index={},this.hasErrors=!1}function C(c,v){this.number=c,this.line=v,this.errors=[]}function U(c,v,A){this.file=c,this.line=v,this.message=A}function X(){var c=new Error,v=(c.stack||c).toString(),A=/compileProcedure.*\n\s*at.*\((.*)\)/.exec(v);if(A)return A[1];var H=/compileProcedure.*\n\s*at\s+(.*)(\n|$)/.exec(v);return H?H[1]:"unknown"}function ae(){var c=new Error,v=(c.stack||c).toString(),A=/at REGLCommand.*\n\s+at.*\((.*)\)/.exec(v);if(A)return A[1];var H=/at REGLCommand.*\n\s+at\s+(.*)\n/.exec(v);return H?H[1]:"unknown"}function Ae(c,v){var A=c.split(`
`),H=1,ee=0,V={unknown:new w,0:new w};V.unknown.name=V[0].name=v||X(),V.unknown.lines.push(new C(0,""));for(var Q=0;Q<A.length;++Q){var ce=A[Q],ue=/^\s*#\s*(\w+)\s+(.+)\s*$/.exec(ce);if(ue)switch(ue[1]){case"line":var ve=/(\d+)(\s+\d+)?/.exec(ue[2]);ve&&(H=ve[1]|0,ve[2]&&(ee=ve[2]|0,ee in V||(V[ee]=new w)));break;case"define":var ge=/SHADER_NAME(_B64)?\s+(.*)$/.exec(ue[2]);ge&&(V[ee].name=ge[1]?o(ge[2]):ge[2]);break}V[ee].lines.push(new C(H++,ce))}return Object.keys(V).forEach(function(ye){var _e=V[ye];_e.lines.forEach(function(fe){_e.index[fe.number]=fe})}),V}function se(c){var v=[];return c.split(`
`).forEach(function(A){if(!(A.length<5)){var H=/^ERROR:\s+(\d+):(\d+):\s*(.*)$/.exec(A);H?v.push(new U(H[1]|0,H[2]|0,H[3].trim())):A.length>0&&v.push(new U("unknown",0,A))}}),v}function ft(c,v){v.forEach(function(A){var H=c[A.file];if(H){var ee=H.index[A.line];if(ee){ee.errors.push(A),H.hasErrors=!0;return}}c.unknown.hasErrors=!0,c.unknown.lines[0].errors.push(A)})}function Be(c,v,A,H,ee){if(!c.getShaderParameter(v,c.COMPILE_STATUS)){var V=c.getShaderInfoLog(v),Q=H===c.FRAGMENT_SHADER?"fragment":"vertex";dt(A,"string",Q+" shader source must be a string",ee);var ce=Ae(A,ee),ue=se(V);ft(ce,ue),Object.keys(ce).forEach(function(ve){var ge=ce[ve];if(!ge.hasErrors)return;var ye=[""],_e=[""];function fe(pe,D){ye.push(pe),_e.push(D||"")}fe("file number "+ve+": "+ge.name+`
`,"color:red;text-decoration:underline;font-weight:bold"),ge.lines.forEach(function(pe){if(pe.errors.length>0){fe(x(pe.number,4)+"|  ","background-color:yellow; font-weight:bold"),fe(pe.line+i,"color:red; background-color:yellow; font-weight:bold");var D=0;pe.errors.forEach(function(Y){var me=Y.message,Ie=/^\s*'(.*)'\s*:\s*(.*)$/.exec(me);if(Ie){var le=Ie[1];switch(me=Ie[2],le){case"assign":le="=";break}D=Math.max(pe.line.indexOf(le,D),0)}else D=0;fe(x("| ",6)),fe(x("^^^",D+3)+i,"font-weight:bold"),fe(x("| ",6)),fe(me+i,"font-weight:bold")}),fe(x("| ",6)+i)}else fe(x(pe.number,4)+"|  "),fe(pe.line+i,"color:red")}),typeof document<"u"&&!window.chrome?(_e[0]=ye.join("%c"),console.log.apply(console,_e)):console.log(ye.join(""))}),l.raise("Error compiling "+Q+" shader, "+ce[0].name)}}function Ue(c,v,A,H,ee){if(!c.getProgramParameter(v,c.LINK_STATUS)){var V=c.getProgramInfoLog(v),Q=Ae(A,ee),ce=Ae(H,ee),ue='Error linking program with vertex shader, "'+ce[0].name+'", and fragment shader "'+Q[0].name+'"';typeof document<"u"?console.log("%c"+ue+i+"%c"+V,"color:red;text-decoration:underline;font-weight:bold","color:red"):console.log(ue+i+V),l.raise(ue)}}function et(c){c._commandRef=X()}function tt(c,v,A,H){et(c);function ee(ue){return ue?H.id(ue):0}c._fragId=ee(c.static.frag),c._vertId=ee(c.static.vert);function V(ue,ve){Object.keys(ve).forEach(function(ge){ue[H.id(ge)]=!0})}var Q=c._uniformSet={};V(Q,v.static),V(Q,v.dynamic);var ce=c._attributeSet={};V(ce,A.static),V(ce,A.dynamic),c._hasCount="count"in c.static||"count"in c.dynamic||"elements"in c.static||"elements"in c.dynamic}function Ye(c,v){var A=ae();a(c+" in command "+(v||X())+(A==="unknown"?"":" called from "+A))}function rt(c,v,A){c||Ye(v,A||X())}function wt(c,v,A,H){c in v||Ye("unknown parameter ("+c+")"+u(A)+". possible values: "+Object.keys(v).join(),H||X())}function dt(c,v,A,H){m(c,v)||Ye("invalid parameter type"+u(A)+". expected "+v+", got "+typeof c,H||X())}function xe(c){c()}function Ge(c,v,A){c.texture?O(c.texture._texture.internalformat,v,"unsupported texture format for attachment"):O(c.renderbuffer._renderbuffer.format,A,"unsupported renderbuffer format for attachment")}var ze=33071,Ce=9728,Qe=9984,xt=9985,zt=9986,Dt=9987,Qt=5120,Ht=5121,Pt=5122,Kt=5123,Nn=5124,In=5125,Yt=5126,Bt=32819,pt=32820,Et=33635,gt=34042,Ct=36193,Ot={};Ot[Qt]=Ot[Ht]=1,Ot[Pt]=Ot[Kt]=Ot[Ct]=Ot[Et]=Ot[Bt]=Ot[pt]=2,Ot[Nn]=Ot[In]=Ot[Yt]=Ot[gt]=4;function Ut(c,v){return c===pt||c===Bt||c===Et?2:c===gt?4:Ot[c]*v}function qt(c){return!(c&c-1)&&!!c}function Rn(c,v,A){var H,ee=v.width,V=v.height,Q=v.channels;l(ee>0&&ee<=A.maxTextureSize&&V>0&&V<=A.maxTextureSize,"invalid texture shape"),(c.wrapS!==ze||c.wrapT!==ze)&&l(qt(ee)&&qt(V),"incompatible wrap mode for texture, both width and height must be power of 2"),v.mipmask===1?ee!==1&&V!==1&&l(c.minFilter!==Qe&&c.minFilter!==zt&&c.minFilter!==xt&&c.minFilter!==Dt,"min filter requires mipmap"):(l(qt(ee)&&qt(V),"texture must be a square power of 2 to support mipmapping"),l(v.mipmask===(ee<<1)-1,"missing or incomplete mipmap data")),v.type===Yt&&(A.extensions.indexOf("oes_texture_float_linear")<0&&l(c.minFilter===Ce&&c.magFilter===Ce,"filter not supported, must enable oes_texture_float_linear"),l(!c.genMipmaps,"mipmap generation not supported with float textures"));var ce=v.images;for(H=0;H<16;++H)if(ce[H]){var ue=ee>>H,ve=V>>H;l(v.mipmask&1<<H,"missing mipmap data");var ge=ce[H];if(l(ge.width===ue&&ge.height===ve,"invalid shape for mip images"),l(ge.format===v.format&&ge.internalformat===v.internalformat&&ge.type===v.type,"incompatible type for mip image"),!ge.compressed)if(ge.data){var ye=Math.ceil(Ut(ge.type,Q)*ue/ge.unpackAlignment)*ge.unpackAlignment;l(ge.data.byteLength===ye*ve,"invalid data for image, buffer size is inconsistent with image format")}else ge.element||ge.copy}else c.genMipmaps||l((v.mipmask&1<<H)===0,"extra mipmap data");v.compressed&&l(!c.genMipmaps,"mipmap generation for compressed images not supported")}function Vr(c,v,A,H){var ee=c.width,V=c.height,Q=c.channels;l(ee>0&&ee<=H.maxTextureSize&&V>0&&V<=H.maxTextureSize,"invalid texture shape"),l(ee===V,"cube map must be square"),l(v.wrapS===ze&&v.wrapT===ze,"wrap mode not supported by cube map");for(var ce=0;ce<A.length;++ce){var ue=A[ce];l(ue.width===ee&&ue.height===V,"inconsistent cube map face shape"),v.genMipmaps&&(l(!ue.compressed,"can not generate mipmap for compressed textures"),l(ue.mipmask===1,"can not specify mipmaps and generate mipmaps"));for(var ve=ue.images,ge=0;ge<16;++ge){var ye=ve[ge];if(ye){var _e=ee>>ge,fe=V>>ge;l(ue.mipmask&1<<ge,"missing mipmap data"),l(ye.width===_e&&ye.height===fe,"invalid shape for mip images"),l(ye.format===c.format&&ye.internalformat===c.internalformat&&ye.type===c.type,"incompatible type for mip image"),ye.compressed||(ye.data?l(ye.data.byteLength===_e*fe*Math.max(Ut(ye.type,Q),ye.unpackAlignment),"invalid data for image, buffer size is inconsistent with image format"):ye.element||ye.copy)}}}}var y=r(l,{optional:xe,raise:a,commandRaise:Ye,command:rt,parameter:f,commandParameter:wt,constructor:j,type:p,commandType:dt,isTypedArray:h,nni:L,oneOf:O,shaderError:Be,linkError:Ue,callSite:ae,saveCommandRef:et,saveDrawInfo:tt,framebufferFormat:Ge,guessCommand:X,texture2D:Rn,textureCube:Vr}),Rt=0,Ft=0,Ne=5,ht=6;function _t(c,v){this.id=Rt++,this.type=c,this.data=v}function Me(c){return c.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}function Lt(c){if(c.length===0)return[];var v=c.charAt(0),A=c.charAt(c.length-1);if(c.length>1&&v===A&&(v==='"'||v==="'"))return['"'+Me(c.substr(1,c.length-2))+'"'];var H=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(c);if(H)return Lt(c.substr(0,H.index)).concat(Lt(H[1])).concat(Lt(c.substr(H.index+H[0].length)));var ee=c.split(".");if(ee.length===1)return['"'+Me(c)+'"'];for(var V=[],Q=0;Q<ee.length;++Q)V=V.concat(Lt(ee[Q]));return V}function Nt(c){return"["+Lt(c).join("][")+"]"}function lt(c,v){return new _t(c,Nt(v+""))}function tn(c){return typeof c=="function"&&!c._reglType||c instanceof _t}function q(c,v){if(typeof c=="function")return new _t(Ft,c);if(typeof c=="number"||typeof c=="boolean")return new _t(Ne,c);if(Array.isArray(c))return new _t(ht,c.map(function(A,H){return q(A,v+"["+H+"]")}));if(c instanceof _t)return c;y(!1,"invalid option type in uniform "+v)}var Xe={DynamicVariable:_t,define:lt,isDynamic:tn,unbox:q,accessor:Nt},on={next:typeof requestAnimationFrame=="function"?function(c){return requestAnimationFrame(c)}:function(c){return setTimeout(c,16)},cancel:typeof cancelAnimationFrame=="function"?function(c){return cancelAnimationFrame(c)}:clearTimeout},cn=typeof performance<"u"&&performance.now?function(){return performance.now()}:function(){return+new Date};function yr(){var c={"":0},v=[""];return{id:function(A){var H=c[A];return H||(H=c[A]=v.length,v.push(A),H)},str:function(A){return v[A]}}}function ar(c,v,A){var H=document.createElement("canvas");r(H.style,{border:0,margin:0,padding:0,top:0,left:0,width:"100%",height:"100%"}),c.appendChild(H),c===document.body&&(H.style.position="absolute",r(c.style,{margin:0,padding:0}));function ee(){var ce=window.innerWidth,ue=window.innerHeight;if(c!==document.body){var ve=H.getBoundingClientRect();ce=ve.right-ve.left,ue=ve.bottom-ve.top}H.width=A*ce,H.height=A*ue}var V;c!==document.body&&typeof ResizeObserver=="function"?(V=new ResizeObserver(function(){setTimeout(ee)}),V.observe(c)):window.addEventListener("resize",ee,!1);function Q(){V?V.disconnect():window.removeEventListener("resize",ee),c.removeChild(H)}return ee(),{canvas:H,onDestroy:Q}}function Hr(c,v){function A(H){try{return c.getContext(H,v)}catch{return null}}return A("webgl")||A("experimental-webgl")||A("webgl-experimental")}function jn(c){return typeof c.nodeName=="string"&&typeof c.appendChild=="function"&&typeof c.getBoundingClientRect=="function"}function Yi(c){return typeof c.drawArrays=="function"||typeof c.drawElements=="function"}function $a(c){return typeof c=="string"?c.split():(y(Array.isArray(c),"invalid extension array"),c)}function Ga(c){return typeof c=="string"?(y(typeof document<"u","not supported outside of DOM"),document.querySelector(c)):c}function Qi(c){var v=c||{},A,H,ee,V,Q={},ce=[],ue=[],ve=typeof window>"u"?1:window.devicePixelRatio,ge=!1,ye=function(pe){pe&&y.raise(pe)},_e=function(){};if(typeof v=="string"?(y(typeof document<"u","selector queries only supported in DOM enviroments"),A=document.querySelector(v),y(A,"invalid query string for element")):typeof v=="object"?jn(v)?A=v:Yi(v)?(V=v,ee=V.canvas):(y.constructor(v),"gl"in v?V=v.gl:"canvas"in v?ee=Ga(v.canvas):"container"in v&&(H=Ga(v.container)),"attributes"in v&&(Q=v.attributes,y.type(Q,"object","invalid context attributes")),"extensions"in v&&(ce=$a(v.extensions)),"optionalExtensions"in v&&(ue=$a(v.optionalExtensions)),"onDone"in v&&(y.type(v.onDone,"function","invalid or missing onDone callback"),ye=v.onDone),"profile"in v&&(ge=!!v.profile),"pixelRatio"in v&&(ve=+v.pixelRatio,y(ve>0,"invalid pixel ratio"))):y.raise("invalid arguments to regl"),A&&(A.nodeName.toLowerCase()==="canvas"?ee=A:H=A),!V){if(!ee){y(typeof document<"u","must manually specify webgl context outside of DOM environments");var fe=ar(H||document.body,ye,ve);if(!fe)return null;ee=fe.canvas,_e=fe.onDestroy}Q.premultipliedAlpha===void 0&&(Q.premultipliedAlpha=!0),V=Hr(ee,Q)}return V?{gl:V,canvas:ee,container:H,extensions:ce,optionalExtensions:ue,pixelRatio:ve,profile:ge,onDone:ye,onDestroy:_e}:(_e(),ye("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null)}function Ki(c,v){var A={};function H(Q){y.type(Q,"string","extension name must be string");var ce=Q.toLowerCase(),ue;try{ue=A[ce]=c.getExtension(ce)}catch{}return!!ue}for(var ee=0;ee<v.extensions.length;++ee){var V=v.extensions[ee];if(!H(V))return v.onDestroy(),v.onDone('"'+V+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null}return v.optionalExtensions.forEach(H),{extensions:A,restore:function(){Object.keys(A).forEach(function(Q){if(A[Q]&&!H(Q))throw new Error("(regl): error restoring extension "+Q)})}}}function fn(c,v){for(var A=Array(c),H=0;H<c;++H)A[H]=v(H);return A}var gr=5120,ss=5121,Wo=5122,Xo=5123,us=5124,za=5125,qi=5126;function Yo(c){for(var v=16;v<=1<<28;v*=16)if(c<=v)return v;return 0}function Zi(c){var v,A;return v=(c>65535)<<4,c>>>=v,A=(c>255)<<3,c>>>=A,v|=A,A=(c>15)<<2,c>>>=A,v|=A,A=(c>3)<<1,c>>>=A,v|=A,v|c>>1}function Ua(){var c=fn(8,function(){return[]});function v(V){var Q=Yo(V),ce=c[Zi(Q)>>2];return ce.length>0?ce.pop():new ArrayBuffer(Q)}function A(V){c[Zi(V.byteLength)>>2].push(V)}function H(V,Q){var ce=null;switch(V){case gr:ce=new Int8Array(v(Q),0,Q);break;case ss:ce=new Uint8Array(v(Q),0,Q);break;case Wo:ce=new Int16Array(v(2*Q),0,Q);break;case Xo:ce=new Uint16Array(v(2*Q),0,Q);break;case us:ce=new Int32Array(v(4*Q),0,Q);break;case za:ce=new Uint32Array(v(4*Q),0,Q);break;case qi:ce=new Float32Array(v(4*Q),0,Q);break;default:return null}return ce.length!==Q?ce.subarray(0,Q):ce}function ee(V){A(V.buffer)}return{alloc:v,free:A,allocType:H,freeType:ee}}var yt=Ua();yt.zero=Ua();var wi=3408,Va=3410,rc=3411,ii=3412,oi=3413,ai=3414,ic=3415,xr=33901,cs=33902,Qo=3379,fs=3386,Ko=34921,Ha=36347,Wa=36348,Xa=35661,Ya=35660,Ti=34930,qo=36349,ds=34076,hs=34024,oc=7936,Ji=7937,eo=7938,Qa=35724,to=34047,ms=36063,lr=34852,li=3553,si=34067,Ai=34069,Ln=33984,kr=6408,Mn=5126,yn=5121,no=36160,Ka=36053,qa=36064,Za=16384,ac=function(c,v){var A=1;v.ext_texture_filter_anisotropic&&(A=c.getParameter(to));var H=1,ee=1;v.webgl_draw_buffers&&(H=c.getParameter(lr),ee=c.getParameter(ms));var V=!!v.oes_texture_float;if(V){var Q=c.createTexture();c.bindTexture(li,Q),c.texImage2D(li,0,kr,1,1,0,kr,Mn,null);var ce=c.createFramebuffer();if(c.bindFramebuffer(no,ce),c.framebufferTexture2D(no,qa,li,Q,0),c.bindTexture(li,null),c.checkFramebufferStatus(no)!==Ka)V=!1;else{c.viewport(0,0,1,1),c.clearColor(1,0,0,1),c.clear(Za);var ue=yt.allocType(Mn,4);c.readPixels(0,0,1,1,kr,Mn,ue),c.getError()?V=!1:(c.deleteFramebuffer(ce),c.deleteTexture(Q),V=ue[0]===1),yt.freeType(ue)}}var ve=typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion)||/Edge/.test(navigator.userAgent)),ge=!0;if(!ve){var ye=c.createTexture(),_e=yt.allocType(yn,36);c.activeTexture(Ln),c.bindTexture(si,ye),c.texImage2D(Ai,0,kr,3,3,0,kr,yn,_e),yt.freeType(_e),c.bindTexture(si,null),c.deleteTexture(ye),ge=!c.getError()}return{colorBits:[c.getParameter(Va),c.getParameter(rc),c.getParameter(ii),c.getParameter(oi)],depthBits:c.getParameter(ai),stencilBits:c.getParameter(ic),subpixelBits:c.getParameter(wi),extensions:Object.keys(v).filter(function(fe){return!!v[fe]}),maxAnisotropic:A,maxDrawbuffers:H,maxColorAttachments:ee,pointSizeDims:c.getParameter(xr),lineWidthDims:c.getParameter(cs),maxViewportDims:c.getParameter(fs),maxCombinedTextureUnits:c.getParameter(Xa),maxCubeMapSize:c.getParameter(ds),maxRenderbufferSize:c.getParameter(hs),maxTextureUnits:c.getParameter(Ti),maxTextureSize:c.getParameter(Qo),maxAttributes:c.getParameter(Ko),maxVertexUniforms:c.getParameter(Ha),maxVertexTextureUnits:c.getParameter(Ya),maxVaryingVectors:c.getParameter(Wa),maxFragmentUniforms:c.getParameter(qo),glsl:c.getParameter(Qa),renderer:c.getParameter(Ji),vendor:c.getParameter(oc),version:c.getParameter(eo),readFloat:V,npotTextureCube:ge}};function sr(c){return!!c&&typeof c=="object"&&Array.isArray(c.shape)&&Array.isArray(c.stride)&&typeof c.offset=="number"&&c.shape.length===c.stride.length&&(Array.isArray(c.data)||n(c.data))}var Jn=function(c){return Object.keys(c).map(function(v){return c[v]})},Er={shape:xh,flatten:gh};function lc(c,v,A){for(var H=0;H<v;++H)A[H]=c[H]}function ps(c,v,A,H){for(var ee=0,V=0;V<v;++V)for(var Q=c[V],ce=0;ce<A;++ce)H[ee++]=Q[ce]}function Ja(c,v,A,H,ee,V){for(var Q=V,ce=0;ce<v;++ce)for(var ue=c[ce],ve=0;ve<A;++ve)for(var ge=ue[ve],ye=0;ye<H;++ye)ee[Q++]=ge[ye]}function vs(c,v,A,H,ee){for(var V=1,Q=A+1;Q<v.length;++Q)V*=v[Q];var ce=v[A];if(v.length-A===4){var ue=v[A+1],ve=v[A+2],ge=v[A+3];for(Q=0;Q<ce;++Q)Ja(c[Q],ue,ve,ge,H,ee),ee+=V}else for(Q=0;Q<ce;++Q)vs(c[Q],v,A+1,H,ee),ee+=V}function gh(c,v,A,H){var ee=1;if(v.length)for(var V=0;V<v.length;++V)ee*=v[V];else ee=0;var Q=H||yt.allocType(A,ee);switch(v.length){case 0:break;case 1:lc(c,v[0],Q);break;case 2:ps(c,v[0],v[1],Q);break;case 3:Ja(c,v[0],v[1],v[2],Q,0);break;default:vs(c,v,0,Q,0)}return Q}function xh(c){for(var v=[],A=c;A.length;A=A[0])v.push(A.length);return v}var ro={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},Zo=5120,Ci=5122,el=5124,Eh=5121,tl=5123,io=5125,Jo=5126,ys=5126,oo={int8:Zo,int16:Ci,int32:el,uint8:Eh,uint16:tl,uint32:io,float:Jo,float32:ys},Zv=35048,Sn=35040,nl={dynamic:Zv,stream:Sn,static:35044},ea=Er.flatten,sc=Er.shape,gs=35044,xs=35040,rl=5121,il=5126,Wr=[];Wr[5120]=1,Wr[5122]=2,Wr[5124]=4,Wr[5121]=1,Wr[5123]=2,Wr[5125]=4,Wr[5126]=4;function ta(c){return ro[Object.prototype.toString.call(c)]|0}function ol(c,v){for(var A=0;A<v.length;++A)c[A]=v[A]}function Es(c,v,A,H,ee,V,Q){for(var ce=0,ue=0;ue<A;++ue)for(var ve=0;ve<H;++ve)c[ce++]=v[ee*ue+V*ve+Q]}function _s(c,v,A,H){var ee=0,V={};function Q(D){this.id=ee++,this.buffer=c.createBuffer(),this.type=D,this.usage=gs,this.byteLength=0,this.dimension=1,this.dtype=rl,this.persistentData=null,A.profile&&(this.stats={size:0})}Q.prototype.bind=function(){c.bindBuffer(this.type,this.buffer)},Q.prototype.destroy=function(){_e(this)};var ce=[];function ue(D,Y){var me=ce.pop();return me||(me=new Q(D)),me.bind(),ye(me,Y,xs,0,1,!1),me}function ve(D){ce.push(D)}function ge(D,Y,me){D.byteLength=Y.byteLength,c.bufferData(D.type,Y,me)}function ye(D,Y,me,Ie,le,Pe){var Re;if(D.usage=me,Array.isArray(Y)){if(D.dtype=Ie||il,Y.length>0){var Ze;if(Array.isArray(Y[0])){Re=sc(Y);for(var te=1,J=1;J<Re.length;++J)te*=Re[J];D.dimension=te,Ze=ea(Y,Re,D.dtype),ge(D,Ze,me),Pe?D.persistentData=Ze:yt.freeType(Ze)}else if(typeof Y[0]=="number"){D.dimension=le;var $e=yt.allocType(D.dtype,Y.length);ol($e,Y),ge(D,$e,me),Pe?D.persistentData=$e:yt.freeType($e)}else n(Y[0])?(D.dimension=Y[0].length,D.dtype=Ie||ta(Y[0])||il,Ze=ea(Y,[Y.length,Y[0].length],D.dtype),ge(D,Ze,me),Pe?D.persistentData=Ze:yt.freeType(Ze)):y.raise("invalid buffer data")}}else if(n(Y))D.dtype=Ie||ta(Y),D.dimension=le,ge(D,Y,me),Pe&&(D.persistentData=new Uint8Array(new Uint8Array(Y.buffer)));else if(sr(Y)){Re=Y.shape;var we=Y.stride,he=Y.offset,Te=0,be=0,ut=0,st=0;Re.length===1?(Te=Re[0],be=1,ut=we[0],st=0):Re.length===2?(Te=Re[0],be=Re[1],ut=we[0],st=we[1]):y.raise("invalid shape"),D.dtype=Ie||ta(Y.data)||il,D.dimension=be;var Le=yt.allocType(D.dtype,Te*be);Es(Le,Y.data,Te,be,ut,st,he),ge(D,Le,me),Pe?D.persistentData=Le:yt.freeType(Le)}else Y instanceof ArrayBuffer?(D.dtype=rl,D.dimension=le,ge(D,Y,me),Pe&&(D.persistentData=new Uint8Array(new Uint8Array(Y)))):y.raise("invalid buffer data")}function _e(D){v.bufferCount--,H(D);var Y=D.buffer;y(Y,"buffer must not be deleted already"),c.deleteBuffer(Y),D.buffer=null,delete V[D.id]}function fe(D,Y,me,Ie){v.bufferCount++;var le=new Q(Y);V[le.id]=le;function Pe(te){var J=gs,$e=null,we=0,he=0,Te=1;return Array.isArray(te)||n(te)||sr(te)||te instanceof ArrayBuffer?$e=te:typeof te=="number"?we=te|0:te&&(y.type(te,"object","buffer arguments must be an object, a number or an array"),"data"in te&&(y($e===null||Array.isArray($e)||n($e)||sr($e),"invalid data for buffer"),$e=te.data),"usage"in te&&(y.parameter(te.usage,nl,"invalid buffer usage"),J=nl[te.usage]),"type"in te&&(y.parameter(te.type,oo,"invalid buffer type"),he=oo[te.type]),"dimension"in te&&(y.type(te.dimension,"number","invalid dimension"),Te=te.dimension|0),"length"in te&&(y.nni(we,"buffer length must be a nonnegative integer"),we=te.length|0)),le.bind(),$e?ye(le,$e,J,he,Te,Ie):(we&&c.bufferData(le.type,we,J),le.dtype=he||rl,le.usage=J,le.dimension=Te,le.byteLength=we),A.profile&&(le.stats.size=le.byteLength*Wr[le.dtype]),Pe}function Re(te,J){y(J+te.byteLength<=le.byteLength,"invalid buffer subdata call, buffer is too small.  Can't write data of size "+te.byteLength+" starting from offset "+J+" to a buffer of size "+le.byteLength),c.bufferSubData(le.type,J,te)}function Ze(te,J){var $e=(J||0)|0,we;if(le.bind(),n(te)||te instanceof ArrayBuffer)Re(te,$e);else if(Array.isArray(te)){if(te.length>0)if(typeof te[0]=="number"){var he=yt.allocType(le.dtype,te.length);ol(he,te),Re(he,$e),yt.freeType(he)}else if(Array.isArray(te[0])||n(te[0])){we=sc(te);var Te=ea(te,we,le.dtype);Re(Te,$e),yt.freeType(Te)}else y.raise("invalid buffer data")}else if(sr(te)){we=te.shape;var be=te.stride,ut=0,st=0,Le=0,ke=0;we.length===1?(ut=we[0],st=1,Le=be[0],ke=0):we.length===2?(ut=we[0],st=we[1],Le=be[0],ke=be[1]):y.raise("invalid shape");var it=Array.isArray(te.data)?le.dtype:ta(te.data),ct=yt.allocType(it,ut*st);Es(ct,te.data,ut,st,Le,ke,te.offset),Re(ct,$e),yt.freeType(ct)}else y.raise("invalid data for buffer subdata");return Pe}return me||Pe(D),Pe._reglType="buffer",Pe._buffer=le,Pe.subdata=Ze,A.profile&&(Pe.stats=le.stats),Pe.destroy=function(){_e(le)},Pe}function pe(){Jn(V).forEach(function(D){D.buffer=c.createBuffer(),c.bindBuffer(D.type,D.buffer),c.bufferData(D.type,D.persistentData||D.byteLength,D.usage)})}return A.profile&&(v.getTotalBufferSize=function(){var D=0;return Object.keys(V).forEach(function(Y){D+=V[Y].stats.size}),D}),{create:fe,createStream:ue,destroyStream:ve,clear:function(){Jn(V).forEach(_e),ce.forEach(_e)},getBuffer:function(D){return D&&D._buffer instanceof Q?D._buffer:null},restore:pe,_initBuffer:ye}}var _h=0,Ss=0,Sh=1,ws=1,wh=4,Th=4,ui={points:_h,point:Ss,lines:Sh,line:ws,triangles:wh,triangle:Th,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},Ah=0,bi=1,Ri=4,Ch=5120,ci=5121,uc=5122,ao=5123,cc=5124,Xr=5125,Ts=34963,bh=35040,As=35044;function Cs(c,v,A,H){var ee={},V=0,Q={uint8:ci,uint16:ao};v.oes_element_index_uint&&(Q.uint32=Xr);function ce(pe){this.id=V++,ee[this.id]=this,this.buffer=pe,this.primType=Ri,this.vertCount=0,this.type=0}ce.prototype.bind=function(){this.buffer.bind()};var ue=[];function ve(pe){var D=ue.pop();return D||(D=new ce(A.create(null,Ts,!0,!1)._buffer)),ye(D,pe,bh,-1,-1,0,0),D}function ge(pe){ue.push(pe)}function ye(pe,D,Y,me,Ie,le,Pe){pe.buffer.bind();var Re;if(D){var Ze=Pe;!Pe&&(!n(D)||sr(D)&&!n(D.data))&&(Ze=v.oes_element_index_uint?Xr:ao),A._initBuffer(pe.buffer,D,Y,Ze,3)}else c.bufferData(Ts,le,Y),pe.buffer.dtype=Re||ci,pe.buffer.usage=Y,pe.buffer.dimension=3,pe.buffer.byteLength=le;if(Re=Pe,!Pe){switch(pe.buffer.dtype){case ci:case Ch:Re=ci;break;case ao:case uc:Re=ao;break;case Xr:case cc:Re=Xr;break;default:y.raise("unsupported type for element array")}pe.buffer.dtype=Re}pe.type=Re,y(Re!==Xr||!!v.oes_element_index_uint,"32 bit element buffers not supported, enable oes_element_index_uint first");var te=Ie;te<0&&(te=pe.buffer.byteLength,Re===ao?te>>=1:Re===Xr&&(te>>=2)),pe.vertCount=te;var J=me;if(me<0){J=Ri;var $e=pe.buffer.dimension;$e===1&&(J=Ah),$e===2&&(J=bi),$e===3&&(J=Ri)}pe.primType=J}function _e(pe){H.elementsCount--,y(pe.buffer!==null,"must not double destroy elements"),delete ee[pe.id],pe.buffer.destroy(),pe.buffer=null}function fe(pe,D){var Y=A.create(null,Ts,!0),me=new ce(Y._buffer);H.elementsCount++;function Ie(le){if(!le)Y(),me.primType=Ri,me.vertCount=0,me.type=ci;else if(typeof le=="number")Y(le),me.primType=Ri,me.vertCount=le|0,me.type=ci;else{var Pe=null,Re=As,Ze=-1,te=-1,J=0,$e=0;Array.isArray(le)||n(le)||sr(le)?Pe=le:(y.type(le,"object","invalid arguments for elements"),"data"in le&&(Pe=le.data,y(Array.isArray(Pe)||n(Pe)||sr(Pe),"invalid data for element buffer")),"usage"in le&&(y.parameter(le.usage,nl,"invalid element buffer usage"),Re=nl[le.usage]),"primitive"in le&&(y.parameter(le.primitive,ui,"invalid element buffer primitive"),Ze=ui[le.primitive]),"count"in le&&(y(typeof le.count=="number"&&le.count>=0,"invalid vertex count for elements"),te=le.count|0),"type"in le&&(y.parameter(le.type,Q,"invalid buffer type"),$e=Q[le.type]),"length"in le?J=le.length|0:(J=te,$e===ao||$e===uc?J*=2:($e===Xr||$e===cc)&&(J*=4))),ye(me,Pe,Re,Ze,te,J,$e)}return Ie}return Ie(pe),Ie._reglType="elements",Ie._elements=me,Ie.subdata=function(le,Pe){return Y.subdata(le,Pe),Ie},Ie.destroy=function(){_e(me)},Ie}return{create:fe,createStream:ve,destroyStream:ge,getElements:function(pe){return typeof pe=="function"&&pe._elements instanceof ce?pe._elements:null},clear:function(){Jn(ee).forEach(_e)}}}var fc=new Float32Array(1),Rh=new Uint32Array(fc.buffer),Lh=5123;function dc(c){for(var v=yt.allocType(Lh,c.length),A=0;A<c.length;++A)if(isNaN(c[A]))v[A]=65535;else if(c[A]===1/0)v[A]=31744;else if(c[A]===-1/0)v[A]=64512;else{fc[0]=c[A];var H=Rh[0],ee=H>>>31<<15,V=(H<<1>>>24)-127,Q=H>>13&1023;if(V<-24)v[A]=ee;else if(V<-14){var ce=-14-V;v[A]=ee+(Q+1024>>ce)}else V>15?v[A]=ee+31744:v[A]=ee+(V+15<<10)+Q}return v}function Jt(c){return Array.isArray(c)||n(c)}var hc=function(c){return!(c&c-1)&&!!c},Oh=34467,Nr=3553,bs=34067,al=34069,Li=6408,Rs=6406,ll=6407,Oi=6409,sl=6410,mc=32854,Ls=32855,Os=36194,Ph=32819,kh=32820,Nh=33635,pc=34042,ul=6402,na=34041,ra=35904,ia=35906,lo=36193,Pi=33776,Ps=33777,ks=33778,Ns=33779,vc=35986,yc=35987,gc=34798,xc=35840,Ec=35841,_c=35842,Sc=35843,wc=36196,so=5121,Is=5123,Ms=5125,_r=5126,Ih=10242,Mh=10243,Dh=10497,Ds=33071,Fh=33648,Bh=10240,jh=10241,Fs=9728,$h=9729,cl=9984,Bs=9985,Tc=9986,js=9987,Gh=33170,oa=4352,Ac=4353,zh=4354,Uh=34046,Vh=3317,Hh=37440,Wh=37441,Xh=37443,uo=37444,aa=33984,Cc=[cl,Tc,Bs,js],la=[0,Oi,sl,ll,Li],Sr={};Sr[Oi]=Sr[Rs]=Sr[ul]=1,Sr[na]=Sr[sl]=2,Sr[ll]=Sr[ra]=3,Sr[Li]=Sr[ia]=4;function co(c){return"[object "+c+"]"}var bc=co("HTMLCanvasElement"),Rc=co("OffscreenCanvas"),Lc=co("CanvasRenderingContext2D"),Oc=co("ImageBitmap"),Pc=co("HTMLImageElement"),fl=co("HTMLVideoElement"),Yh=Object.keys(ro).concat([bc,Rc,Lc,Oc,Pc,fl]),fo=[];fo[so]=1,fo[_r]=4,fo[lo]=2,fo[Is]=2,fo[Ms]=4;var wn=[];wn[mc]=2,wn[Ls]=2,wn[Os]=2,wn[na]=4,wn[Pi]=.5,wn[Ps]=.5,wn[ks]=1,wn[Ns]=1,wn[vc]=.5,wn[yc]=1,wn[gc]=1,wn[xc]=.5,wn[Ec]=.25,wn[_c]=.5,wn[Sc]=.25,wn[wc]=.5;function kc(c){return Array.isArray(c)&&(c.length===0||typeof c[0]=="number")}function $s(c){if(!Array.isArray(c))return!1;var v=c.length;return!(v===0||!Jt(c[0]))}function ki(c){return Object.prototype.toString.call(c)}function Gs(c){return ki(c)===bc}function Nc(c){return ki(c)===Rc}function Qh(c){return ki(c)===Lc}function zs(c){return ki(c)===Oc}function Ic(c){return ki(c)===Pc}function Mc(c){return ki(c)===fl}function Us(c){if(!c)return!1;var v=ki(c);return Yh.indexOf(v)>=0?!0:kc(c)||$s(c)||sr(c)}function Dc(c){return ro[Object.prototype.toString.call(c)]|0}function Kh(c,v){var A=v.length;switch(c.type){case so:case Is:case Ms:case _r:var H=yt.allocType(c.type,A);H.set(v),c.data=H;break;case lo:c.data=dc(v);break;default:y.raise("unsupported texture type, must specify a typed array")}}function Fc(c,v){return yt.allocType(c.type===lo?_r:c.type,v)}function Bc(c,v){c.type===lo?(c.data=dc(v),yt.freeType(v)):c.data=v}function jc(c,v,A,H,ee,V){for(var Q=c.width,ce=c.height,ue=c.channels,ve=Q*ce*ue,ge=Fc(c,ve),ye=0,_e=0;_e<ce;++_e)for(var fe=0;fe<Q;++fe)for(var pe=0;pe<ue;++pe)ge[ye++]=v[A*fe+H*_e+ee*pe+V];Bc(c,ge)}function dl(c,v,A,H,ee,V){var Q;if(typeof wn[c]<"u"?Q=wn[c]:Q=Sr[c]*fo[v],V&&(Q*=6),ee){for(var ce=0,ue=A;ue>=1;)ce+=Q*ue*ue,ue/=2;return ce}else return Q*A*H}function qh(c,v,A,H,ee,V,Q){var ce={"don't care":oa,"dont care":oa,nice:zh,fast:Ac},ue={repeat:Dh,clamp:Ds,mirror:Fh},ve={nearest:Fs,linear:$h},ge=r({mipmap:js,"nearest mipmap nearest":cl,"linear mipmap nearest":Bs,"nearest mipmap linear":Tc,"linear mipmap linear":js},ve),ye={none:0,browser:uo},_e={uint8:so,rgba4:Ph,rgb565:Nh,"rgb5 a1":kh},fe={alpha:Rs,luminance:Oi,"luminance alpha":sl,rgb:ll,rgba:Li,rgba4:mc,"rgb5 a1":Ls,rgb565:Os},pe={};v.ext_srgb&&(fe.srgb=ra,fe.srgba=ia),v.oes_texture_float&&(_e.float32=_e.float=_r),v.oes_texture_half_float&&(_e.float16=_e["half float"]=lo),v.webgl_depth_texture&&(r(fe,{depth:ul,"depth stencil":na}),r(_e,{uint16:Is,uint32:Ms,"depth stencil":pc})),v.webgl_compressed_texture_s3tc&&r(pe,{"rgb s3tc dxt1":Pi,"rgba s3tc dxt1":Ps,"rgba s3tc dxt3":ks,"rgba s3tc dxt5":Ns}),v.webgl_compressed_texture_atc&&r(pe,{"rgb atc":vc,"rgba atc explicit alpha":yc,"rgba atc interpolated alpha":gc}),v.webgl_compressed_texture_pvrtc&&r(pe,{"rgb pvrtc 4bppv1":xc,"rgb pvrtc 2bppv1":Ec,"rgba pvrtc 4bppv1":_c,"rgba pvrtc 2bppv1":Sc}),v.webgl_compressed_texture_etc1&&(pe["rgb etc1"]=wc);var D=Array.prototype.slice.call(c.getParameter(Oh));Object.keys(pe).forEach(function(S){var W=pe[S];D.indexOf(W)>=0&&(fe[S]=W)});var Y=Object.keys(fe);A.textureFormats=Y;var me=[];Object.keys(fe).forEach(function(S){var W=fe[S];me[W]=S});var Ie=[];Object.keys(_e).forEach(function(S){var W=_e[S];Ie[W]=S});var le=[];Object.keys(ve).forEach(function(S){var W=ve[S];le[W]=S});var Pe=[];Object.keys(ge).forEach(function(S){var W=ge[S];Pe[W]=S});var Re=[];Object.keys(ue).forEach(function(S){var W=ue[S];Re[W]=S});var Ze=Y.reduce(function(S,W){var z=fe[W];return z===Oi||z===Rs||z===Oi||z===sl||z===ul||z===na||v.ext_srgb&&(z===ra||z===ia)?S[z]=z:z===Ls||W.indexOf("rgba")>=0?S[z]=Li:S[z]=ll,S},{});function te(){this.internalformat=Li,this.format=Li,this.type=so,this.compressed=!1,this.premultiplyAlpha=!1,this.flipY=!1,this.unpackAlignment=1,this.colorSpace=uo,this.width=0,this.height=0,this.channels=0}function J(S,W){S.internalformat=W.internalformat,S.format=W.format,S.type=W.type,S.compressed=W.compressed,S.premultiplyAlpha=W.premultiplyAlpha,S.flipY=W.flipY,S.unpackAlignment=W.unpackAlignment,S.colorSpace=W.colorSpace,S.width=W.width,S.height=W.height,S.channels=W.channels}function $e(S,W){if(!(typeof W!="object"||!W)){if("premultiplyAlpha"in W&&(y.type(W.premultiplyAlpha,"boolean","invalid premultiplyAlpha"),S.premultiplyAlpha=W.premultiplyAlpha),"flipY"in W&&(y.type(W.flipY,"boolean","invalid texture flip"),S.flipY=W.flipY),"alignment"in W&&(y.oneOf(W.alignment,[1,2,4,8],"invalid texture unpack alignment"),S.unpackAlignment=W.alignment),"colorSpace"in W&&(y.parameter(W.colorSpace,ye,"invalid colorSpace"),S.colorSpace=ye[W.colorSpace]),"type"in W){var z=W.type;y(v.oes_texture_float||!(z==="float"||z==="float32"),"you must enable the OES_texture_float extension in order to use floating point textures."),y(v.oes_texture_half_float||!(z==="half float"||z==="float16"),"you must enable the OES_texture_half_float extension in order to use 16-bit floating point textures."),y(v.webgl_depth_texture||!(z==="uint16"||z==="uint32"||z==="depth stencil"),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),y.parameter(z,_e,"invalid texture type"),S.type=_e[z]}var je=S.width,St=S.height,g=S.channels,d=!1;"shape"in W?(y(Array.isArray(W.shape)&&W.shape.length>=2,"shape must be an array"),je=W.shape[0],St=W.shape[1],W.shape.length===3&&(g=W.shape[2],y(g>0&&g<=4,"invalid number of channels"),d=!0),y(je>=0&&je<=A.maxTextureSize,"invalid width"),y(St>=0&&St<=A.maxTextureSize,"invalid height")):("radius"in W&&(je=St=W.radius,y(je>=0&&je<=A.maxTextureSize,"invalid radius")),"width"in W&&(je=W.width,y(je>=0&&je<=A.maxTextureSize,"invalid width")),"height"in W&&(St=W.height,y(St>=0&&St<=A.maxTextureSize,"invalid height")),"channels"in W&&(g=W.channels,y(g>0&&g<=4,"invalid number of channels"),d=!0)),S.width=je|0,S.height=St|0,S.channels=g|0;var b=!1;if("format"in W){var M=W.format;y(v.webgl_depth_texture||!(M==="depth"||M==="depth stencil"),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),y.parameter(M,fe,"invalid texture format");var F=S.internalformat=fe[M];S.format=Ze[F],M in _e&&("type"in W||(S.type=_e[M])),M in pe&&(S.compressed=!0),b=!0}!d&&b?S.channels=Sr[S.format]:d&&!b?S.channels!==la[S.format]&&(S.format=S.internalformat=la[S.channels]):b&&d&&y(S.channels===Sr[S.format],"number of channels inconsistent with specified format")}}function we(S){c.pixelStorei(Hh,S.flipY),c.pixelStorei(Wh,S.premultiplyAlpha),c.pixelStorei(Xh,S.colorSpace),c.pixelStorei(Vh,S.unpackAlignment)}function he(){te.call(this),this.xOffset=0,this.yOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1}function Te(S,W){var z=null;if(Us(W)?z=W:W&&(y.type(W,"object","invalid pixel data type"),$e(S,W),"x"in W&&(S.xOffset=W.x|0),"y"in W&&(S.yOffset=W.y|0),Us(W.data)&&(z=W.data)),y(!S.compressed||z instanceof Uint8Array,"compressed texture data must be stored in a uint8array"),W.copy){y(!z,"can not specify copy and data field for the same texture");var je=ee.viewportWidth,St=ee.viewportHeight;S.width=S.width||je-S.xOffset,S.height=S.height||St-S.yOffset,S.needsCopy=!0,y(S.xOffset>=0&&S.xOffset<je&&S.yOffset>=0&&S.yOffset<St&&S.width>0&&S.width<=je&&S.height>0&&S.height<=St,"copy texture read out of bounds")}else if(!z)S.width=S.width||1,S.height=S.height||1,S.channels=S.channels||4;else if(n(z))S.channels=S.channels||4,S.data=z,!("type"in W)&&S.type===so&&(S.type=Dc(z));else if(kc(z))S.channels=S.channels||4,Kh(S,z),S.alignment=1,S.needsFree=!0;else if(sr(z)){var g=z.data;!Array.isArray(g)&&S.type===so&&(S.type=Dc(g));var d=z.shape,b=z.stride,M,F,P,R,I,E;d.length===3?(P=d[2],E=b[2]):(y(d.length===2,"invalid ndarray pixel data, must be 2 or 3D"),P=1,E=1),M=d[0],F=d[1],R=b[0],I=b[1],S.alignment=1,S.width=M,S.height=F,S.channels=P,S.format=S.internalformat=la[P],S.needsFree=!0,jc(S,g,R,I,E,z.offset)}else if(Gs(z)||Nc(z)||Qh(z))Gs(z)||Nc(z)?S.element=z:S.element=z.canvas,S.width=S.element.width,S.height=S.element.height,S.channels=4;else if(zs(z))S.element=z,S.width=z.width,S.height=z.height,S.channels=4;else if(Ic(z))S.element=z,S.width=z.naturalWidth,S.height=z.naturalHeight,S.channels=4;else if(Mc(z))S.element=z,S.width=z.videoWidth,S.height=z.videoHeight,S.channels=4;else if($s(z)){var T=S.width||z[0].length,_=S.height||z.length,G=S.channels;Jt(z[0][0])?G=G||z[0][0].length:G=G||1;for(var B=Er.shape(z),Z=1,ne=0;ne<B.length;++ne)Z*=B[ne];var Ee=Fc(S,Z);Er.flatten(z,B,"",Ee),Bc(S,Ee),S.alignment=1,S.width=T,S.height=_,S.channels=G,S.format=S.internalformat=la[G],S.needsFree=!0}S.type===_r?y(A.extensions.indexOf("oes_texture_float")>=0,"oes_texture_float extension not enabled"):S.type===lo&&y(A.extensions.indexOf("oes_texture_half_float")>=0,"oes_texture_half_float extension not enabled")}function be(S,W,z){var je=S.element,St=S.data,g=S.internalformat,d=S.format,b=S.type,M=S.width,F=S.height;we(S),je?c.texImage2D(W,z,d,d,b,je):S.compressed?c.compressedTexImage2D(W,z,g,M,F,0,St):S.needsCopy?(H(),c.copyTexImage2D(W,z,d,S.xOffset,S.yOffset,M,F,0)):c.texImage2D(W,z,d,M,F,0,d,b,St||null)}function ut(S,W,z,je,St){var g=S.element,d=S.data,b=S.internalformat,M=S.format,F=S.type,P=S.width,R=S.height;we(S),g?c.texSubImage2D(W,St,z,je,M,F,g):S.compressed?c.compressedTexSubImage2D(W,St,z,je,b,P,R,d):S.needsCopy?(H(),c.copyTexSubImage2D(W,St,z,je,S.xOffset,S.yOffset,P,R)):c.texSubImage2D(W,St,z,je,P,R,M,F,d)}var st=[];function Le(){return st.pop()||new he}function ke(S){S.needsFree&&yt.freeType(S.data),he.call(S),st.push(S)}function it(){te.call(this),this.genMipmaps=!1,this.mipmapHint=oa,this.mipmask=0,this.images=Array(16)}function ct(S,W,z){var je=S.images[0]=Le();S.mipmask=1,je.width=S.width=W,je.height=S.height=z,je.channels=S.channels=4}function Tt(S,W){var z=null;if(Us(W))z=S.images[0]=Le(),J(z,S),Te(z,W),S.mipmask=1;else if($e(S,W),Array.isArray(W.mipmap))for(var je=W.mipmap,St=0;St<je.length;++St)z=S.images[St]=Le(),J(z,S),z.width>>=St,z.height>>=St,Te(z,je[St]),S.mipmask|=1<<St;else z=S.images[0]=Le(),J(z,S),Te(z,W),S.mipmask=1;J(S,S.images[0]),S.compressed&&(S.internalformat===Pi||S.internalformat===Ps||S.internalformat===ks||S.internalformat===Ns)&&y(S.width%4===0&&S.height%4===0,"for compressed texture formats, mipmap level 0 must have width and height that are a multiple of 4")}function nn(S,W){for(var z=S.images,je=0;je<z.length;++je){if(!z[je])return;be(z[je],W,je)}}var an=[];function bt(){var S=an.pop()||new it;te.call(S),S.mipmask=0;for(var W=0;W<16;++W)S.images[W]=null;return S}function Tn(S){for(var W=S.images,z=0;z<W.length;++z)W[z]&&ke(W[z]),W[z]=null;an.push(S)}function en(){this.minFilter=Fs,this.magFilter=Fs,this.wrapS=Ds,this.wrapT=Ds,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=oa}function En(S,W){if("min"in W){var z=W.min;y.parameter(z,ge),S.minFilter=ge[z],Cc.indexOf(S.minFilter)>=0&&!("faces"in W)&&(S.genMipmaps=!0)}if("mag"in W){var je=W.mag;y.parameter(je,ve),S.magFilter=ve[je]}var St=S.wrapS,g=S.wrapT;if("wrap"in W){var d=W.wrap;typeof d=="string"?(y.parameter(d,ue),St=g=ue[d]):Array.isArray(d)&&(y.parameter(d[0],ue),y.parameter(d[1],ue),St=ue[d[0]],g=ue[d[1]])}else{if("wrapS"in W){var b=W.wrapS;y.parameter(b,ue),St=ue[b]}if("wrapT"in W){var M=W.wrapT;y.parameter(M,ue),g=ue[M]}}if(S.wrapS=St,S.wrapT=g,"anisotropic"in W){var F=W.anisotropic;y(typeof F=="number"&&F>=1&&F<=A.maxAnisotropic,"aniso samples must be between 1 and "),S.anisotropic=W.anisotropic}if("mipmap"in W){var P=!1;switch(typeof W.mipmap){case"string":y.parameter(W.mipmap,ce,"invalid mipmap hint"),S.mipmapHint=ce[W.mipmap],S.genMipmaps=!0,P=!0;break;case"boolean":P=S.genMipmaps=W.mipmap;break;case"object":y(Array.isArray(W.mipmap),"invalid mipmap type"),S.genMipmaps=!1,P=!0;break;default:y.raise("invalid mipmap type")}P&&!("min"in W)&&(S.minFilter=cl)}}function An(S,W){c.texParameteri(W,jh,S.minFilter),c.texParameteri(W,Bh,S.magFilter),c.texParameteri(W,Ih,S.wrapS),c.texParameteri(W,Mh,S.wrapT),v.ext_texture_filter_anisotropic&&c.texParameteri(W,Uh,S.anisotropic),S.genMipmaps&&(c.hint(Gh,S.mipmapHint),c.generateMipmap(W))}var Cn=0,Dn={},$n=A.maxTextureUnits,dn=Array($n).map(function(){return null});function vt(S){te.call(this),this.mipmask=0,this.internalformat=Li,this.id=Cn++,this.refCount=1,this.target=S,this.texture=c.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new en,Q.profile&&(this.stats={size:0})}function Gn(S){c.activeTexture(aa),c.bindTexture(S.target,S.texture)}function $t(){var S=dn[0];S?c.bindTexture(S.target,S.texture):c.bindTexture(Nr,null)}function nt(S){var W=S.texture;y(W,"must not double destroy texture");var z=S.unit,je=S.target;z>=0&&(c.activeTexture(aa+z),c.bindTexture(je,null),dn[z]=null),c.deleteTexture(W),S.texture=null,S.params=null,S.pixels=null,S.refCount=0,delete Dn[S.id],V.textureCount--}r(vt.prototype,{bind:function(){var S=this;S.bindCount+=1;var W=S.unit;if(W<0){for(var z=0;z<$n;++z){var je=dn[z];if(je){if(je.bindCount>0)continue;je.unit=-1}dn[z]=S,W=z;break}W>=$n&&y.raise("insufficient number of texture units"),Q.profile&&V.maxTextureUnits<W+1&&(V.maxTextureUnits=W+1),S.unit=W,c.activeTexture(aa+W),c.bindTexture(S.target,S.texture)}return W},unbind:function(){this.bindCount-=1},decRef:function(){--this.refCount<=0&&nt(this)}});function At(S,W){var z=new vt(Nr);Dn[z.id]=z,V.textureCount++;function je(d,b){var M=z.texInfo;en.call(M);var F=bt();return typeof d=="number"?typeof b=="number"?ct(F,d|0,b|0):ct(F,d|0,d|0):d?(y.type(d,"object","invalid arguments to regl.texture"),En(M,d),Tt(F,d)):ct(F,1,1),M.genMipmaps&&(F.mipmask=(F.width<<1)-1),z.mipmask=F.mipmask,J(z,F),y.texture2D(M,F,A),z.internalformat=F.internalformat,je.width=F.width,je.height=F.height,Gn(z),nn(F,Nr),An(M,Nr),$t(),Tn(F),Q.profile&&(z.stats.size=dl(z.internalformat,z.type,F.width,F.height,M.genMipmaps,!1)),je.format=me[z.internalformat],je.type=Ie[z.type],je.mag=le[M.magFilter],je.min=Pe[M.minFilter],je.wrapS=Re[M.wrapS],je.wrapT=Re[M.wrapT],je}function St(d,b,M,F){y(!!d,"must specify image data");var P=b|0,R=M|0,I=F|0,E=Le();return J(E,z),E.width=0,E.height=0,Te(E,d),E.width=E.width||(z.width>>I)-P,E.height=E.height||(z.height>>I)-R,y(z.type===E.type&&z.format===E.format&&z.internalformat===E.internalformat,"incompatible format for texture.subimage"),y(P>=0&&R>=0&&P+E.width<=z.width&&R+E.height<=z.height,"texture.subimage write out of bounds"),y(z.mipmask&1<<I,"missing mipmap data"),y(E.data||E.element||E.needsCopy,"missing image data"),Gn(z),ut(E,Nr,P,R,I),$t(),ke(E),je}function g(d,b){var M=d|0,F=b|0||M;if(M===z.width&&F===z.height)return je;je.width=z.width=M,je.height=z.height=F,Gn(z);for(var P=0;z.mipmask>>P;++P){var R=M>>P,I=F>>P;if(!R||!I)break;c.texImage2D(Nr,P,z.format,R,I,0,z.format,z.type,null)}return $t(),Q.profile&&(z.stats.size=dl(z.internalformat,z.type,M,F,!1,!1)),je}return je(S,W),je.subimage=St,je.resize=g,je._reglType="texture2d",je._texture=z,Q.profile&&(je.stats=z.stats),je.destroy=function(){z.decRef()},je}function kt(S,W,z,je,St,g){var d=new vt(bs);Dn[d.id]=d,V.cubeCount++;var b=new Array(6);function M(R,I,E,T,_,G){var B,Z=d.texInfo;for(en.call(Z),B=0;B<6;++B)b[B]=bt();if(typeof R=="number"||!R){var ne=R|0||1;for(B=0;B<6;++B)ct(b[B],ne,ne)}else if(typeof R=="object")if(I)Tt(b[0],R),Tt(b[1],I),Tt(b[2],E),Tt(b[3],T),Tt(b[4],_),Tt(b[5],G);else if(En(Z,R),$e(d,R),"faces"in R){var Ee=R.faces;for(y(Array.isArray(Ee)&&Ee.length===6,"cube faces must be a length 6 array"),B=0;B<6;++B)y(typeof Ee[B]=="object"&&!!Ee[B],"invalid input for cube map face"),J(b[B],d),Tt(b[B],Ee[B])}else for(B=0;B<6;++B)Tt(b[B],R);else y.raise("invalid arguments to cube map");for(J(d,b[0]),y.optional(function(){A.npotTextureCube||y(hc(d.width)&&hc(d.height),"your browser does not support non power or two texture dimensions")}),Z.genMipmaps?d.mipmask=(b[0].width<<1)-1:d.mipmask=b[0].mipmask,y.textureCube(d,Z,b,A),d.internalformat=b[0].internalformat,M.width=b[0].width,M.height=b[0].height,Gn(d),B=0;B<6;++B)nn(b[B],al+B);for(An(Z,bs),$t(),Q.profile&&(d.stats.size=dl(d.internalformat,d.type,M.width,M.height,Z.genMipmaps,!0)),M.format=me[d.internalformat],M.type=Ie[d.type],M.mag=le[Z.magFilter],M.min=Pe[Z.minFilter],M.wrapS=Re[Z.wrapS],M.wrapT=Re[Z.wrapT],B=0;B<6;++B)Tn(b[B]);return M}function F(R,I,E,T,_){y(!!I,"must specify image data"),y(typeof R=="number"&&R===(R|0)&&R>=0&&R<6,"invalid face");var G=E|0,B=T|0,Z=_|0,ne=Le();return J(ne,d),ne.width=0,ne.height=0,Te(ne,I),ne.width=ne.width||(d.width>>Z)-G,ne.height=ne.height||(d.height>>Z)-B,y(d.type===ne.type&&d.format===ne.format&&d.internalformat===ne.internalformat,"incompatible format for texture.subimage"),y(G>=0&&B>=0&&G+ne.width<=d.width&&B+ne.height<=d.height,"texture.subimage write out of bounds"),y(d.mipmask&1<<Z,"missing mipmap data"),y(ne.data||ne.element||ne.needsCopy,"missing image data"),Gn(d),ut(ne,al+R,G,B,Z),$t(),ke(ne),M}function P(R){var I=R|0;if(I!==d.width){M.width=d.width=I,M.height=d.height=I,Gn(d);for(var E=0;E<6;++E)for(var T=0;d.mipmask>>T;++T)c.texImage2D(al+E,T,d.format,I>>T,I>>T,0,d.format,d.type,null);return $t(),Q.profile&&(d.stats.size=dl(d.internalformat,d.type,M.width,M.height,!1,!0)),M}}return M(S,W,z,je,St,g),M.subimage=F,M.resize=P,M._reglType="textureCube",M._texture=d,Q.profile&&(M.stats=d.stats),M.destroy=function(){d.decRef()},M}function hn(){for(var S=0;S<$n;++S)c.activeTexture(aa+S),c.bindTexture(Nr,null),dn[S]=null;Jn(Dn).forEach(nt),V.cubeCount=0,V.textureCount=0}Q.profile&&(V.getTotalTextureSize=function(){var S=0;return Object.keys(Dn).forEach(function(W){S+=Dn[W].stats.size}),S});function hi(){for(var S=0;S<$n;++S){var W=dn[S];W&&(W.bindCount=0,W.unit=-1,dn[S]=null)}Jn(Dn).forEach(function(z){z.texture=c.createTexture(),c.bindTexture(z.target,z.texture);for(var je=0;je<32;++je)if(z.mipmask&1<<je)if(z.target===Nr)c.texImage2D(Nr,je,z.internalformat,z.width>>je,z.height>>je,0,z.internalformat,z.type,null);else for(var St=0;St<6;++St)c.texImage2D(al+St,je,z.internalformat,z.width>>je,z.height>>je,0,z.internalformat,z.type,null);An(z.texInfo,z.target)})}function pa(){for(var S=0;S<$n;++S){var W=dn[S];W&&(W.bindCount=0,W.unit=-1,dn[S]=null),c.activeTexture(aa+S),c.bindTexture(Nr,null),c.bindTexture(bs,null)}}return{create2D:At,createCube:kt,clear:hn,getTexture:function(S){return null},restore:hi,refresh:pa}}var fi=36161,hl=32854,$c=32855,Gc=36194,zc=33189,Uc=36168,Vc=34041,Hc=35907,Wc=34836,Xc=34842,Yc=34843,wr=[];wr[hl]=2,wr[$c]=2,wr[Gc]=2,wr[zc]=2,wr[Uc]=1,wr[Vc]=4,wr[Hc]=4,wr[Wc]=16,wr[Xc]=8,wr[Yc]=6;function Qc(c,v,A){return wr[c]*v*A}var Zh=function(c,v,A,H,ee){var V={rgba4:hl,rgb565:Gc,"rgb5 a1":$c,depth:zc,stencil:Uc,"depth stencil":Vc};v.ext_srgb&&(V.srgba=Hc),v.ext_color_buffer_half_float&&(V.rgba16f=Xc,V.rgb16f=Yc),v.webgl_color_buffer_float&&(V.rgba32f=Wc);var Q=[];Object.keys(V).forEach(function(fe){var pe=V[fe];Q[pe]=fe});var ce=0,ue={};function ve(fe){this.id=ce++,this.refCount=1,this.renderbuffer=fe,this.format=hl,this.width=0,this.height=0,ee.profile&&(this.stats={size:0})}ve.prototype.decRef=function(){--this.refCount<=0&&ge(this)};function ge(fe){var pe=fe.renderbuffer;y(pe,"must not double destroy renderbuffer"),c.bindRenderbuffer(fi,null),c.deleteRenderbuffer(pe),fe.renderbuffer=null,fe.refCount=0,delete ue[fe.id],H.renderbufferCount--}function ye(fe,pe){var D=new ve(c.createRenderbuffer());ue[D.id]=D,H.renderbufferCount++;function Y(Ie,le){var Pe=0,Re=0,Ze=hl;if(typeof Ie=="object"&&Ie){var te=Ie;if("shape"in te){var J=te.shape;y(Array.isArray(J)&&J.length>=2,"invalid renderbuffer shape"),Pe=J[0]|0,Re=J[1]|0}else"radius"in te&&(Pe=Re=te.radius|0),"width"in te&&(Pe=te.width|0),"height"in te&&(Re=te.height|0);"format"in te&&(y.parameter(te.format,V,"invalid renderbuffer format"),Ze=V[te.format])}else typeof Ie=="number"?(Pe=Ie|0,typeof le=="number"?Re=le|0:Re=Pe):Ie?y.raise("invalid arguments to renderbuffer constructor"):Pe=Re=1;if(y(Pe>0&&Re>0&&Pe<=A.maxRenderbufferSize&&Re<=A.maxRenderbufferSize,"invalid renderbuffer size"),!(Pe===D.width&&Re===D.height&&Ze===D.format))return Y.width=D.width=Pe,Y.height=D.height=Re,D.format=Ze,c.bindRenderbuffer(fi,D.renderbuffer),c.renderbufferStorage(fi,Ze,Pe,Re),y(c.getError()===0,"invalid render buffer format"),ee.profile&&(D.stats.size=Qc(D.format,D.width,D.height)),Y.format=Q[D.format],Y}function me(Ie,le){var Pe=Ie|0,Re=le|0||Pe;return Pe===D.width&&Re===D.height||(y(Pe>0&&Re>0&&Pe<=A.maxRenderbufferSize&&Re<=A.maxRenderbufferSize,"invalid renderbuffer size"),Y.width=D.width=Pe,Y.height=D.height=Re,c.bindRenderbuffer(fi,D.renderbuffer),c.renderbufferStorage(fi,D.format,Pe,Re),y(c.getError()===0,"invalid render buffer format"),ee.profile&&(D.stats.size=Qc(D.format,D.width,D.height))),Y}return Y(fe,pe),Y.resize=me,Y._reglType="renderbuffer",Y._renderbuffer=D,ee.profile&&(Y.stats=D.stats),Y.destroy=function(){D.decRef()},Y}ee.profile&&(H.getTotalRenderbufferSize=function(){var fe=0;return Object.keys(ue).forEach(function(pe){fe+=ue[pe].stats.size}),fe});function _e(){Jn(ue).forEach(function(fe){fe.renderbuffer=c.createRenderbuffer(),c.bindRenderbuffer(fi,fe.renderbuffer),c.renderbufferStorage(fi,fe.format,fe.width,fe.height)}),c.bindRenderbuffer(fi,null)}return{create:ye,clear:function(){Jn(ue).forEach(ge)},restore:_e}},Yr=36160,Vs=36161,Ni=3553,ml=34069,Kc=36064,pl=36096,qc=36128,Zc=33306,Jc=36053,Jh=36054,em=36055,tm=36057,nm=36061,rm=36193,im=5121,om=5126,ef=6407,tf=6408,am=6402,lm=[ef,tf],Hs=[];Hs[tf]=4,Hs[ef]=3;var sa=[];sa[im]=1,sa[om]=4,sa[rm]=2;var sm=32854,nf=32855,um=36194,rf=33189,of=36168,Ws=34041,af=35907,cm=34836,ua=34842,fm=34843,dm=[sm,nf,um,af,ua,fm,cm],ho={};ho[Jc]="complete",ho[Jh]="incomplete attachment",ho[tm]="incomplete dimensions",ho[em]="incomplete, missing attachment",ho[nm]="unsupported";function hm(c,v,A,H,ee,V){var Q={cur:null,next:null,dirty:!1,setFBO:null},ce=["rgba"],ue=["rgba4","rgb565","rgb5 a1"];v.ext_srgb&&ue.push("srgba"),v.ext_color_buffer_half_float&&ue.push("rgba16f","rgb16f"),v.webgl_color_buffer_float&&ue.push("rgba32f");var ve=["uint8"];v.oes_texture_half_float&&ve.push("half float","float16"),v.oes_texture_float&&ve.push("float","float32");function ge(he,Te,be){this.target=he,this.texture=Te,this.renderbuffer=be;var ut=0,st=0;Te?(ut=Te.width,st=Te.height):be&&(ut=be.width,st=be.height),this.width=ut,this.height=st}function ye(he){he&&(he.texture&&he.texture._texture.decRef(),he.renderbuffer&&he.renderbuffer._renderbuffer.decRef())}function _e(he,Te,be){if(he)if(he.texture){var ut=he.texture._texture,st=Math.max(1,ut.width),Le=Math.max(1,ut.height);y(st===Te&&Le===be,"inconsistent width/height for supplied texture"),ut.refCount+=1}else{var ke=he.renderbuffer._renderbuffer;y(ke.width===Te&&ke.height===be,"inconsistent width/height for renderbuffer"),ke.refCount+=1}}function fe(he,Te){Te&&(Te.texture?c.framebufferTexture2D(Yr,he,Te.target,Te.texture._texture.texture,0):c.framebufferRenderbuffer(Yr,he,Vs,Te.renderbuffer._renderbuffer.renderbuffer))}function pe(he){var Te=Ni,be=null,ut=null,st=he;typeof he=="object"&&(st=he.data,"target"in he&&(Te=he.target|0)),y.type(st,"function","invalid attachment data");var Le=st._reglType;return Le==="texture2d"?(be=st,y(Te===Ni)):Le==="textureCube"?(be=st,y(Te>=ml&&Te<ml+6,"invalid cube map target")):Le==="renderbuffer"?(ut=st,Te=Vs):y.raise("invalid regl object for attachment"),new ge(Te,be,ut)}function D(he,Te,be,ut,st){if(be){var Le=H.create2D({width:he,height:Te,format:ut,type:st});return Le._texture.refCount=0,new ge(Ni,Le,null)}else{var ke=ee.create({width:he,height:Te,format:ut});return ke._renderbuffer.refCount=0,new ge(Vs,null,ke)}}function Y(he){return he&&(he.texture||he.renderbuffer)}function me(he,Te,be){he&&(he.texture?he.texture.resize(Te,be):he.renderbuffer&&he.renderbuffer.resize(Te,be),he.width=Te,he.height=be)}var Ie=0,le={};function Pe(){this.id=Ie++,le[this.id]=this,this.framebuffer=c.createFramebuffer(),this.width=0,this.height=0,this.colorAttachments=[],this.depthAttachment=null,this.stencilAttachment=null,this.depthStencilAttachment=null}function Re(he){he.colorAttachments.forEach(ye),ye(he.depthAttachment),ye(he.stencilAttachment),ye(he.depthStencilAttachment)}function Ze(he){var Te=he.framebuffer;y(Te,"must not double destroy framebuffer"),c.deleteFramebuffer(Te),he.framebuffer=null,V.framebufferCount--,delete le[he.id]}function te(he){var Te;c.bindFramebuffer(Yr,he.framebuffer);var be=he.colorAttachments;for(Te=0;Te<be.length;++Te)fe(Kc+Te,be[Te]);for(Te=be.length;Te<A.maxColorAttachments;++Te)c.framebufferTexture2D(Yr,Kc+Te,Ni,null,0);c.framebufferTexture2D(Yr,Zc,Ni,null,0),c.framebufferTexture2D(Yr,pl,Ni,null,0),c.framebufferTexture2D(Yr,qc,Ni,null,0),fe(pl,he.depthAttachment),fe(qc,he.stencilAttachment),fe(Zc,he.depthStencilAttachment);var ut=c.checkFramebufferStatus(Yr);!c.isContextLost()&&ut!==Jc&&y.raise("framebuffer configuration not supported, status = "+ho[ut]),c.bindFramebuffer(Yr,Q.next?Q.next.framebuffer:null),Q.cur=Q.next,c.getError()}function J(he,Te){var be=new Pe;V.framebufferCount++;function ut(Le,ke){var it;y(Q.next!==be,"can not update framebuffer which is currently in use");var ct=0,Tt=0,nn=!0,an=!0,bt=null,Tn=!0,en="rgba",En="uint8",An=1,Cn=null,Dn=null,$n=null,dn=!1;if(typeof Le=="number")ct=Le|0,Tt=ke|0||ct;else if(!Le)ct=Tt=1;else{y.type(Le,"object","invalid arguments for framebuffer");var vt=Le;if("shape"in vt){var Gn=vt.shape;y(Array.isArray(Gn)&&Gn.length>=2,"invalid shape for framebuffer"),ct=Gn[0],Tt=Gn[1]}else"radius"in vt&&(ct=Tt=vt.radius),"width"in vt&&(ct=vt.width),"height"in vt&&(Tt=vt.height);("color"in vt||"colors"in vt)&&(bt=vt.color||vt.colors,Array.isArray(bt)&&y(bt.length===1||v.webgl_draw_buffers,"multiple render targets not supported")),bt||("colorCount"in vt&&(An=vt.colorCount|0,y(An>0,"invalid color buffer count")),"colorTexture"in vt&&(Tn=!!vt.colorTexture,en="rgba4"),"colorType"in vt&&(En=vt.colorType,Tn?(y(v.oes_texture_float||!(En==="float"||En==="float32"),"you must enable OES_texture_float in order to use floating point framebuffer objects"),y(v.oes_texture_half_float||!(En==="half float"||En==="float16"),"you must enable OES_texture_half_float in order to use 16-bit floating point framebuffer objects")):En==="half float"||En==="float16"?(y(v.ext_color_buffer_half_float,"you must enable EXT_color_buffer_half_float to use 16-bit render buffers"),en="rgba16f"):(En==="float"||En==="float32")&&(y(v.webgl_color_buffer_float,"you must enable WEBGL_color_buffer_float in order to use 32-bit floating point renderbuffers"),en="rgba32f"),y.oneOf(En,ve,"invalid color type")),"colorFormat"in vt&&(en=vt.colorFormat,ce.indexOf(en)>=0?Tn=!0:ue.indexOf(en)>=0?Tn=!1:y.optional(function(){Tn?y.oneOf(vt.colorFormat,ce,"invalid color format for texture"):y.oneOf(vt.colorFormat,ue,"invalid color format for renderbuffer")}))),("depthTexture"in vt||"depthStencilTexture"in vt)&&(dn=!!(vt.depthTexture||vt.depthStencilTexture),y(!dn||v.webgl_depth_texture,"webgl_depth_texture extension not supported")),"depth"in vt&&(typeof vt.depth=="boolean"?nn=vt.depth:(Cn=vt.depth,an=!1)),"stencil"in vt&&(typeof vt.stencil=="boolean"?an=vt.stencil:(Dn=vt.stencil,nn=!1)),"depthStencil"in vt&&(typeof vt.depthStencil=="boolean"?nn=an=vt.depthStencil:($n=vt.depthStencil,nn=!1,an=!1))}var $t=null,nt=null,At=null,kt=null;if(Array.isArray(bt))$t=bt.map(pe);else if(bt)$t=[pe(bt)];else for($t=new Array(An),it=0;it<An;++it)$t[it]=D(ct,Tt,Tn,en,En);y(v.webgl_draw_buffers||$t.length<=1,"you must enable the WEBGL_draw_buffers extension in order to use multiple color buffers."),y($t.length<=A.maxColorAttachments,"too many color attachments, not supported"),ct=ct||$t[0].width,Tt=Tt||$t[0].height,Cn?nt=pe(Cn):nn&&!an&&(nt=D(ct,Tt,dn,"depth","uint32")),Dn?At=pe(Dn):an&&!nn&&(At=D(ct,Tt,!1,"stencil","uint8")),$n?kt=pe($n):!Cn&&!Dn&&an&&nn&&(kt=D(ct,Tt,dn,"depth stencil","depth stencil")),y(!!Cn+!!Dn+!!$n<=1,"invalid framebuffer configuration, can specify exactly one depth/stencil attachment");var hn=null;for(it=0;it<$t.length;++it)if(_e($t[it],ct,Tt),y(!$t[it]||$t[it].texture&&lm.indexOf($t[it].texture._texture.format)>=0||$t[it].renderbuffer&&dm.indexOf($t[it].renderbuffer._renderbuffer.format)>=0,"framebuffer color attachment "+it+" is invalid"),$t[it]&&$t[it].texture){var hi=Hs[$t[it].texture._texture.format]*sa[$t[it].texture._texture.type];hn===null?hn=hi:y(hn===hi,"all color attachments much have the same number of bits per pixel.")}return _e(nt,ct,Tt),y(!nt||nt.texture&&nt.texture._texture.format===am||nt.renderbuffer&&nt.renderbuffer._renderbuffer.format===rf,"invalid depth attachment for framebuffer object"),_e(At,ct,Tt),y(!At||At.renderbuffer&&At.renderbuffer._renderbuffer.format===of,"invalid stencil attachment for framebuffer object"),_e(kt,ct,Tt),y(!kt||kt.texture&&kt.texture._texture.format===Ws||kt.renderbuffer&&kt.renderbuffer._renderbuffer.format===Ws,"invalid depth-stencil attachment for framebuffer object"),Re(be),be.width=ct,be.height=Tt,be.colorAttachments=$t,be.depthAttachment=nt,be.stencilAttachment=At,be.depthStencilAttachment=kt,ut.color=$t.map(Y),ut.depth=Y(nt),ut.stencil=Y(At),ut.depthStencil=Y(kt),ut.width=be.width,ut.height=be.height,te(be),ut}function st(Le,ke){y(Q.next!==be,"can not resize a framebuffer which is currently in use");var it=Math.max(Le|0,1),ct=Math.max(ke|0||it,1);if(it===be.width&&ct===be.height)return ut;for(var Tt=be.colorAttachments,nn=0;nn<Tt.length;++nn)me(Tt[nn],it,ct);return me(be.depthAttachment,it,ct),me(be.stencilAttachment,it,ct),me(be.depthStencilAttachment,it,ct),be.width=ut.width=it,be.height=ut.height=ct,te(be),ut}return ut(he,Te),r(ut,{resize:st,_reglType:"framebuffer",_framebuffer:be,destroy:function(){Ze(be),Re(be)},use:function(Le){Q.setFBO({framebuffer:ut},Le)}})}function $e(he){var Te=Array(6);function be(st){var Le;y(Te.indexOf(Q.next)<0,"can not update framebuffer which is currently in use");var ke={color:null},it=0,ct=null,Tt="rgba",nn="uint8",an=1;if(typeof st=="number")it=st|0;else if(!st)it=1;else{y.type(st,"object","invalid arguments for framebuffer");var bt=st;if("shape"in bt){var Tn=bt.shape;y(Array.isArray(Tn)&&Tn.length>=2,"invalid shape for framebuffer"),y(Tn[0]===Tn[1],"cube framebuffer must be square"),it=Tn[0]}else"radius"in bt&&(it=bt.radius|0),"width"in bt?(it=bt.width|0,"height"in bt&&y(bt.height===it,"must be square")):"height"in bt&&(it=bt.height|0);("color"in bt||"colors"in bt)&&(ct=bt.color||bt.colors,Array.isArray(ct)&&y(ct.length===1||v.webgl_draw_buffers,"multiple render targets not supported")),ct||("colorCount"in bt&&(an=bt.colorCount|0,y(an>0,"invalid color buffer count")),"colorType"in bt&&(y.oneOf(bt.colorType,ve,"invalid color type"),nn=bt.colorType),"colorFormat"in bt&&(Tt=bt.colorFormat,y.oneOf(bt.colorFormat,ce,"invalid color format for texture"))),"depth"in bt&&(ke.depth=bt.depth),"stencil"in bt&&(ke.stencil=bt.stencil),"depthStencil"in bt&&(ke.depthStencil=bt.depthStencil)}var en;if(ct)if(Array.isArray(ct))for(en=[],Le=0;Le<ct.length;++Le)en[Le]=ct[Le];else en=[ct];else{en=Array(an);var En={radius:it,format:Tt,type:nn};for(Le=0;Le<an;++Le)en[Le]=H.createCube(En)}for(ke.color=Array(en.length),Le=0;Le<en.length;++Le){var An=en[Le];y(typeof An=="function"&&An._reglType==="textureCube","invalid cube map"),it=it||An.width,y(An.width===it&&An.height===it,"invalid cube map shape"),ke.color[Le]={target:ml,data:en[Le]}}for(Le=0;Le<6;++Le){for(var Cn=0;Cn<en.length;++Cn)ke.color[Cn].target=ml+Le;Le>0&&(ke.depth=Te[0].depth,ke.stencil=Te[0].stencil,ke.depthStencil=Te[0].depthStencil),Te[Le]?Te[Le](ke):Te[Le]=J(ke)}return r(be,{width:it,height:it,color:en})}function ut(st){var Le,ke=st|0;if(y(ke>0&&ke<=A.maxCubeMapSize,"invalid radius for cube fbo"),ke===be.width)return be;var it=be.color;for(Le=0;Le<it.length;++Le)it[Le].resize(ke);for(Le=0;Le<6;++Le)Te[Le].resize(ke);return be.width=be.height=ke,be}return be(he),r(be,{faces:Te,resize:ut,_reglType:"framebufferCube",destroy:function(){Te.forEach(function(st){st.destroy()})}})}function we(){Q.cur=null,Q.next=null,Q.dirty=!0,Jn(le).forEach(function(he){he.framebuffer=c.createFramebuffer(),te(he)})}return r(Q,{getFramebuffer:function(he){if(typeof he=="function"&&he._reglType==="framebuffer"){var Te=he._framebuffer;if(Te instanceof Pe)return Te}return null},create:J,createCube:$e,clear:function(){Jn(le).forEach(Ze)},restore:we})}var mm=5126,s=34962,N=34963,$=["attributes","elements","offset","count","primitive","instances"];function ie(){this.state=0,this.x=0,this.y=0,this.z=0,this.w=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=mm,this.offset=0,this.stride=0,this.divisor=0}function Se(c,v,A,H,ee,V,Q){for(var ce=A.maxAttributes,ue=new Array(ce),ve=0;ve<ce;++ve)ue[ve]=new ie;var ge=0,ye={},_e={Record:ie,scope:{},state:ue,currentVAO:null,targetVAO:null,restore:pe()?Re:function(){},createVAO:Ze,getVAO:Y,destroyBuffer:fe,setVAO:pe()?me:Ie,clear:pe()?le:function(){}};function fe(te){for(var J=0;J<ue.length;++J){var $e=ue[J];$e.buffer===te&&(c.disableVertexAttribArray(J),$e.buffer=null)}}function pe(){return v.oes_vertex_array_object}function D(){return v.angle_instanced_arrays}function Y(te){return typeof te=="function"&&te._vao?te._vao:null}function me(te){if(te!==_e.currentVAO){var J=pe();te?J.bindVertexArrayOES(te.vao):J.bindVertexArrayOES(null),_e.currentVAO=te}}function Ie(te){if(te!==_e.currentVAO){if(te)te.bindAttrs();else{for(var J=D(),$e=0;$e<ue.length;++$e){var we=ue[$e];we.buffer?(c.enableVertexAttribArray($e),we.buffer.bind(),c.vertexAttribPointer($e,we.size,we.type,we.normalized,we.stride,we.offfset),J&&we.divisor&&J.vertexAttribDivisorANGLE($e,we.divisor)):(c.disableVertexAttribArray($e),c.vertexAttrib4f($e,we.x,we.y,we.z,we.w))}Q.elements?c.bindBuffer(N,Q.elements.buffer.buffer):c.bindBuffer(N,null)}_e.currentVAO=te}}function le(){Jn(ye).forEach(function(te){te.destroy()})}function Pe(){this.id=++ge,this.attributes=[],this.elements=null,this.ownsElements=!1,this.count=0,this.offset=0,this.instances=-1,this.primitive=4;var te=pe();te?this.vao=te.createVertexArrayOES():this.vao=null,ye[this.id]=this,this.buffers=[]}Pe.prototype.bindAttrs=function(){for(var te=D(),J=this.attributes,$e=0;$e<J.length;++$e){var we=J[$e];we.buffer?(c.enableVertexAttribArray($e),c.bindBuffer(s,we.buffer.buffer),c.vertexAttribPointer($e,we.size,we.type,we.normalized,we.stride,we.offset),te&&we.divisor&&te.vertexAttribDivisorANGLE($e,we.divisor)):(c.disableVertexAttribArray($e),c.vertexAttrib4f($e,we.x,we.y,we.z,we.w))}for(var he=J.length;he<ce;++he)c.disableVertexAttribArray(he);var Te=V.getElements(this.elements);Te?c.bindBuffer(N,Te.buffer.buffer):c.bindBuffer(N,null)},Pe.prototype.refresh=function(){var te=pe();te&&(te.bindVertexArrayOES(this.vao),this.bindAttrs(),_e.currentVAO=null,te.bindVertexArrayOES(null))},Pe.prototype.destroy=function(){if(this.vao){var te=pe();this===_e.currentVAO&&(_e.currentVAO=null,te.bindVertexArrayOES(null)),te.deleteVertexArrayOES(this.vao),this.vao=null}this.ownsElements&&(this.elements.destroy(),this.elements=null,this.ownsElements=!1),ye[this.id]&&(delete ye[this.id],H.vaoCount-=1)};function Re(){var te=pe();te&&Jn(ye).forEach(function(J){J.refresh()})}function Ze(te){var J=new Pe;H.vaoCount+=1;function $e(we){var he;if(Array.isArray(we))he=we,J.elements&&J.ownsElements&&J.elements.destroy(),J.elements=null,J.ownsElements=!1,J.offset=0,J.count=0,J.instances=-1,J.primitive=4;else{if(y(typeof we=="object","invalid arguments for create vao"),y("attributes"in we,"must specify attributes for vao"),we.elements){var Te=we.elements;J.ownsElements?typeof Te=="function"&&Te._reglType==="elements"?(J.elements.destroy(),J.ownsElements=!1):(J.elements(Te),J.ownsElements=!1):V.getElements(we.elements)?(J.elements=we.elements,J.ownsElements=!1):(J.elements=V.create(we.elements),J.ownsElements=!0)}else J.elements=null,J.ownsElements=!1;he=we.attributes,J.offset=0,J.count=-1,J.instances=-1,J.primitive=4,J.elements&&(J.count=J.elements._elements.vertCount,J.primitive=J.elements._elements.primType),"offset"in we&&(J.offset=we.offset|0),"count"in we&&(J.count=we.count|0),"instances"in we&&(J.instances=we.instances|0),"primitive"in we&&(y(we.primitive in ui,"bad primitive type: "+we.primitive),J.primitive=ui[we.primitive]),y.optional(()=>{for(var nn=Object.keys(we),an=0;an<nn.length;++an)y($.indexOf(nn[an])>=0,'invalid option for vao: "'+nn[an]+'" valid options are '+$)}),y(Array.isArray(he),"attributes must be an array")}y(he.length<ce,"too many attributes"),y(he.length>0,"must specify at least one attribute");var be={},ut=J.attributes;ut.length=he.length;for(var st=0;st<he.length;++st){var Le=he[st],ke=ut[st]=new ie,it=Le.data||Le;if(Array.isArray(it)||n(it)||sr(it)){var ct;J.buffers[st]&&(ct=J.buffers[st],n(it)&&ct._buffer.byteLength>=it.byteLength?ct.subdata(it):(ct.destroy(),J.buffers[st]=null)),J.buffers[st]||(ct=J.buffers[st]=ee.create(Le,s,!1,!0)),ke.buffer=ee.getBuffer(ct),ke.size=ke.buffer.dimension|0,ke.normalized=!1,ke.type=ke.buffer.dtype,ke.offset=0,ke.stride=0,ke.divisor=0,ke.state=1,be[st]=1}else ee.getBuffer(Le)?(ke.buffer=ee.getBuffer(Le),ke.size=ke.buffer.dimension|0,ke.normalized=!1,ke.type=ke.buffer.dtype,ke.offset=0,ke.stride=0,ke.divisor=0,ke.state=1):ee.getBuffer(Le.buffer)?(ke.buffer=ee.getBuffer(Le.buffer),ke.size=(+Le.size||ke.buffer.dimension)|0,ke.normalized=!!Le.normalized||!1,"type"in Le?(y.parameter(Le.type,oo,"invalid buffer type"),ke.type=oo[Le.type]):ke.type=ke.buffer.dtype,ke.offset=(Le.offset||0)|0,ke.stride=(Le.stride||0)|0,ke.divisor=(Le.divisor||0)|0,ke.state=1,y(ke.size>=1&&ke.size<=4,"size must be between 1 and 4"),y(ke.offset>=0,"invalid offset"),y(ke.stride>=0&&ke.stride<=255,"stride must be between 0 and 255"),y(ke.divisor>=0,"divisor must be positive"),y(!ke.divisor||!!v.angle_instanced_arrays,"ANGLE_instanced_arrays must be enabled to use divisor")):"x"in Le?(y(st>0,"first attribute must not be a constant"),ke.x=+Le.x||0,ke.y=+Le.y||0,ke.z=+Le.z||0,ke.w=+Le.w||0,ke.state=2):y(!1,"invalid attribute spec for location "+st)}for(var Tt=0;Tt<J.buffers.length;++Tt)!be[Tt]&&J.buffers[Tt]&&(J.buffers[Tt].destroy(),J.buffers[Tt]=null);return J.refresh(),$e}return $e.destroy=function(){for(var we=0;we<J.buffers.length;++we)J.buffers[we]&&J.buffers[we].destroy();J.buffers.length=0,J.ownsElements&&(J.elements.destroy(),J.elements=null,J.ownsElements=!1),J.destroy()},$e._vao=J,$e._reglType="vao",$e(te)}return _e}var De=35632,He=35633,mt=35718,jt=35721;function It(c,v,A,H){var ee={},V={};function Q(D,Y,me,Ie){this.name=D,this.id=Y,this.location=me,this.info=Ie}function ce(D,Y){for(var me=0;me<D.length;++me)if(D[me].id===Y.id){D[me].location=Y.location;return}D.push(Y)}function ue(D,Y,me){var Ie=D===De?ee:V,le=Ie[Y];if(!le){var Pe=v.str(Y);le=c.createShader(D),c.shaderSource(le,Pe),c.compileShader(le),y.shaderError(c,le,Pe,D,me),Ie[Y]=le}return le}var ve={},ge=[],ye=0;function _e(D,Y){this.id=ye++,this.fragId=D,this.vertId=Y,this.program=null,this.uniforms=[],this.attributes=[],this.refCount=1,H.profile&&(this.stats={uniformsCount:0,attributesCount:0})}function fe(D,Y,me){var Ie,le,Pe=ue(De,D.fragId),Re=ue(He,D.vertId),Ze=D.program=c.createProgram();if(c.attachShader(Ze,Pe),c.attachShader(Ze,Re),me)for(Ie=0;Ie<me.length;++Ie){var te=me[Ie];c.bindAttribLocation(Ze,te[0],te[1])}c.linkProgram(Ze),y.linkError(c,Ze,v.str(D.fragId),v.str(D.vertId),Y);var J=c.getProgramParameter(Ze,mt);H.profile&&(D.stats.uniformsCount=J);var $e=D.uniforms;for(Ie=0;Ie<J;++Ie)if(le=c.getActiveUniform(Ze,Ie),le){if(le.size>1)for(var we=0;we<le.size;++we){var he=le.name.replace("[0]","["+we+"]");ce($e,new Q(he,v.id(he),c.getUniformLocation(Ze,he),le))}var Te=le.name;le.size>1&&(Te=Te.replace("[0]","")),ce($e,new Q(Te,v.id(Te),c.getUniformLocation(Ze,Te),le))}var be=c.getProgramParameter(Ze,jt);H.profile&&(D.stats.attributesCount=be);var ut=D.attributes;for(Ie=0;Ie<be;++Ie)le=c.getActiveAttrib(Ze,Ie),le&&ce(ut,new Q(le.name,v.id(le.name),c.getAttribLocation(Ze,le.name),le))}H.profile&&(A.getMaxUniformsCount=function(){var D=0;return ge.forEach(function(Y){Y.stats.uniformsCount>D&&(D=Y.stats.uniformsCount)}),D},A.getMaxAttributesCount=function(){var D=0;return ge.forEach(function(Y){Y.stats.attributesCount>D&&(D=Y.stats.attributesCount)}),D});function pe(){ee={},V={};for(var D=0;D<ge.length;++D)fe(ge[D],null,ge[D].attributes.map(function(Y){return[Y.location,Y.name]}))}return{clear:function(){var D=c.deleteShader.bind(c);Jn(ee).forEach(D),ee={},Jn(V).forEach(D),V={},ge.forEach(function(Y){c.deleteProgram(Y.program)}),ge.length=0,ve={},A.shaderCount=0},program:function(D,Y,me,Ie){y.command(D>=0,"missing vertex shader",me),y.command(Y>=0,"missing fragment shader",me);var le=ve[Y];le||(le=ve[Y]={});var Pe=le[D];if(Pe&&(Pe.refCount++,!Ie))return Pe;var Re=new _e(Y,D);return A.shaderCount++,fe(Re,me,Ie),Pe||(le[D]=Re),ge.push(Re),r(Re,{destroy:function(){if(Re.refCount--,Re.refCount<=0){c.deleteProgram(Re.program);var Ze=ge.indexOf(Re);ge.splice(Ze,1),A.shaderCount--}le[Re.vertId].refCount<=0&&(c.deleteShader(V[Re.vertId]),delete V[Re.vertId],delete ve[Re.fragId][Re.vertId]),Object.keys(ve[Re.fragId]).length||(c.deleteShader(ee[Re.fragId]),delete ee[Re.fragId],delete ve[Re.fragId])}})},restore:pe,shader:ue,frag:-1,vert:-1}}var gn=6408,Wt=5121,Mt=3333,lf=5126;function q_(c,v,A,H,ee,V,Q){function ce(ge){var ye;v.next===null?(y(ee.preserveDrawingBuffer,'you must create a webgl context with "preserveDrawingBuffer":true in order to read pixels from the drawing buffer'),ye=Wt):(y(v.next.colorAttachments[0].texture!==null,"You cannot read from a renderbuffer"),ye=v.next.colorAttachments[0].texture._texture.type,y.optional(function(){V.oes_texture_float?(y(ye===Wt||ye===lf,"Reading from a framebuffer is only allowed for the types 'uint8' and 'float'"),ye===lf&&y(Q.readFloat,"Reading 'float' values is not permitted in your browser. For a fallback, please see: https://www.npmjs.com/package/glsl-read-float")):y(ye===Wt,"Reading from a framebuffer is only allowed for the type 'uint8'")}));var _e=0,fe=0,pe=H.framebufferWidth,D=H.framebufferHeight,Y=null;n(ge)?Y=ge:ge&&(y.type(ge,"object","invalid arguments to regl.read()"),_e=ge.x|0,fe=ge.y|0,y(_e>=0&&_e<H.framebufferWidth,"invalid x offset for regl.read"),y(fe>=0&&fe<H.framebufferHeight,"invalid y offset for regl.read"),pe=(ge.width||H.framebufferWidth-_e)|0,D=(ge.height||H.framebufferHeight-fe)|0,Y=ge.data||null),Y&&(ye===Wt?y(Y instanceof Uint8Array,"buffer must be 'Uint8Array' when reading from a framebuffer of type 'uint8'"):ye===lf&&y(Y instanceof Float32Array,"buffer must be 'Float32Array' when reading from a framebuffer of type 'float'")),y(pe>0&&pe+_e<=H.framebufferWidth,"invalid width for read pixels"),y(D>0&&D+fe<=H.framebufferHeight,"invalid height for read pixels"),A();var me=pe*D*4;return Y||(ye===Wt?Y=new Uint8Array(me):ye===lf&&(Y=Y||new Float32Array(me))),y.isTypedArray(Y,"data buffer for regl.read() must be a typedarray"),y(Y.byteLength>=me,"data buffer for regl.read() too small"),c.pixelStorei(Mt,4),c.readPixels(_e,fe,pe,D,gn,ye,Y),Y}function ue(ge){var ye;return v.setFBO({framebuffer:ge.framebuffer},function(){ye=ce(ge)}),ye}function ve(ge){return!ge||!("framebuffer"in ge)?ce(ge):ue(ge)}return ve}function vl(c){return Array.prototype.slice.call(c)}function yl(c){return vl(c).join("")}function Z_(){var c=0,v=[],A=[];function H(ye){for(var _e=0;_e<A.length;++_e)if(A[_e]===ye)return v[_e];var fe="g"+c++;return v.push(fe),A.push(ye),fe}function ee(){var ye=[];function _e(){ye.push.apply(ye,vl(arguments))}var fe=[];function pe(){var D="v"+c++;return fe.push(D),arguments.length>0&&(ye.push(D,"="),ye.push.apply(ye,vl(arguments)),ye.push(";")),D}return r(_e,{def:pe,toString:function(){return yl([fe.length>0?"var "+fe.join(",")+";":"",yl(ye)])}})}function V(){var ye=ee(),_e=ee(),fe=ye.toString,pe=_e.toString;function D(Y,me){_e(Y,me,"=",ye.def(Y,me),";")}return r(function(){ye.apply(ye,vl(arguments))},{def:ye.def,entry:ye,exit:_e,save:D,set:function(Y,me,Ie){D(Y,me),ye(Y,me,"=",Ie,";")},toString:function(){return fe()+pe()}})}function Q(){var ye=yl(arguments),_e=V(),fe=V(),pe=_e.toString,D=fe.toString;return r(_e,{then:function(){return _e.apply(_e,vl(arguments)),this},else:function(){return fe.apply(fe,vl(arguments)),this},toString:function(){var Y=D();return Y&&(Y="else{"+Y+"}"),yl(["if(",ye,"){",pe(),"}",Y])}})}var ce=ee(),ue={};function ve(ye,_e){var fe=[];function pe(){var le="a"+fe.length;return fe.push(le),le}_e=_e||0;for(var D=0;D<_e;++D)pe();var Y=V(),me=Y.toString,Ie=ue[ye]=r(Y,{arg:pe,toString:function(){return yl(["function(",fe.join(),"){",me(),"}"])}});return Ie}function ge(){var ye=['"use strict";',ce,"return {"];Object.keys(ue).forEach(function(pe){ye.push('"',pe,'":',ue[pe].toString(),",")}),ye.push("}");var _e=yl(ye).replace(/;/g,`;
`).replace(/}/g,`}
`).replace(/{/g,`{
`),fe=Function.apply(null,v.concat(_e));return fe.apply(null,A)}return{global:ce,link:H,block:ee,proc:ve,scope:V,cond:Q,compile:ge}}var gl="xyzw".split(""),Jv=5121,xl=1,pm=2,vm=0,ym=1,gm=2,xm=3,sf=4,ey=5,ty=6,ny="dither",ry="blend.enable",iy="blend.color",Em="blend.equation",_m="blend.func",oy="depth.enable",ay="depth.func",ly="depth.range",sy="depth.mask",Sm="colorMask",uy="cull.enable",cy="cull.face",wm="frontFace",Tm="lineWidth",fy="polygonOffset.enable",Am="polygonOffset.offset",dy="sample.alpha",hy="sample.enable",Cm="sample.coverage",my="stencil.enable",py="stencil.mask",bm="stencil.func",Rm="stencil.opFront",Xs="stencil.opBack",vy="scissor.enable",uf="scissor.box",Ii="viewport",Ys="profile",ca="framebuffer",Qs="vert",Ks="frag",fa="elements",da="primitive",ha="count",cf="offset",ff="instances",qs="vao",Lm="Width",Om="Height",El=ca+Lm,_l=ca+Om,J_=Ii+Lm,eS=Ii+Om,yy="drawingBuffer",gy=yy+Lm,xy=yy+Om,tS=[_m,Em,bm,Rm,Xs,Cm,Ii,uf,Am],Sl=34962,Pm=34963,nS=35632,rS=35633,Ey=3553,iS=34067,oS=2884,aS=3042,lS=3024,sS=2960,uS=2929,cS=3089,fS=32823,dS=32926,hS=32928,km=5126,df=35664,hf=35665,mf=35666,Nm=5124,pf=35667,vf=35668,yf=35669,Im=35670,gf=35671,xf=35672,Ef=35673,Zs=35674,Js=35675,eu=35676,tu=35678,nu=35680,Mm=4,ru=1028,ma=1029,_y=2304,Dm=2305,mS=32775,pS=32776,vS=519,mo=7680,Sy=0,wy=1,Ty=32774,yS=513,Ay=36160,gS=36064,di={0:0,1:1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},Cy=["constant color, constant alpha","one minus constant color, constant alpha","constant color, one minus constant alpha","one minus constant color, one minus constant alpha","constant alpha, constant color","constant alpha, one minus constant color","one minus constant alpha, constant color","one minus constant alpha, one minus constant color"],wl={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},po={0:0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},by={frag:nS,vert:rS},Fm={cw:_y,ccw:Dm};function _f(c){return Array.isArray(c)||n(c)||sr(c)}function Ry(c){return c.sort(function(v,A){return v===Ii?-1:A===Ii?1:v<A?-1:1})}function On(c,v,A,H){this.thisDep=c,this.contextDep=v,this.propDep=A,this.append=H}function vo(c){return c&&!(c.thisDep||c.contextDep||c.propDep)}function xn(c){return new On(!1,!1,!1,c)}function ur(c,v){var A=c.type;if(A===vm){var H=c.data.length;return new On(!0,H>=1,H>=2,v)}else if(A===sf){var ee=c.data;return new On(ee.thisDep,ee.contextDep,ee.propDep,v)}else{if(A===ey)return new On(!1,!1,!1,v);if(A===ty){for(var V=!1,Q=!1,ce=!1,ue=0;ue<c.data.length;++ue){var ve=c.data[ue];if(ve.type===ym)ce=!0;else if(ve.type===gm)Q=!0;else if(ve.type===xm)V=!0;else if(ve.type===vm){V=!0;var ge=ve.data;ge>=1&&(Q=!0),ge>=2&&(ce=!0)}else ve.type===sf&&(V=V||ve.data.thisDep,Q=Q||ve.data.contextDep,ce=ce||ve.data.propDep)}return new On(V,Q,ce,v)}else return new On(A===xm,A===gm,A===ym,v)}}var Ly=new On(!1,!1,!1,function(){});function xS(c,v,A,H,ee,V,Q,ce,ue,ve,ge,ye,_e,fe,pe){var D=ve.Record,Y={add:32774,subtract:32778,"reverse subtract":32779};A.ext_blend_minmax&&(Y.min=mS,Y.max=pS);var me=A.angle_instanced_arrays,Ie=A.webgl_draw_buffers,le=A.oes_vertex_array_object,Pe={dirty:!0,profile:pe.profile},Re={},Ze=[],te={},J={};function $e(g){return g.replace(".","_")}function we(g,d,b){var M=$e(g);Ze.push(g),Re[M]=Pe[M]=!!b,te[M]=d}function he(g,d,b){var M=$e(g);Ze.push(g),Array.isArray(b)?(Pe[M]=b.slice(),Re[M]=b.slice()):Pe[M]=Re[M]=b,J[M]=d}we(ny,lS),we(ry,aS),he(iy,"blendColor",[0,0,0,0]),he(Em,"blendEquationSeparate",[Ty,Ty]),he(_m,"blendFuncSeparate",[wy,Sy,wy,Sy]),we(oy,uS,!0),he(ay,"depthFunc",yS),he(ly,"depthRange",[0,1]),he(sy,"depthMask",!0),he(Sm,Sm,[!0,!0,!0,!0]),we(uy,oS),he(cy,"cullFace",ma),he(wm,wm,Dm),he(Tm,Tm,1),we(fy,fS),he(Am,"polygonOffset",[0,0]),we(dy,dS),we(hy,hS),he(Cm,"sampleCoverage",[1,!1]),we(my,sS),he(py,"stencilMask",-1),he(bm,"stencilFunc",[vS,0,-1]),he(Rm,"stencilOpSeparate",[ru,mo,mo,mo]),he(Xs,"stencilOpSeparate",[ma,mo,mo,mo]),we(vy,cS),he(uf,"scissor",[0,0,c.drawingBufferWidth,c.drawingBufferHeight]),he(Ii,Ii,[0,0,c.drawingBufferWidth,c.drawingBufferHeight]);var Te={gl:c,context:_e,strings:v,next:Re,current:Pe,draw:ye,elements:V,buffer:ee,shader:ge,attributes:ve.state,vao:ve,uniforms:ue,framebuffer:ce,extensions:A,timer:fe,isBufferArgs:_f},be={primTypes:ui,compareFuncs:wl,blendFuncs:di,blendEquations:Y,stencilOps:po,glTypes:oo,orientationType:Fm};y.optional(function(){Te.isArrayLike=Jt}),Ie&&(be.backBuffer=[ma],be.drawBuffer=fn(H.maxDrawbuffers,function(g){return g===0?[0]:fn(g,function(d){return gS+d})}));var ut=0;function st(){var g=Z_(),d=g.link,b=g.global;g.id=ut++,g.batchId="0";var M=d(Te),F=g.shared={props:"a0"};Object.keys(Te).forEach(function(T){F[T]=b.def(M,".",T)}),y.optional(function(){g.CHECK=d(y),g.commandStr=y.guessCommand(),g.command=d(g.commandStr),g.assert=function(T,_,G){T("if(!(",_,"))",this.CHECK,".commandRaise(",d(G),",",this.command,");")},be.invalidBlendCombinations=Cy});var P=g.next={},R=g.current={};Object.keys(J).forEach(function(T){Array.isArray(Pe[T])&&(P[T]=b.def(F.next,".",T),R[T]=b.def(F.current,".",T))});var I=g.constants={};Object.keys(be).forEach(function(T){I[T]=b.def(JSON.stringify(be[T]))}),g.invoke=function(T,_){switch(_.type){case vm:var G=["this",F.context,F.props,g.batchId];return T.def(d(_.data),".call(",G.slice(0,Math.max(_.data.length+1,4)),")");case ym:return T.def(F.props,_.data);case gm:return T.def(F.context,_.data);case xm:return T.def("this",_.data);case sf:return _.data.append(g,T),_.data.ref;case ey:return _.data.toString();case ty:return _.data.map(function(B){return g.invoke(T,B)})}},g.attribCache={};var E={};return g.scopeAttrib=function(T){var _=v.id(T);if(_ in E)return E[_];var G=ve.scope[_];G||(G=ve.scope[_]=new D);var B=E[_]=d(G);return B},g}function Le(g){var d=g.static,b=g.dynamic,M;if(Ys in d){var F=!!d[Ys];M=xn(function(R,I){return F}),M.enable=F}else if(Ys in b){var P=b[Ys];M=ur(P,function(R,I){return R.invoke(I,P)})}return M}function ke(g,d){var b=g.static,M=g.dynamic;if(ca in b){var F=b[ca];return F?(F=ce.getFramebuffer(F),y.command(F,"invalid framebuffer object"),xn(function(R,I){var E=R.link(F),T=R.shared;I.set(T.framebuffer,".next",E);var _=T.context;return I.set(_,"."+El,E+".width"),I.set(_,"."+_l,E+".height"),E})):xn(function(R,I){var E=R.shared;I.set(E.framebuffer,".next","null");var T=E.context;return I.set(T,"."+El,T+"."+gy),I.set(T,"."+_l,T+"."+xy),"null"})}else if(ca in M){var P=M[ca];return ur(P,function(R,I){var E=R.invoke(I,P),T=R.shared,_=T.framebuffer,G=I.def(_,".getFramebuffer(",E,")");y.optional(function(){R.assert(I,"!"+E+"||"+G,"invalid framebuffer object")}),I.set(_,".next",G);var B=T.context;return I.set(B,"."+El,G+"?"+G+".width:"+B+"."+gy),I.set(B,"."+_l,G+"?"+G+".height:"+B+"."+xy),G})}else return null}function it(g,d,b){var M=g.static,F=g.dynamic;function P(E){if(E in M){var T=M[E];y.commandType(T,"object","invalid "+E,b.commandStr);var _=!0,G=T.x|0,B=T.y|0,Z,ne;return"width"in T?(Z=T.width|0,y.command(Z>=0,"invalid "+E,b.commandStr)):_=!1,"height"in T?(ne=T.height|0,y.command(ne>=0,"invalid "+E,b.commandStr)):_=!1,new On(!_&&d&&d.thisDep,!_&&d&&d.contextDep,!_&&d&&d.propDep,function(Ke,Fe){var oe=Ke.shared.context,K=Z;"width"in T||(K=Fe.def(oe,".",El,"-",G));var We=ne;return"height"in T||(We=Fe.def(oe,".",_l,"-",B)),[G,B,K,We]})}else if(E in F){var Ee=F[E],at=ur(Ee,function(Ke,Fe){var oe=Ke.invoke(Fe,Ee);y.optional(function(){Ke.assert(Fe,oe+"&&typeof "+oe+'==="object"',"invalid "+E)});var K=Ke.shared.context,We=Fe.def(oe,".x|0"),Ve=Fe.def(oe,".y|0"),ot=Fe.def('"width" in ',oe,"?",oe,".width|0:","(",K,".",El,"-",We,")"),Vt=Fe.def('"height" in ',oe,"?",oe,".height|0:","(",K,".",_l,"-",Ve,")");return y.optional(function(){Ke.assert(Fe,ot+">=0&&"+Vt+">=0","invalid "+E)}),[We,Ve,ot,Vt]});return d&&(at.thisDep=at.thisDep||d.thisDep,at.contextDep=at.contextDep||d.contextDep,at.propDep=at.propDep||d.propDep),at}else return d?new On(d.thisDep,d.contextDep,d.propDep,function(Ke,Fe){var oe=Ke.shared.context;return[0,0,Fe.def(oe,".",El),Fe.def(oe,".",_l)]}):null}var R=P(Ii);if(R){var I=R;R=new On(R.thisDep,R.contextDep,R.propDep,function(E,T){var _=I.append(E,T),G=E.shared.context;return T.set(G,"."+J_,_[2]),T.set(G,"."+eS,_[3]),_})}return{viewport:R,scissor_box:P(uf)}}function ct(g,d){var b=g.static,M=typeof b[Ks]=="string"&&typeof b[Qs]=="string";if(M){if(Object.keys(d.dynamic).length>0)return null;var F=d.static,P=Object.keys(F);if(P.length>0&&typeof F[P[0]]=="number"){for(var R=[],I=0;I<P.length;++I)y(typeof F[P[I]]=="number","must specify all vertex attribute locations when using vaos"),R.push([F[P[I]]|0,P[I]]);return R}}return null}function Tt(g,d,b){var M=g.static,F=g.dynamic;function P(_){if(_ in M){var G=v.id(M[_]);y.optional(function(){ge.shader(by[_],G,y.guessCommand())});var B=xn(function(){return G});return B.id=G,B}else if(_ in F){var Z=F[_];return ur(Z,function(ne,Ee){var at=ne.invoke(Ee,Z),Ke=Ee.def(ne.shared.strings,".id(",at,")");return y.optional(function(){Ee(ne.shared.shader,".shader(",by[_],",",Ke,",",ne.command,");")}),Ke})}return null}var R=P(Ks),I=P(Qs),E=null,T;return vo(R)&&vo(I)?(E=ge.program(I.id,R.id,null,b),T=xn(function(_,G){return _.link(E)})):T=new On(R&&R.thisDep||I&&I.thisDep,R&&R.contextDep||I&&I.contextDep,R&&R.propDep||I&&I.propDep,function(_,G){var B=_.shared.shader,Z;R?Z=R.append(_,G):Z=G.def(B,".",Ks);var ne;I?ne=I.append(_,G):ne=G.def(B,".",Qs);var Ee=B+".program("+ne+","+Z;return y.optional(function(){Ee+=","+_.command}),G.def(Ee+")")}),{frag:R,vert:I,progVar:T,program:E}}function nn(g,d){var b=g.static,M=g.dynamic,F={},P=!1;function R(){if(qs in b){var Fe=b[qs];return Fe!==null&&ve.getVAO(Fe)===null&&(Fe=ve.createVAO(Fe)),P=!0,F.vao=Fe,xn(function(K){var We=ve.getVAO(Fe);return We?K.link(We):"null"})}else if(qs in M){P=!0;var oe=M[qs];return ur(oe,function(K,We){var Ve=K.invoke(We,oe);return We.def(K.shared.vao+".getVAO("+Ve+")")})}return null}var I=R(),E=!1;function T(){if(fa in b){var Fe=b[fa];if(F.elements=Fe,_f(Fe)){var oe=F.elements=V.create(Fe,!0);Fe=V.getElements(oe),E=!0}else Fe&&(Fe=V.getElements(Fe),E=!0,y.command(Fe,"invalid elements",d.commandStr));var K=xn(function(Ve,ot){if(Fe){var Vt=Ve.link(Fe);return Ve.ELEMENTS=Vt,Vt}return Ve.ELEMENTS=null,null});return K.value=Fe,K}else if(fa in M){E=!0;var We=M[fa];return ur(We,function(Ve,ot){var Vt=Ve.shared,zn=Vt.isBufferArgs,va=Vt.elements,Mi=Ve.invoke(ot,We),mi=ot.def("null"),yo=ot.def(zn,"(",Mi,")"),ya=Ve.cond(yo).then(mi,"=",va,".createStream(",Mi,");").else(mi,"=",va,".getElements(",Mi,");");return y.optional(function(){Ve.assert(ya.else,"!"+Mi+"||"+mi,"invalid elements")}),ot.entry(ya),ot.exit(Ve.cond(yo).then(va,".destroyStream(",mi,");")),Ve.ELEMENTS=mi,mi})}else if(P)return new On(I.thisDep,I.contextDep,I.propDep,function(Ve,ot){return ot.def(Ve.shared.vao+".currentVAO?"+Ve.shared.elements+".getElements("+Ve.shared.vao+".currentVAO.elements):null")});return null}var _=T();function G(){if(da in b){var Fe=b[da];return F.primitive=Fe,y.commandParameter(Fe,ui,"invalid primitve",d.commandStr),xn(function(K,We){return ui[Fe]})}else if(da in M){var oe=M[da];return ur(oe,function(K,We){var Ve=K.constants.primTypes,ot=K.invoke(We,oe);return y.optional(function(){K.assert(We,ot+" in "+Ve,"invalid primitive, must be one of "+Object.keys(ui))}),We.def(Ve,"[",ot,"]")})}else{if(E)return vo(_)?_.value?xn(function(K,We){return We.def(K.ELEMENTS,".primType")}):xn(function(){return Mm}):new On(_.thisDep,_.contextDep,_.propDep,function(K,We){var Ve=K.ELEMENTS;return We.def(Ve,"?",Ve,".primType:",Mm)});if(P)return new On(I.thisDep,I.contextDep,I.propDep,function(K,We){return We.def(K.shared.vao+".currentVAO?"+K.shared.vao+".currentVAO.primitive:"+Mm)})}return null}function B(Fe,oe){if(Fe in b){var K=b[Fe]|0;return oe?F.offset=K:F.instances=K,y.command(!oe||K>=0,"invalid "+Fe,d.commandStr),xn(function(Ve,ot){return oe&&(Ve.OFFSET=K),K})}else if(Fe in M){var We=M[Fe];return ur(We,function(Ve,ot){var Vt=Ve.invoke(ot,We);return oe&&(Ve.OFFSET=Vt,y.optional(function(){Ve.assert(ot,Vt+">=0","invalid "+Fe)})),Vt})}else if(oe){if(E)return xn(function(Ve,ot){return Ve.OFFSET=0,0});if(P)return new On(I.thisDep,I.contextDep,I.propDep,function(Ve,ot){return ot.def(Ve.shared.vao+".currentVAO?"+Ve.shared.vao+".currentVAO.offset:0")})}else if(P)return new On(I.thisDep,I.contextDep,I.propDep,function(Ve,ot){return ot.def(Ve.shared.vao+".currentVAO?"+Ve.shared.vao+".currentVAO.instances:-1")});return null}var Z=B(cf,!0);function ne(){if(ha in b){var Fe=b[ha]|0;return F.count=Fe,y.command(typeof Fe=="number"&&Fe>=0,"invalid vertex count",d.commandStr),xn(function(){return Fe})}else if(ha in M){var oe=M[ha];return ur(oe,function(ot,Vt){var zn=ot.invoke(Vt,oe);return y.optional(function(){ot.assert(Vt,"typeof "+zn+'==="number"&&'+zn+">=0&&"+zn+"===("+zn+"|0)","invalid vertex count")}),zn})}else if(E)if(vo(_)){if(_)return Z?new On(Z.thisDep,Z.contextDep,Z.propDep,function(ot,Vt){var zn=Vt.def(ot.ELEMENTS,".vertCount-",ot.OFFSET);return y.optional(function(){ot.assert(Vt,zn+">=0","invalid vertex offset/element buffer too small")}),zn}):xn(function(ot,Vt){return Vt.def(ot.ELEMENTS,".vertCount")});var K=xn(function(){return-1});return y.optional(function(){K.MISSING=!0}),K}else{var We=new On(_.thisDep||Z.thisDep,_.contextDep||Z.contextDep,_.propDep||Z.propDep,function(ot,Vt){var zn=ot.ELEMENTS;return ot.OFFSET?Vt.def(zn,"?",zn,".vertCount-",ot.OFFSET,":-1"):Vt.def(zn,"?",zn,".vertCount:-1")});return y.optional(function(){We.DYNAMIC=!0}),We}else if(P){var Ve=new On(I.thisDep,I.contextDep,I.propDep,function(ot,Vt){return Vt.def(ot.shared.vao,".currentVAO?",ot.shared.vao,".currentVAO.count:-1")});return Ve}return null}var Ee=G(),at=ne(),Ke=B(ff,!1);return{elements:_,primitive:Ee,count:at,instances:Ke,offset:Z,vao:I,vaoActive:P,elementsActive:E,static:F}}function an(g,d){var b=g.static,M=g.dynamic,F={};return Ze.forEach(function(P){var R=$e(P);function I(E,T){if(P in b){var _=E(b[P]);F[R]=xn(function(){return _})}else if(P in M){var G=M[P];F[R]=ur(G,function(B,Z){return T(B,Z,B.invoke(Z,G))})}}switch(P){case uy:case ry:case ny:case my:case oy:case vy:case fy:case dy:case hy:case sy:return I(function(E){return y.commandType(E,"boolean",P,d.commandStr),E},function(E,T,_){return y.optional(function(){E.assert(T,"typeof "+_+'==="boolean"',"invalid flag "+P,E.commandStr)}),_});case ay:return I(function(E){return y.commandParameter(E,wl,"invalid "+P,d.commandStr),wl[E]},function(E,T,_){var G=E.constants.compareFuncs;return y.optional(function(){E.assert(T,_+" in "+G,"invalid "+P+", must be one of "+Object.keys(wl))}),T.def(G,"[",_,"]")});case ly:return I(function(E){return y.command(Jt(E)&&E.length===2&&typeof E[0]=="number"&&typeof E[1]=="number"&&E[0]<=E[1],"depth range is 2d array",d.commandStr),E},function(E,T,_){y.optional(function(){E.assert(T,E.shared.isArrayLike+"("+_+")&&"+_+".length===2&&typeof "+_+'[0]==="number"&&typeof '+_+'[1]==="number"&&'+_+"[0]<="+_+"[1]","depth range must be a 2d array")});var G=T.def("+",_,"[0]"),B=T.def("+",_,"[1]");return[G,B]});case _m:return I(function(E){y.commandType(E,"object","blend.func",d.commandStr);var T="srcRGB"in E?E.srcRGB:E.src,_="srcAlpha"in E?E.srcAlpha:E.src,G="dstRGB"in E?E.dstRGB:E.dst,B="dstAlpha"in E?E.dstAlpha:E.dst;return y.commandParameter(T,di,R+".srcRGB",d.commandStr),y.commandParameter(_,di,R+".srcAlpha",d.commandStr),y.commandParameter(G,di,R+".dstRGB",d.commandStr),y.commandParameter(B,di,R+".dstAlpha",d.commandStr),y.command(Cy.indexOf(T+", "+G)===-1,"unallowed blending combination (srcRGB, dstRGB) = ("+T+", "+G+")",d.commandStr),[di[T],di[G],di[_],di[B]]},function(E,T,_){var G=E.constants.blendFuncs;y.optional(function(){E.assert(T,_+"&&typeof "+_+'==="object"',"invalid blend func, must be an object")});function B(oe,K){var We=T.def('"',oe,K,'" in ',_,"?",_,".",oe,K,":",_,".",oe);return y.optional(function(){E.assert(T,We+" in "+G,"invalid "+P+"."+oe+K+", must be one of "+Object.keys(di))}),We}var Z=B("src","RGB"),ne=B("dst","RGB");y.optional(function(){var oe=E.constants.invalidBlendCombinations;E.assert(T,oe+".indexOf("+Z+'+", "+'+ne+") === -1 ","unallowed blending combination for (srcRGB, dstRGB)")});var Ee=T.def(G,"[",Z,"]"),at=T.def(G,"[",B("src","Alpha"),"]"),Ke=T.def(G,"[",ne,"]"),Fe=T.def(G,"[",B("dst","Alpha"),"]");return[Ee,Ke,at,Fe]});case Em:return I(function(E){if(typeof E=="string")return y.commandParameter(E,Y,"invalid "+P,d.commandStr),[Y[E],Y[E]];if(typeof E=="object")return y.commandParameter(E.rgb,Y,P+".rgb",d.commandStr),y.commandParameter(E.alpha,Y,P+".alpha",d.commandStr),[Y[E.rgb],Y[E.alpha]];y.commandRaise("invalid blend.equation",d.commandStr)},function(E,T,_){var G=E.constants.blendEquations,B=T.def(),Z=T.def(),ne=E.cond("typeof ",_,'==="string"');return y.optional(function(){function Ee(at,Ke,Fe){E.assert(at,Fe+" in "+G,"invalid "+Ke+", must be one of "+Object.keys(Y))}Ee(ne.then,P,_),E.assert(ne.else,_+"&&typeof "+_+'==="object"',"invalid "+P),Ee(ne.else,P+".rgb",_+".rgb"),Ee(ne.else,P+".alpha",_+".alpha")}),ne.then(B,"=",Z,"=",G,"[",_,"];"),ne.else(B,"=",G,"[",_,".rgb];",Z,"=",G,"[",_,".alpha];"),T(ne),[B,Z]});case iy:return I(function(E){return y.command(Jt(E)&&E.length===4,"blend.color must be a 4d array",d.commandStr),fn(4,function(T){return+E[T]})},function(E,T,_){return y.optional(function(){E.assert(T,E.shared.isArrayLike+"("+_+")&&"+_+".length===4","blend.color must be a 4d array")}),fn(4,function(G){return T.def("+",_,"[",G,"]")})});case py:return I(function(E){return y.commandType(E,"number",R,d.commandStr),E|0},function(E,T,_){return y.optional(function(){E.assert(T,"typeof "+_+'==="number"',"invalid stencil.mask")}),T.def(_,"|0")});case bm:return I(function(E){y.commandType(E,"object",R,d.commandStr);var T=E.cmp||"keep",_=E.ref||0,G="mask"in E?E.mask:-1;return y.commandParameter(T,wl,P+".cmp",d.commandStr),y.commandType(_,"number",P+".ref",d.commandStr),y.commandType(G,"number",P+".mask",d.commandStr),[wl[T],_,G]},function(E,T,_){var G=E.constants.compareFuncs;y.optional(function(){function Ee(){E.assert(T,Array.prototype.join.call(arguments,""),"invalid stencil.func")}Ee(_+"&&typeof ",_,'==="object"'),Ee('!("cmp" in ',_,")||(",_,".cmp in ",G,")")});var B=T.def('"cmp" in ',_,"?",G,"[",_,".cmp]",":",mo),Z=T.def(_,".ref|0"),ne=T.def('"mask" in ',_,"?",_,".mask|0:-1");return[B,Z,ne]});case Rm:case Xs:return I(function(E){y.commandType(E,"object",R,d.commandStr);var T=E.fail||"keep",_=E.zfail||"keep",G=E.zpass||"keep";return y.commandParameter(T,po,P+".fail",d.commandStr),y.commandParameter(_,po,P+".zfail",d.commandStr),y.commandParameter(G,po,P+".zpass",d.commandStr),[P===Xs?ma:ru,po[T],po[_],po[G]]},function(E,T,_){var G=E.constants.stencilOps;y.optional(function(){E.assert(T,_+"&&typeof "+_+'==="object"',"invalid "+P)});function B(Z){return y.optional(function(){E.assert(T,'!("'+Z+'" in '+_+")||("+_+"."+Z+" in "+G+")","invalid "+P+"."+Z+", must be one of "+Object.keys(po))}),T.def('"',Z,'" in ',_,"?",G,"[",_,".",Z,"]:",mo)}return[P===Xs?ma:ru,B("fail"),B("zfail"),B("zpass")]});case Am:return I(function(E){y.commandType(E,"object",R,d.commandStr);var T=E.factor|0,_=E.units|0;return y.commandType(T,"number",R+".factor",d.commandStr),y.commandType(_,"number",R+".units",d.commandStr),[T,_]},function(E,T,_){y.optional(function(){E.assert(T,_+"&&typeof "+_+'==="object"',"invalid "+P)});var G=T.def(_,".factor|0"),B=T.def(_,".units|0");return[G,B]});case cy:return I(function(E){var T=0;return E==="front"?T=ru:E==="back"&&(T=ma),y.command(!!T,R,d.commandStr),T},function(E,T,_){return y.optional(function(){E.assert(T,_+'==="front"||'+_+'==="back"',"invalid cull.face")}),T.def(_,'==="front"?',ru,":",ma)});case Tm:return I(function(E){return y.command(typeof E=="number"&&E>=H.lineWidthDims[0]&&E<=H.lineWidthDims[1],"invalid line width, must be a positive number between "+H.lineWidthDims[0]+" and "+H.lineWidthDims[1],d.commandStr),E},function(E,T,_){return y.optional(function(){E.assert(T,"typeof "+_+'==="number"&&'+_+">="+H.lineWidthDims[0]+"&&"+_+"<="+H.lineWidthDims[1],"invalid line width")}),_});case wm:return I(function(E){return y.commandParameter(E,Fm,R,d.commandStr),Fm[E]},function(E,T,_){return y.optional(function(){E.assert(T,_+'==="cw"||'+_+'==="ccw"',"invalid frontFace, must be one of cw,ccw")}),T.def(_+'==="cw"?'+_y+":"+Dm)});case Sm:return I(function(E){return y.command(Jt(E)&&E.length===4,"color.mask must be length 4 array",d.commandStr),E.map(function(T){return!!T})},function(E,T,_){return y.optional(function(){E.assert(T,E.shared.isArrayLike+"("+_+")&&"+_+".length===4","invalid color.mask")}),fn(4,function(G){return"!!"+_+"["+G+"]"})});case Cm:return I(function(E){y.command(typeof E=="object"&&E,R,d.commandStr);var T="value"in E?E.value:1,_=!!E.invert;return y.command(typeof T=="number"&&T>=0&&T<=1,"sample.coverage.value must be a number between 0 and 1",d.commandStr),[T,_]},function(E,T,_){y.optional(function(){E.assert(T,_+"&&typeof "+_+'==="object"',"invalid sample.coverage")});var G=T.def('"value" in ',_,"?+",_,".value:1"),B=T.def("!!",_,".invert");return[G,B]})}}),F}function bt(g,d){var b=g.static,M=g.dynamic,F={};return Object.keys(b).forEach(function(P){var R=b[P],I;if(typeof R=="number"||typeof R=="boolean")I=xn(function(){return R});else if(typeof R=="function"){var E=R._reglType;E==="texture2d"||E==="textureCube"?I=xn(function(T){return T.link(R)}):E==="framebuffer"||E==="framebufferCube"?(y.command(R.color.length>0,'missing color attachment for framebuffer sent to uniform "'+P+'"',d.commandStr),I=xn(function(T){return T.link(R.color[0])})):y.commandRaise('invalid data for uniform "'+P+'"',d.commandStr)}else Jt(R)?I=xn(function(T){var _=T.global.def("[",fn(R.length,function(G){return y.command(typeof R[G]=="number"||typeof R[G]=="boolean","invalid uniform "+P,T.commandStr),R[G]}),"]");return _}):y.commandRaise('invalid or missing data for uniform "'+P+'"',d.commandStr);I.value=R,F[P]=I}),Object.keys(M).forEach(function(P){var R=M[P];F[P]=ur(R,function(I,E){return I.invoke(E,R)})}),F}function Tn(g,d){var b=g.static,M=g.dynamic,F={};return Object.keys(b).forEach(function(P){var R=b[P],I=v.id(P),E=new D;if(_f(R))E.state=xl,E.buffer=ee.getBuffer(ee.create(R,Sl,!1,!0)),E.type=0;else{var T=ee.getBuffer(R);if(T)E.state=xl,E.buffer=T,E.type=0;else if(y.command(typeof R=="object"&&R,"invalid data for attribute "+P,d.commandStr),"constant"in R){var _=R.constant;E.buffer="null",E.state=pm,typeof _=="number"?E.x=_:(y.command(Jt(_)&&_.length>0&&_.length<=4,"invalid constant for attribute "+P,d.commandStr),gl.forEach(function(Ke,Fe){Fe<_.length&&(E[Ke]=_[Fe])}))}else{_f(R.buffer)?T=ee.getBuffer(ee.create(R.buffer,Sl,!1,!0)):T=ee.getBuffer(R.buffer),y.command(!!T,'missing buffer for attribute "'+P+'"',d.commandStr);var G=R.offset|0;y.command(G>=0,'invalid offset for attribute "'+P+'"',d.commandStr);var B=R.stride|0;y.command(B>=0&&B<256,'invalid stride for attribute "'+P+'", must be integer betweeen [0, 255]',d.commandStr);var Z=R.size|0;y.command(!("size"in R)||Z>0&&Z<=4,'invalid size for attribute "'+P+'", must be 1,2,3,4',d.commandStr);var ne=!!R.normalized,Ee=0;"type"in R&&(y.commandParameter(R.type,oo,"invalid type for attribute "+P,d.commandStr),Ee=oo[R.type]);var at=R.divisor|0;y.optional(function(){"divisor"in R&&(y.command(at===0||me,'cannot specify divisor for attribute "'+P+'", instancing not supported',d.commandStr),y.command(at>=0,'invalid divisor for attribute "'+P+'"',d.commandStr));var Ke=d.commandStr,Fe=["buffer","offset","divisor","normalized","type","size","stride"];Object.keys(R).forEach(function(oe){y.command(Fe.indexOf(oe)>=0,'unknown parameter "'+oe+'" for attribute pointer "'+P+'" (valid parameters are '+Fe+")",Ke)})}),E.buffer=T,E.state=xl,E.size=Z,E.normalized=ne,E.type=Ee||T.dtype,E.offset=G,E.stride=B,E.divisor=at}}F[P]=xn(function(Ke,Fe){var oe=Ke.attribCache;if(I in oe)return oe[I];var K={isStream:!1};return Object.keys(E).forEach(function(We){K[We]=E[We]}),E.buffer&&(K.buffer=Ke.link(E.buffer),K.type=K.type||K.buffer+".dtype"),oe[I]=K,K})}),Object.keys(M).forEach(function(P){var R=M[P];function I(E,T){var _=E.invoke(T,R),G=E.shared,B=E.constants,Z=G.isBufferArgs,ne=G.buffer;y.optional(function(){E.assert(T,_+"&&(typeof "+_+'==="object"||typeof '+_+'==="function")&&('+Z+"("+_+")||"+ne+".getBuffer("+_+")||"+ne+".getBuffer("+_+".buffer)||"+Z+"("+_+'.buffer)||("constant" in '+_+"&&(typeof "+_+'.constant==="number"||'+G.isArrayLike+"("+_+".constant))))",'invalid dynamic attribute "'+P+'"')});var Ee={isStream:T.def(!1)},at=new D;at.state=xl,Object.keys(at).forEach(function(K){Ee[K]=T.def(""+at[K])});var Ke=Ee.buffer,Fe=Ee.type;T("if(",Z,"(",_,")){",Ee.isStream,"=true;",Ke,"=",ne,".createStream(",Sl,",",_,");",Fe,"=",Ke,".dtype;","}else{",Ke,"=",ne,".getBuffer(",_,");","if(",Ke,"){",Fe,"=",Ke,".dtype;",'}else if("constant" in ',_,"){",Ee.state,"=",pm,";","if(typeof "+_+'.constant === "number"){',Ee[gl[0]],"=",_,".constant;",gl.slice(1).map(function(K){return Ee[K]}).join("="),"=0;","}else{",gl.map(function(K,We){return Ee[K]+"="+_+".constant.length>"+We+"?"+_+".constant["+We+"]:0;"}).join(""),"}}else{","if(",Z,"(",_,".buffer)){",Ke,"=",ne,".createStream(",Sl,",",_,".buffer);","}else{",Ke,"=",ne,".getBuffer(",_,".buffer);","}",Fe,'="type" in ',_,"?",B.glTypes,"[",_,".type]:",Ke,".dtype;",Ee.normalized,"=!!",_,".normalized;");function oe(K){T(Ee[K],"=",_,".",K,"|0;")}return oe("size"),oe("offset"),oe("stride"),oe("divisor"),T("}}"),T.exit("if(",Ee.isStream,"){",ne,".destroyStream(",Ke,");","}"),Ee}F[P]=ur(R,I)}),F}function en(g){var d=g.static,b=g.dynamic,M={};return Object.keys(d).forEach(function(F){var P=d[F];M[F]=xn(function(R,I){return typeof P=="number"||typeof P=="boolean"?""+P:R.link(P)})}),Object.keys(b).forEach(function(F){var P=b[F];M[F]=ur(P,function(R,I){return R.invoke(I,P)})}),M}function En(g,d,b,M,F){var P=g.static,R=g.dynamic;y.optional(function(){var oe=[ca,Qs,Ks,fa,da,cf,ha,ff,Ys,qs].concat(Ze);function K(We){Object.keys(We).forEach(function(Ve){y.command(oe.indexOf(Ve)>=0,'unknown parameter "'+Ve+'"',F.commandStr)})}K(P),K(R)});var I=ct(g,d),E=ke(g),T=it(g,E,F),_=nn(g,F),G=an(g,F),B=Tt(g,F,I);function Z(oe){var K=T[oe];K&&(G[oe]=K)}Z(Ii),Z($e(uf));var ne=Object.keys(G).length>0,Ee={framebuffer:E,draw:_,shader:B,state:G,dirty:ne,scopeVAO:null,drawVAO:null,useVAO:!1,attributes:{}};if(Ee.profile=Le(g),Ee.uniforms=bt(b,F),Ee.drawVAO=Ee.scopeVAO=_.vao,!Ee.drawVAO&&B.program&&!I&&A.angle_instanced_arrays&&_.static.elements){var at=!0,Ke=B.program.attributes.map(function(oe){var K=d.static[oe];return at=at&&!!K,K});if(at&&Ke.length>0){var Fe=ve.getVAO(ve.createVAO({attributes:Ke,elements:_.static.elements}));Ee.drawVAO=new On(null,null,null,function(oe,K){return oe.link(Fe)}),Ee.useVAO=!0}}return I?Ee.useVAO=!0:Ee.attributes=Tn(d,F),Ee.context=en(M),Ee}function An(g,d,b){var M=g.shared,F=M.context,P=g.scope();Object.keys(b).forEach(function(R){d.save(F,"."+R);var I=b[R],E=I.append(g,d);Array.isArray(E)?P(F,".",R,"=[",E.join(),"];"):P(F,".",R,"=",E,";")}),d(P)}function Cn(g,d,b,M){var F=g.shared,P=F.gl,R=F.framebuffer,I;Ie&&(I=d.def(F.extensions,".webgl_draw_buffers"));var E=g.constants,T=E.drawBuffer,_=E.backBuffer,G;b?G=b.append(g,d):G=d.def(R,".next"),M||d("if(",G,"!==",R,".cur){"),d("if(",G,"){",P,".bindFramebuffer(",Ay,",",G,".framebuffer);"),Ie&&d(I,".drawBuffersWEBGL(",T,"[",G,".colorAttachments.length]);"),d("}else{",P,".bindFramebuffer(",Ay,",null);"),Ie&&d(I,".drawBuffersWEBGL(",_,");"),d("}",R,".cur=",G,";"),M||d("}")}function Dn(g,d,b){var M=g.shared,F=M.gl,P=g.current,R=g.next,I=M.current,E=M.next,T=g.cond(I,".dirty");Ze.forEach(function(_){var G=$e(_);if(!(G in b.state)){var B,Z;if(G in R){B=R[G],Z=P[G];var ne=fn(Pe[G].length,function(at){return T.def(B,"[",at,"]")});T(g.cond(ne.map(function(at,Ke){return at+"!=="+Z+"["+Ke+"]"}).join("||")).then(F,".",J[G],"(",ne,");",ne.map(function(at,Ke){return Z+"["+Ke+"]="+at}).join(";"),";"))}else{B=T.def(E,".",G);var Ee=g.cond(B,"!==",I,".",G);T(Ee),G in te?Ee(g.cond(B).then(F,".enable(",te[G],");").else(F,".disable(",te[G],");"),I,".",G,"=",B,";"):Ee(F,".",J[G],"(",B,");",I,".",G,"=",B,";")}}}),Object.keys(b.state).length===0&&T(I,".dirty=false;"),d(T)}function $n(g,d,b,M){var F=g.shared,P=g.current,R=F.current,I=F.gl;Ry(Object.keys(b)).forEach(function(E){var T=b[E];if(!(M&&!M(T))){var _=T.append(g,d);if(te[E]){var G=te[E];vo(T)?_?d(I,".enable(",G,");"):d(I,".disable(",G,");"):d(g.cond(_).then(I,".enable(",G,");").else(I,".disable(",G,");")),d(R,".",E,"=",_,";")}else if(Jt(_)){var B=P[E];d(I,".",J[E],"(",_,");",_.map(function(Z,ne){return B+"["+ne+"]="+Z}).join(";"),";")}else d(I,".",J[E],"(",_,");",R,".",E,"=",_,";")}})}function dn(g,d){me&&(g.instancing=d.def(g.shared.extensions,".angle_instanced_arrays"))}function vt(g,d,b,M,F){var P=g.shared,R=g.stats,I=P.current,E=P.timer,T=b.profile;function _(){return typeof performance>"u"?"Date.now()":"performance.now()"}var G,B;function Z(oe){G=d.def(),oe(G,"=",_(),";"),typeof F=="string"?oe(R,".count+=",F,";"):oe(R,".count++;"),fe&&(M?(B=d.def(),oe(B,"=",E,".getNumPendingQueries();")):oe(E,".beginQuery(",R,");"))}function ne(oe){oe(R,".cpuTime+=",_(),"-",G,";"),fe&&(M?oe(E,".pushScopeStats(",B,",",E,".getNumPendingQueries(),",R,");"):oe(E,".endQuery();"))}function Ee(oe){var K=d.def(I,".profile");d(I,".profile=",oe,";"),d.exit(I,".profile=",K,";")}var at;if(T){if(vo(T)){T.enable?(Z(d),ne(d.exit),Ee("true")):Ee("false");return}at=T.append(g,d),Ee(at)}else at=d.def(I,".profile");var Ke=g.block();Z(Ke),d("if(",at,"){",Ke,"}");var Fe=g.block();ne(Fe),d.exit("if(",at,"){",Fe,"}")}function Gn(g,d,b,M,F){var P=g.shared;function R(E){switch(E){case df:case pf:case gf:return 2;case hf:case vf:case xf:return 3;case mf:case yf:case Ef:return 4;default:return 1}}function I(E,T,_){var G=P.gl,B=d.def(E,".location"),Z=d.def(P.attributes,"[",B,"]"),ne=_.state,Ee=_.buffer,at=[_.x,_.y,_.z,_.w],Ke=["buffer","normalized","offset","stride"];function Fe(){d("if(!",Z,".buffer){",G,".enableVertexAttribArray(",B,");}");var K=_.type,We;if(_.size?We=d.def(_.size,"||",T):We=T,d("if(",Z,".type!==",K,"||",Z,".size!==",We,"||",Ke.map(function(ot){return Z+"."+ot+"!=="+_[ot]}).join("||"),"){",G,".bindBuffer(",Sl,",",Ee,".buffer);",G,".vertexAttribPointer(",[B,We,K,_.normalized,_.stride,_.offset],");",Z,".type=",K,";",Z,".size=",We,";",Ke.map(function(ot){return Z+"."+ot+"="+_[ot]+";"}).join(""),"}"),me){var Ve=_.divisor;d("if(",Z,".divisor!==",Ve,"){",g.instancing,".vertexAttribDivisorANGLE(",[B,Ve],");",Z,".divisor=",Ve,";}")}}function oe(){d("if(",Z,".buffer){",G,".disableVertexAttribArray(",B,");",Z,".buffer=null;","}if(",gl.map(function(K,We){return Z+"."+K+"!=="+at[We]}).join("||"),"){",G,".vertexAttrib4f(",B,",",at,");",gl.map(function(K,We){return Z+"."+K+"="+at[We]+";"}).join(""),"}")}ne===xl?Fe():ne===pm?oe():(d("if(",ne,"===",xl,"){"),Fe(),d("}else{"),oe(),d("}"))}M.forEach(function(E){var T=E.name,_=b.attributes[T],G;if(_){if(!F(_))return;G=_.append(g,d)}else{if(!F(Ly))return;var B=g.scopeAttrib(T);y.optional(function(){g.assert(d,B+".state","missing attribute "+T)}),G={},Object.keys(new D).forEach(function(Z){G[Z]=d.def(B,".",Z)})}I(g.link(E),R(E.info.type),G)})}function $t(g,d,b,M,F,P){for(var R=g.shared,I=R.gl,E={},T,_=0;_<M.length;++_){var G=M[_],B=G.name,Z=G.info.type,ne=G.info.size,Ee=b.uniforms[B];if(ne>1){if(!Ee)continue;var at=B.replace("[0]","");if(E[at])continue;E[at]=1}var Ke=g.link(G),Fe=Ke+".location",oe;if(Ee){if(!F(Ee))continue;if(vo(Ee)){var K=Ee.value;if(y.command(K!==null&&typeof K<"u",'missing uniform "'+B+'"',g.commandStr),Z===tu||Z===nu){y.command(typeof K=="function"&&(Z===tu&&(K._reglType==="texture2d"||K._reglType==="framebuffer")||Z===nu&&(K._reglType==="textureCube"||K._reglType==="framebufferCube")),"invalid texture for uniform "+B,g.commandStr);var We=g.link(K._texture||K.color[0]._texture);d(I,".uniform1i(",Fe,",",We+".bind());"),d.exit(We,".unbind();")}else if(Z===Zs||Z===Js||Z===eu){y.optional(function(){y.command(Jt(K),"invalid matrix for uniform "+B,g.commandStr),y.command(Z===Zs&&K.length===4||Z===Js&&K.length===9||Z===eu&&K.length===16,"invalid length for matrix uniform "+B,g.commandStr)});var Ve=g.global.def("new Float32Array(["+Array.prototype.slice.call(K)+"])"),ot=2;Z===Js?ot=3:Z===eu&&(ot=4),d(I,".uniformMatrix",ot,"fv(",Fe,",false,",Ve,");")}else{switch(Z){case km:ne===1?y.commandType(K,"number","uniform "+B,g.commandStr):y.command(Jt(K)&&K.length===ne,"uniform "+B,g.commandStr),T="1f";break;case df:y.command(Jt(K)&&K.length&&K.length%2===0&&K.length<=ne*2,"uniform "+B,g.commandStr),T="2f";break;case hf:y.command(Jt(K)&&K.length&&K.length%3===0&&K.length<=ne*3,"uniform "+B,g.commandStr),T="3f";break;case mf:y.command(Jt(K)&&K.length&&K.length%4===0&&K.length<=ne*4,"uniform "+B,g.commandStr),T="4f";break;case Im:ne===1?y.commandType(K,"boolean","uniform "+B,g.commandStr):y.command(Jt(K)&&K.length===ne,"uniform "+B,g.commandStr),T="1i";break;case Nm:ne===1?y.commandType(K,"number","uniform "+B,g.commandStr):y.command(Jt(K)&&K.length===ne,"uniform "+B,g.commandStr),T="1i";break;case gf:y.command(Jt(K)&&K.length&&K.length%2===0&&K.length<=ne*2,"uniform "+B,g.commandStr),T="2i";break;case pf:y.command(Jt(K)&&K.length&&K.length%2===0&&K.length<=ne*2,"uniform "+B,g.commandStr),T="2i";break;case xf:y.command(Jt(K)&&K.length&&K.length%3===0&&K.length<=ne*3,"uniform "+B,g.commandStr),T="3i";break;case vf:y.command(Jt(K)&&K.length&&K.length%3===0&&K.length<=ne*3,"uniform "+B,g.commandStr),T="3i";break;case Ef:y.command(Jt(K)&&K.length&&K.length%4===0&&K.length<=ne*4,"uniform "+B,g.commandStr),T="4i";break;case yf:y.command(Jt(K)&&K.length&&K.length%4===0&&K.length<=ne*4,"uniform "+B,g.commandStr),T="4i";break}ne>1?(T+="v",K=g.global.def("["+Array.prototype.slice.call(K)+"]")):K=Jt(K)?Array.prototype.slice.call(K):K,d(I,".uniform",T,"(",Fe,",",K,");")}continue}else oe=Ee.append(g,d)}else{if(!F(Ly))continue;oe=d.def(R.uniforms,"[",v.id(B),"]")}Z===tu?(y(!Array.isArray(oe),"must specify a scalar prop for textures"),d("if(",oe,"&&",oe,'._reglType==="framebuffer"){',oe,"=",oe,".color[0];","}")):Z===nu&&(y(!Array.isArray(oe),"must specify a scalar prop for cube maps"),d("if(",oe,"&&",oe,'._reglType==="framebufferCube"){',oe,"=",oe,".color[0];","}")),y.optional(function(){function Tr(cr,Sf){g.assert(d,cr,'bad data or missing for uniform "'+B+'".  '+Sf)}function ga(cr,Sf){Sf===1&&y(!Array.isArray(oe),"must not specify an array type for uniform"),Tr("Array.isArray("+oe+") && typeof "+oe+'[0]===" '+cr+'" || typeof '+oe+'==="'+cr+'"',"invalid type, expected "+cr)}function Ir(cr,Sf,wf){Array.isArray(oe)?y(oe.length&&oe.length%cr===0&&oe.length<=cr*wf,"must have length of "+(wf===1?"":"n * ")+cr):Tr(R.isArrayLike+"("+oe+")&&"+oe+".length && "+oe+".length % "+cr+" === 0 && "+oe+".length<="+cr*wf,"invalid vector, should have length of "+(wf===1?"":"n * ")+cr,g.commandStr)}function Dy(cr){y(!Array.isArray(oe),"must not specify a value type"),Tr("typeof "+oe+'==="function"&&'+oe+'._reglType==="texture'+(cr===Ey?"2d":"Cube")+'"',"invalid texture type",g.commandStr)}switch(Z){case Nm:ga("number",ne);break;case pf:Ir(2,"number",ne);break;case vf:Ir(3,"number",ne);break;case yf:Ir(4,"number",ne);break;case km:ga("number",ne);break;case df:Ir(2,"number",ne);break;case hf:Ir(3,"number",ne);break;case mf:Ir(4,"number",ne);break;case Im:ga("boolean",ne);break;case gf:Ir(2,"boolean",ne);break;case xf:Ir(3,"boolean",ne);break;case Ef:Ir(4,"boolean",ne);break;case Zs:Ir(4,"number",ne);break;case Js:Ir(9,"number",ne);break;case eu:Ir(16,"number",ne);break;case tu:Dy(Ey);break;case nu:Dy(iS);break}});var Vt=1;switch(Z){case tu:case nu:var zn=d.def(oe,"._texture");d(I,".uniform1i(",Fe,",",zn,".bind());"),d.exit(zn,".unbind();");continue;case Nm:case Im:T="1i";break;case pf:case gf:T="2i",Vt=2;break;case vf:case xf:T="3i",Vt=3;break;case yf:case Ef:T="4i",Vt=4;break;case km:T="1f";break;case df:T="2f",Vt=2;break;case hf:T="3f",Vt=3;break;case mf:T="4f",Vt=4;break;case Zs:T="Matrix2fv";break;case Js:T="Matrix3fv";break;case eu:T="Matrix4fv";break}if(T.indexOf("Matrix")===-1&&ne>1&&(T+="v",Vt=1),T.charAt(0)==="M"){d(I,".uniform",T,"(",Fe,",");var va=Math.pow(Z-Zs+2,2),Mi=g.global.def("new Float32Array(",va,")");Array.isArray(oe)?d("false,(",fn(va,function(Tr){return Mi+"["+Tr+"]="+oe[Tr]}),",",Mi,")"):d("false,(Array.isArray(",oe,")||",oe," instanceof Float32Array)?",oe,":(",fn(va,function(Tr){return Mi+"["+Tr+"]="+oe+"["+Tr+"]"}),",",Mi,")"),d(");")}else if(Vt>1){for(var mi=[],yo=[],ya=0;ya<Vt;++ya)Array.isArray(oe)?yo.push(oe[ya]):yo.push(d.def(oe+"["+ya+"]")),P&&mi.push(d.def());P&&d("if(!",g.batchId,"||",mi.map(function(Tr,ga){return Tr+"!=="+yo[ga]}).join("||"),"){",mi.map(function(Tr,ga){return Tr+"="+yo[ga]+";"}).join("")),d(I,".uniform",T,"(",Fe,",",yo.join(","),");"),P&&d("}")}else{if(y(!Array.isArray(oe),"uniform value must not be an array"),P){var My=d.def();d("if(!",g.batchId,"||",My,"!==",oe,"){",My,"=",oe,";")}d(I,".uniform",T,"(",Fe,",",oe,");"),P&&d("}")}}}function nt(g,d,b,M){var F=g.shared,P=F.gl,R=F.draw,I=M.draw;function E(){var We=I.elements,Ve,ot=d;return We?((We.contextDep&&M.contextDynamic||We.propDep)&&(ot=b),Ve=We.append(g,ot),I.elementsActive&&ot("if("+Ve+")"+P+".bindBuffer("+Pm+","+Ve+".buffer.buffer);")):(Ve=ot.def(),ot(Ve,"=",R,".",fa,";","if(",Ve,"){",P,".bindBuffer(",Pm,",",Ve,".buffer.buffer);}","else if(",F.vao,".currentVAO){",Ve,"=",g.shared.elements+".getElements("+F.vao,".currentVAO.elements);",le?"":"if("+Ve+")"+P+".bindBuffer("+Pm+","+Ve+".buffer.buffer);","}")),Ve}function T(){var We=I.count,Ve,ot=d;return We?((We.contextDep&&M.contextDynamic||We.propDep)&&(ot=b),Ve=We.append(g,ot),y.optional(function(){We.MISSING&&g.assert(d,"false","missing vertex count"),We.DYNAMIC&&g.assert(ot,Ve+">=0","missing vertex count")})):(Ve=ot.def(R,".",ha),y.optional(function(){g.assert(ot,Ve+">=0","missing vertex count")})),Ve}var _=E();function G(We){var Ve=I[We];return Ve?Ve.contextDep&&M.contextDynamic||Ve.propDep?Ve.append(g,b):Ve.append(g,d):d.def(R,".",We)}var B=G(da),Z=G(cf),ne=T();if(typeof ne=="number"){if(ne===0)return}else b("if(",ne,"){"),b.exit("}");var Ee,at;me&&(Ee=G(ff),at=g.instancing);var Ke=_+".type",Fe=I.elements&&vo(I.elements)&&!I.vaoActive;function oe(){function We(){b(at,".drawElementsInstancedANGLE(",[B,ne,Ke,Z+"<<(("+Ke+"-"+Jv+")>>1)",Ee],");")}function Ve(){b(at,".drawArraysInstancedANGLE(",[B,Z,ne,Ee],");")}_&&_!=="null"?Fe?We():(b("if(",_,"){"),We(),b("}else{"),Ve(),b("}")):Ve()}function K(){function We(){b(P+".drawElements("+[B,ne,Ke,Z+"<<(("+Ke+"-"+Jv+")>>1)"]+");")}function Ve(){b(P+".drawArrays("+[B,Z,ne]+");")}_&&_!=="null"?Fe?We():(b("if(",_,"){"),We(),b("}else{"),Ve(),b("}")):Ve()}me&&(typeof Ee!="number"||Ee>=0)?typeof Ee=="string"?(b("if(",Ee,">0){"),oe(),b("}else if(",Ee,"<0){"),K(),b("}")):oe():K()}function At(g,d,b,M,F){var P=st(),R=P.proc("body",F);return y.optional(function(){P.commandStr=d.commandStr,P.command=P.link(d.commandStr)}),me&&(P.instancing=R.def(P.shared.extensions,".angle_instanced_arrays")),g(P,R,b,M),P.compile().body}function kt(g,d,b,M){dn(g,d),b.useVAO?b.drawVAO?d(g.shared.vao,".setVAO(",b.drawVAO.append(g,d),");"):d(g.shared.vao,".setVAO(",g.shared.vao,".targetVAO);"):(d(g.shared.vao,".setVAO(null);"),Gn(g,d,b,M.attributes,function(){return!0})),$t(g,d,b,M.uniforms,function(){return!0},!1),nt(g,d,d,b)}function hn(g,d){var b=g.proc("draw",1);dn(g,b),An(g,b,d.context),Cn(g,b,d.framebuffer),Dn(g,b,d),$n(g,b,d.state),vt(g,b,d,!1,!0);var M=d.shader.progVar.append(g,b);if(b(g.shared.gl,".useProgram(",M,".program);"),d.shader.program)kt(g,b,d,d.shader.program);else{b(g.shared.vao,".setVAO(null);");var F=g.global.def("{}"),P=b.def(M,".id"),R=b.def(F,"[",P,"]");b(g.cond(R).then(R,".call(this,a0);").else(R,"=",F,"[",P,"]=",g.link(function(I){return At(kt,g,d,I,1)}),"(",M,");",R,".call(this,a0);"))}Object.keys(d.state).length>0&&b(g.shared.current,".dirty=true;"),g.shared.vao&&b(g.shared.vao,".setVAO(null);")}function hi(g,d,b,M){g.batchId="a1",dn(g,d);function F(){return!0}Gn(g,d,b,M.attributes,F),$t(g,d,b,M.uniforms,F,!1),nt(g,d,d,b)}function pa(g,d,b,M){dn(g,d);var F=b.contextDep,P=d.def(),R="a0",I="a1",E=d.def();g.shared.props=E,g.batchId=P;var T=g.scope(),_=g.scope();d(T.entry,"for(",P,"=0;",P,"<",I,";++",P,"){",E,"=",R,"[",P,"];",_,"}",T.exit);function G(Ke){return Ke.contextDep&&F||Ke.propDep}function B(Ke){return!G(Ke)}if(b.needsContext&&An(g,_,b.context),b.needsFramebuffer&&Cn(g,_,b.framebuffer),$n(g,_,b.state,G),b.profile&&G(b.profile)&&vt(g,_,b,!1,!0),M)b.useVAO?b.drawVAO?G(b.drawVAO)?_(g.shared.vao,".setVAO(",b.drawVAO.append(g,_),");"):T(g.shared.vao,".setVAO(",b.drawVAO.append(g,T),");"):T(g.shared.vao,".setVAO(",g.shared.vao,".targetVAO);"):(T(g.shared.vao,".setVAO(null);"),Gn(g,T,b,M.attributes,B),Gn(g,_,b,M.attributes,G)),$t(g,T,b,M.uniforms,B,!1),$t(g,_,b,M.uniforms,G,!0),nt(g,T,_,b);else{var Z=g.global.def("{}"),ne=b.shader.progVar.append(g,_),Ee=_.def(ne,".id"),at=_.def(Z,"[",Ee,"]");_(g.shared.gl,".useProgram(",ne,".program);","if(!",at,"){",at,"=",Z,"[",Ee,"]=",g.link(function(Ke){return At(hi,g,b,Ke,2)}),"(",ne,");}",at,".call(this,a0[",P,"],",P,");")}}function S(g,d){var b=g.proc("batch",2);g.batchId="0",dn(g,b);var M=!1,F=!0;Object.keys(d.context).forEach(function(Z){M=M||d.context[Z].propDep}),M||(An(g,b,d.context),F=!1);var P=d.framebuffer,R=!1;P?(P.propDep?M=R=!0:P.contextDep&&M&&(R=!0),R||Cn(g,b,P)):Cn(g,b,null),d.state.viewport&&d.state.viewport.propDep&&(M=!0);function I(Z){return Z.contextDep&&M||Z.propDep}Dn(g,b,d),$n(g,b,d.state,function(Z){return!I(Z)}),(!d.profile||!I(d.profile))&&vt(g,b,d,!1,"a1"),d.contextDep=M,d.needsContext=F,d.needsFramebuffer=R;var E=d.shader.progVar;if(E.contextDep&&M||E.propDep)pa(g,b,d,null);else{var T=E.append(g,b);if(b(g.shared.gl,".useProgram(",T,".program);"),d.shader.program)pa(g,b,d,d.shader.program);else{b(g.shared.vao,".setVAO(null);");var _=g.global.def("{}"),G=b.def(T,".id"),B=b.def(_,"[",G,"]");b(g.cond(B).then(B,".call(this,a0,a1);").else(B,"=",_,"[",G,"]=",g.link(function(Z){return At(pa,g,d,Z,2)}),"(",T,");",B,".call(this,a0,a1);"))}}Object.keys(d.state).length>0&&b(g.shared.current,".dirty=true;"),g.shared.vao&&b(g.shared.vao,".setVAO(null);")}function W(g,d){var b=g.proc("scope",3);g.batchId="a2";var M=g.shared,F=M.current;An(g,b,d.context),d.framebuffer&&d.framebuffer.append(g,b),Ry(Object.keys(d.state)).forEach(function(R){var I=d.state[R],E=I.append(g,b);Jt(E)?E.forEach(function(T,_){b.set(g.next[R],"["+_+"]",T)}):b.set(M.next,"."+R,E)}),vt(g,b,d,!0,!0),[fa,cf,ha,ff,da].forEach(function(R){var I=d.draw[R];I&&b.set(M.draw,"."+R,""+I.append(g,b))}),Object.keys(d.uniforms).forEach(function(R){var I=d.uniforms[R].append(g,b);Array.isArray(I)&&(I="["+I.join()+"]"),b.set(M.uniforms,"["+v.id(R)+"]",I)}),Object.keys(d.attributes).forEach(function(R){var I=d.attributes[R].append(g,b),E=g.scopeAttrib(R);Object.keys(new D).forEach(function(T){b.set(E,"."+T,I[T])})}),d.scopeVAO&&b.set(M.vao,".targetVAO",d.scopeVAO.append(g,b));function P(R){var I=d.shader[R];I&&b.set(M.shader,"."+R,I.append(g,b))}P(Qs),P(Ks),Object.keys(d.state).length>0&&(b(F,".dirty=true;"),b.exit(F,".dirty=true;")),b("a1(",g.shared.context,",a0,",g.batchId,");")}function z(g){if(!(typeof g!="object"||Jt(g))){for(var d=Object.keys(g),b=0;b<d.length;++b)if(Xe.isDynamic(g[d[b]]))return!0;return!1}}function je(g,d,b){var M=d.static[b];if(!M||!z(M))return;var F=g.global,P=Object.keys(M),R=!1,I=!1,E=!1,T=g.global.def("{}");P.forEach(function(G){var B=M[G];if(Xe.isDynamic(B)){typeof B=="function"&&(B=M[G]=Xe.unbox(B));var Z=ur(B,null);R=R||Z.thisDep,E=E||Z.propDep,I=I||Z.contextDep}else{switch(F(T,".",G,"="),typeof B){case"number":F(B);break;case"string":F('"',B,'"');break;case"object":Array.isArray(B)&&F("[",B.join(),"]");break;default:F(g.link(B));break}F(";")}});function _(G,B){P.forEach(function(Z){var ne=M[Z];if(Xe.isDynamic(ne)){var Ee=G.invoke(B,ne);B(T,".",Z,"=",Ee,";")}})}d.dynamic[b]=new Xe.DynamicVariable(sf,{thisDep:R,contextDep:I,propDep:E,ref:T,append:_}),delete d.static[b]}function St(g,d,b,M,F){var P=st();P.stats=P.link(F),Object.keys(d.static).forEach(function(I){je(P,d,I)}),tS.forEach(function(I){je(P,g,I)});var R=En(g,d,b,M,P);return hn(P,R),W(P,R),S(P,R),r(P.compile(),{destroy:function(){R.shader.program.destroy()}})}return{next:Re,current:Pe,procs:function(){var g=st(),d=g.proc("poll"),b=g.proc("refresh"),M=g.block();d(M),b(M);var F=g.shared,P=F.gl,R=F.next,I=F.current;M(I,".dirty=false;"),Cn(g,d),Cn(g,b,null,!0);var E;me&&(E=g.link(me)),A.oes_vertex_array_object&&b(g.link(A.oes_vertex_array_object),".bindVertexArrayOES(null);");for(var T=0;T<H.maxAttributes;++T){var _=b.def(F.attributes,"[",T,"]"),G=g.cond(_,".buffer");G.then(P,".enableVertexAttribArray(",T,");",P,".bindBuffer(",Sl,",",_,".buffer.buffer);",P,".vertexAttribPointer(",T,",",_,".size,",_,".type,",_,".normalized,",_,".stride,",_,".offset);").else(P,".disableVertexAttribArray(",T,");",P,".vertexAttrib4f(",T,",",_,".x,",_,".y,",_,".z,",_,".w);",_,".buffer=null;"),b(G),me&&b(E,".vertexAttribDivisorANGLE(",T,",",_,".divisor);")}return b(g.shared.vao,".currentVAO=null;",g.shared.vao,".setVAO(",g.shared.vao,".targetVAO);"),Object.keys(te).forEach(function(B){var Z=te[B],ne=M.def(R,".",B),Ee=g.block();Ee("if(",ne,"){",P,".enable(",Z,")}else{",P,".disable(",Z,")}",I,".",B,"=",ne,";"),b(Ee),d("if(",ne,"!==",I,".",B,"){",Ee,"}")}),Object.keys(J).forEach(function(B){var Z=J[B],ne=Pe[B],Ee,at,Ke=g.block();if(Ke(P,".",Z,"("),Jt(ne)){var Fe=ne.length;Ee=g.global.def(R,".",B),at=g.global.def(I,".",B),Ke(fn(Fe,function(oe){return Ee+"["+oe+"]"}),");",fn(Fe,function(oe){return at+"["+oe+"]="+Ee+"["+oe+"];"}).join("")),d("if(",fn(Fe,function(oe){return Ee+"["+oe+"]!=="+at+"["+oe+"]"}).join("||"),"){",Ke,"}")}else Ee=M.def(R,".",B),at=M.def(I,".",B),Ke(Ee,");",I,".",B,"=",Ee,";"),d("if(",Ee,"!==",at,"){",Ke,"}");b(Ke)}),g.compile()}(),compile:St}}function ES(){return{vaoCount:0,bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0}}var _S=34918,SS=34919,Oy=35007,wS=function(c,v){if(!v.ext_disjoint_timer_query)return null;var A=[];function H(){return A.pop()||v.ext_disjoint_timer_query.createQueryEXT()}function ee(me){A.push(me)}var V=[];function Q(me){var Ie=H();v.ext_disjoint_timer_query.beginQueryEXT(Oy,Ie),V.push(Ie),fe(V.length-1,V.length,me)}function ce(){v.ext_disjoint_timer_query.endQueryEXT(Oy)}function ue(){this.startQueryIndex=-1,this.endQueryIndex=-1,this.sum=0,this.stats=null}var ve=[];function ge(){return ve.pop()||new ue}function ye(me){ve.push(me)}var _e=[];function fe(me,Ie,le){var Pe=ge();Pe.startQueryIndex=me,Pe.endQueryIndex=Ie,Pe.sum=0,Pe.stats=le,_e.push(Pe)}var pe=[],D=[];function Y(){var me,Ie,le=V.length;if(le!==0){D.length=Math.max(D.length,le+1),pe.length=Math.max(pe.length,le+1),pe[0]=0,D[0]=0;var Pe=0;for(me=0,Ie=0;Ie<V.length;++Ie){var Re=V[Ie];v.ext_disjoint_timer_query.getQueryObjectEXT(Re,SS)?(Pe+=v.ext_disjoint_timer_query.getQueryObjectEXT(Re,_S),ee(Re)):V[me++]=Re,pe[Ie+1]=Pe,D[Ie+1]=me}for(V.length=me,me=0,Ie=0;Ie<_e.length;++Ie){var Ze=_e[Ie],te=Ze.startQueryIndex,J=Ze.endQueryIndex;Ze.sum+=pe[J]-pe[te];var $e=D[te],we=D[J];we===$e?(Ze.stats.gpuTime+=Ze.sum/1e6,ye(Ze)):(Ze.startQueryIndex=$e,Ze.endQueryIndex=we,_e[me++]=Ze)}_e.length=me}}return{beginQuery:Q,endQuery:ce,pushScopeStats:fe,update:Y,getNumPendingQueries:function(){return V.length},clear:function(){A.push.apply(A,V);for(var me=0;me<A.length;me++)v.ext_disjoint_timer_query.deleteQueryEXT(A[me]);V.length=0,A.length=0},restore:function(){V.length=0,A.length=0}}},TS=16384,AS=256,CS=1024,bS=34962,Py="webglcontextlost",ky="webglcontextrestored",Ny=1,RS=2,LS=3;function Iy(c,v){for(var A=0;A<c.length;++A)if(c[A]===v)return A;return-1}function OS(c){var v=Qi(c);if(!v)return null;var A=v.gl,H=A.getContextAttributes(),ee=A.isContextLost(),V=Ki(A,v);if(!V)return null;var Q=yr(),ce=ES(),ue=V.extensions,ve=wS(A,ue),ge=cn(),ye=A.drawingBufferWidth,_e=A.drawingBufferHeight,fe={tick:0,time:0,viewportWidth:ye,viewportHeight:_e,framebufferWidth:ye,framebufferHeight:_e,drawingBufferWidth:ye,drawingBufferHeight:_e,pixelRatio:v.pixelRatio},pe={},D={elements:null,primitive:4,count:-1,offset:0,instances:-1},Y=ac(A,ue),me=_s(A,ce,v,Pe),Ie=Cs(A,ue,me,ce),le=Se(A,ue,Y,ce,me,Ie,D);function Pe(nt){return le.destroyBuffer(nt)}var Re=It(A,Q,ce,v),Ze=qh(A,ue,Y,function(){$e.procs.poll()},fe,ce,v),te=Zh(A,ue,Y,ce,v),J=hm(A,ue,Y,Ze,te,ce),$e=xS(A,Q,ue,Y,me,Ie,Ze,J,pe,le,Re,D,fe,ve,v),we=q_(A,J,$e.procs.poll,fe,H,ue,Y),he=$e.next,Te=A.canvas,be=[],ut=[],st=[],Le=[v.onDestroy],ke=null;function it(){if(be.length===0){ve&&ve.update(),ke=null;return}ke=on.next(it),$n();for(var nt=be.length-1;nt>=0;--nt){var At=be[nt];At&&At(fe,null,0)}A.flush(),ve&&ve.update()}function ct(){!ke&&be.length>0&&(ke=on.next(it))}function Tt(){ke&&(on.cancel(it),ke=null)}function nn(nt){nt.preventDefault(),ee=!0,Tt(),ut.forEach(function(At){At()})}function an(nt){A.getError(),ee=!1,V.restore(),Re.restore(),me.restore(),Ze.restore(),te.restore(),J.restore(),le.restore(),ve&&ve.restore(),$e.procs.refresh(),ct(),st.forEach(function(At){At()})}Te&&(Te.addEventListener(Py,nn,!1),Te.addEventListener(ky,an,!1));function bt(){be.length=0,Tt(),Te&&(Te.removeEventListener(Py,nn),Te.removeEventListener(ky,an)),Re.clear(),J.clear(),te.clear(),le.clear(),Ze.clear(),Ie.clear(),me.clear(),ve&&ve.clear(),Le.forEach(function(nt){nt()})}function Tn(nt){y(!!nt,"invalid args to regl({...})"),y.type(nt,"object","invalid args to regl({...})");function At(F){var P=r({},F);delete P.uniforms,delete P.attributes,delete P.context,delete P.vao,"stencil"in P&&P.stencil.op&&(P.stencil.opBack=P.stencil.opFront=P.stencil.op,delete P.stencil.op);function R(I){if(I in P){var E=P[I];delete P[I],Object.keys(E).forEach(function(T){P[I+"."+T]=E[T]})}}return R("blend"),R("depth"),R("cull"),R("stencil"),R("polygonOffset"),R("scissor"),R("sample"),"vao"in F&&(P.vao=F.vao),P}function kt(F,P){var R={},I={};return Object.keys(F).forEach(function(E){var T=F[E];if(Xe.isDynamic(T)){I[E]=Xe.unbox(T,E);return}else if(P&&Array.isArray(T)){for(var _=0;_<T.length;++_)if(Xe.isDynamic(T[_])){I[E]=Xe.unbox(T,E);return}}R[E]=T}),{dynamic:I,static:R}}var hn=kt(nt.context||{},!0),hi=kt(nt.uniforms||{},!0),pa=kt(nt.attributes||{},!1),S=kt(At(nt),!1),W={gpuTime:0,cpuTime:0,count:0},z=$e.compile(S,pa,hi,hn,W),je=z.draw,St=z.batch,g=z.scope,d=[];function b(F){for(;d.length<F;)d.push(null);return d}function M(F,P){var R;if(ee&&y.raise("context lost"),typeof F=="function")return g.call(this,null,F,0);if(typeof P=="function")if(typeof F=="number")for(R=0;R<F;++R)g.call(this,null,P,R);else if(Array.isArray(F))for(R=0;R<F.length;++R)g.call(this,F[R],P,R);else return g.call(this,F,P,0);else if(typeof F=="number"){if(F>0)return St.call(this,b(F|0),F|0)}else if(Array.isArray(F)){if(F.length)return St.call(this,F,F.length)}else return je.call(this,F)}return r(M,{stats:W,destroy:function(){z.destroy()}})}var en=J.setFBO=Tn({framebuffer:Xe.define.call(null,Ny,"framebuffer")});function En(nt,At){var kt=0;$e.procs.poll();var hn=At.color;hn&&(A.clearColor(+hn[0]||0,+hn[1]||0,+hn[2]||0,+hn[3]||0),kt|=TS),"depth"in At&&(A.clearDepth(+At.depth),kt|=AS),"stencil"in At&&(A.clearStencil(At.stencil|0),kt|=CS),y(!!kt,"called regl.clear with no buffer specified"),A.clear(kt)}function An(nt){if(y(typeof nt=="object"&&nt,"regl.clear() takes an object as input"),"framebuffer"in nt)if(nt.framebuffer&&nt.framebuffer_reglType==="framebufferCube")for(var At=0;At<6;++At)en(r({framebuffer:nt.framebuffer.faces[At]},nt),En);else en(nt,En);else En(null,nt)}function Cn(nt){y.type(nt,"function","regl.frame() callback must be a function"),be.push(nt);function At(){var kt=Iy(be,nt);y(kt>=0,"cannot cancel a frame twice");function hn(){var hi=Iy(be,hn);be[hi]=be[be.length-1],be.length-=1,be.length<=0&&Tt()}be[kt]=hn}return ct(),{cancel:At}}function Dn(){var nt=he.viewport,At=he.scissor_box;nt[0]=nt[1]=At[0]=At[1]=0,fe.viewportWidth=fe.framebufferWidth=fe.drawingBufferWidth=nt[2]=At[2]=A.drawingBufferWidth,fe.viewportHeight=fe.framebufferHeight=fe.drawingBufferHeight=nt[3]=At[3]=A.drawingBufferHeight}function $n(){fe.tick+=1,fe.time=vt(),Dn(),$e.procs.poll()}function dn(){Ze.refresh(),Dn(),$e.procs.refresh(),ve&&ve.update()}function vt(){return(cn()-ge)/1e3}dn();function Gn(nt,At){y.type(At,"function","listener callback must be a function");var kt;switch(nt){case"frame":return Cn(At);case"lost":kt=ut;break;case"restore":kt=st;break;case"destroy":kt=Le;break;default:y.raise("invalid event, must be one of frame,lost,restore,destroy")}return kt.push(At),{cancel:function(){for(var hn=0;hn<kt.length;++hn)if(kt[hn]===At){kt[hn]=kt[kt.length-1],kt.pop();return}}}}var $t=r(Tn,{clear:An,prop:Xe.define.bind(null,Ny),context:Xe.define.bind(null,RS),this:Xe.define.bind(null,LS),draw:Tn({}),buffer:function(nt){return me.create(nt,bS,!1,!1)},elements:function(nt){return Ie.create(nt,!1)},texture:Ze.create2D,cube:Ze.createCube,renderbuffer:te.create,framebuffer:J.create,framebufferCube:J.createCube,vao:le.createVAO,attributes:H,frame:Cn,on:Gn,limits:Y,hasExtension:function(nt){return Y.extensions.indexOf(nt.toLowerCase())>=0},read:we,destroy:bt,_gl:A,_refresh:dn,poll:function(){$n(),ve&&ve.update()},now:vt,stats:ce});return v.onDone(null,$t),$t}return OS})})(E_);var h2=E_.exports;const m2=B0(h2);var p2=1e-6,Ia=typeof Float32Array<"u"?Float32Array:Array;Math.hypot||(Math.hypot=function(){for(var e=0,t=arguments.length;t--;)e+=arguments[t]*arguments[t];return Math.sqrt(e)});function dp(){var e=new Ia(16);return Ia!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0),e[0]=1,e[5]=1,e[10]=1,e[15]=1,e}function t1(e){var t=new Ia(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function O0(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],l=t[5],u=t[6],f=t[7],h=t[8],m=t[9],p=t[10],L=t[11],O=t[12],k=t[13],j=t[14],x=t[15],w=n*l-r*a,C=n*u-i*a,U=n*f-o*a,X=r*u-i*l,ae=r*f-o*l,Ae=i*f-o*u,se=h*k-m*O,ft=h*j-p*O,Be=h*x-L*O,Ue=m*j-p*k,et=m*x-L*k,tt=p*x-L*j,Ye=w*tt-C*et+U*Ue+X*Be-ae*ft+Ae*se;return Ye?(Ye=1/Ye,e[0]=(l*tt-u*et+f*Ue)*Ye,e[1]=(i*et-r*tt-o*Ue)*Ye,e[2]=(k*Ae-j*ae+x*X)*Ye,e[3]=(p*ae-m*Ae-L*X)*Ye,e[4]=(u*Be-a*tt-f*ft)*Ye,e[5]=(n*tt-i*Be+o*ft)*Ye,e[6]=(j*U-O*Ae-x*C)*Ye,e[7]=(h*Ae-p*U+L*C)*Ye,e[8]=(a*et-l*Be+f*se)*Ye,e[9]=(r*Be-n*et-o*se)*Ye,e[10]=(O*ae-k*U+x*w)*Ye,e[11]=(m*U-h*ae-L*w)*Ye,e[12]=(l*ft-a*Ue-u*se)*Ye,e[13]=(n*Ue-r*ft+i*se)*Ye,e[14]=(k*C-O*X-j*w)*Ye,e[15]=(h*X-m*C+p*w)*Ye,e):null}function nr(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3],l=t[4],u=t[5],f=t[6],h=t[7],m=t[8],p=t[9],L=t[10],O=t[11],k=t[12],j=t[13],x=t[14],w=t[15],C=n[0],U=n[1],X=n[2],ae=n[3];return e[0]=C*r+U*l+X*m+ae*k,e[1]=C*i+U*u+X*p+ae*j,e[2]=C*o+U*f+X*L+ae*x,e[3]=C*a+U*h+X*O+ae*w,C=n[4],U=n[5],X=n[6],ae=n[7],e[4]=C*r+U*l+X*m+ae*k,e[5]=C*i+U*u+X*p+ae*j,e[6]=C*o+U*f+X*L+ae*x,e[7]=C*a+U*h+X*O+ae*w,C=n[8],U=n[9],X=n[10],ae=n[11],e[8]=C*r+U*l+X*m+ae*k,e[9]=C*i+U*u+X*p+ae*j,e[10]=C*o+U*f+X*L+ae*x,e[11]=C*a+U*h+X*O+ae*w,C=n[12],U=n[13],X=n[14],ae=n[15],e[12]=C*r+U*l+X*m+ae*k,e[13]=C*i+U*u+X*p+ae*j,e[14]=C*o+U*f+X*L+ae*x,e[15]=C*a+U*h+X*O+ae*w,e}function n1(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e}function ld(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function v2(e,t,n){var r=n[0],i=n[1],o=n[2],a=Math.hypot(r,i,o),l,u,f;return a<p2?null:(a=1/a,r*=a,i*=a,o*=a,l=Math.sin(t),u=Math.cos(t),f=1-u,e[0]=r*r*f+u,e[1]=i*r*f+o*l,e[2]=o*r*f-i*l,e[3]=0,e[4]=r*i*f-o*l,e[5]=i*i*f+u,e[6]=o*i*f+r*l,e[7]=0,e[8]=r*o*f+i*l,e[9]=i*o*f-r*l,e[10]=o*o*f+u,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)}function y2(e,t){return e[0]=t[12],e[1]=t[13],e[2]=t[14],e}function g2(e,t){var n=t[0],r=t[1],i=t[2],o=t[4],a=t[5],l=t[6],u=t[8],f=t[9],h=t[10];return e[0]=Math.hypot(n,r,i),e[1]=Math.hypot(o,a,l),e[2]=Math.hypot(u,f,h),e}function x2(){var e=new Ia(4);return Ia!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[3]=0),e}function sd(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3];return e[0]=n[0]*r+n[4]*i+n[8]*o+n[12]*a,e[1]=n[1]*r+n[5]*i+n[9]*o+n[13]*a,e[2]=n[2]*r+n[6]*i+n[10]*o+n[14]*a,e[3]=n[3]*r+n[7]*i+n[11]*o+n[15]*a,e}(function(){var e=x2();return function(t,n,r,i,o,a){var l,u;for(n||(n=4),r||(r=0),i?u=Math.min(i*n+r,t.length):u=t.length,l=r;l<u;l+=n)e[0]=t[l],e[1]=t[l+1],e[2]=t[l+2],e[3]=t[l+3],o(e,e,a),t[l]=e[0],t[l+1]=e[1],t[l+2]=e[2],t[l+3]=e[3];return t}})();function E2(){var e=new Ia(2);return Ia!=Float32Array&&(e[0]=0,e[1]=0),e}function _2(e,t){var n=e[0],r=e[1],i=t[0],o=t[1],a=Math.sqrt(n*n+r*r)*Math.sqrt(i*i+o*o),l=a&&(n*i+r*o)/a;return Math.acos(Math.min(Math.max(l,-1),1))}(function(){var e=E2();return function(t,n,r,i,o,a){var l,u;for(n||(n=2),r||(r=0),i?u=Math.min(i*n+r,t.length):u=t.length,l=r;l<u;l+=n)e[0]=t[l],e[1]=t[l+1],o(e,e,a),t[l]=e[0],t[l+1]=e[1];return t}})();const S2=(e=[0,0],t=1,n=0,r=[0,0],i=[[0,1/0],[0,1/0]],o=[[-1/0,1/0],[-1/0,1/0]])=>{const a=new Float32Array(16),l=new Float32Array(16),u=new Float32Array(16);let f=dp(),h=[...r.slice(0,2),0,1];const m=Array.isArray(i[0])?[...i[0]]:[...i],p=Array.isArray(i[0])?[...i[1]]:[...i],L=Array.isArray(o[0])?[...o[0]]:[...o],O=Array.isArray(o[0])?[...o[1]]:[...o],k=()=>g2(a,f).slice(0,2),j=()=>{const Ce=k();return Math.min(Ce[0],Ce[1])},x=()=>{const Ce=k();return Math.max(Ce[0],Ce[1])},w=()=>Math.acos(f[0]/x()),C=()=>[[...m],[...p]],U=()=>[[...L],[...O]],X=()=>{const Ce=k();return[1/Ce[0],1/Ce[1]]},ae=()=>1/j(),Ae=()=>1/x(),se=()=>y2(a,f).slice(0,2),ft=()=>sd(a,h,O0(u,f)).slice(0,2),Be=()=>f,Ue=()=>h.slice(0,2),et=([Ce=0,Qe=0]=[],xt=1,zt=0)=>{f=dp(),tt([-Ce,-Qe]),rt(zt),Ye(1/xt)},tt=([Ce=0,Qe=0]=[])=>{a[0]=Ce,a[1]=Qe,a[2]=0;const xt=n1(l,a);nr(f,xt,f)},Ye=(Ce,Qe)=>{const xt=Array.isArray(Ce);let zt=xt?Ce[0]:Ce,Dt=xt?Ce[1]:Ce;if(zt<=0||Dt<=0||zt===1&&Dt===1)return;const Qt=k(),Ht=Qt[0]*zt,Pt=Qt[1]*Dt;if(zt=Math.max(m[0],Math.min(Ht,m[1]))/Qt[0],Dt=Math.max(p[0],Math.min(Pt,p[1]))/Qt[1],zt===1&&Dt===1)return;a[0]=zt,a[1]=Dt,a[2]=1;const Kt=ld(l,a),Nn=Qe?[...Qe,0]:h,In=n1(a,Nn);nr(f,In,nr(f,Kt,nr(f,O0(u,In),f)))},rt=Ce=>{const Qe=dp();v2(Qe,Ce,[0,0,1]),nr(f,Qe,f)},wt=Ce=>{const Qe=Array.isArray(Ce[0]);m[0]=Qe?Ce[0][0]:Ce[0],m[1]=Qe?Ce[0][1]:Ce[1],p[0]=Qe?Ce[1][0]:Ce[0],p[1]=Qe?Ce[1][1]:Ce[1]},dt=Ce=>{const Qe=Array.isArray(Ce[0]);L[0]=Qe?Ce[0][0]:Ce[0],L[1]=Qe?Ce[0][1]:Ce[1],O[0]=Qe?Ce[1][0]:Ce[0],O[1]=Qe?Ce[1][1]:Ce[1]},xe=Ce=>{!Ce||Ce.length<16||(f=Ce)},Ge=Ce=>{h=[...Ce.slice(0,2),0,1]},ze=()=>{et(e,t,n)};return et(e,t,n),{get translation(){return se()},get target(){return ft()},get scaling(){return k()},get minScaling(){return j()},get maxScaling(){return x()},get scaleBounds(){return C()},get translationBounds(){return U()},get distance(){return X()},get minDistance(){return ae()},get maxDistance(){return Ae()},get rotation(){return w()},get view(){return Be()},get viewCenter(){return Ue()},lookAt:et,translate:tt,pan:tt,rotate:rt,scale:Ye,zoom:Ye,reset:ze,set:(...Ce)=>(console.warn("`set()` is deprecated. Please use `setView()` instead."),xe(...Ce)),setScaleBounds:wt,setTranslationBounds:dt,setView:xe,setViewCenter:Ge}},w2=["pan","rotate"],r1={alt:"altKey",cmd:"metaKey",ctrl:"ctrlKey",meta:"metaKey",shift:"shiftKey"},T2=(e,{distance:t=1,target:n=[0,0],rotation:r=0,isNdc:i=!0,isFixed:o=!1,isPan:a=!0,isPanInverted:l=[!1,!0],panSpeed:u=1,isRotate:f=!0,rotateSpeed:h=1,defaultMouseDownMoveAction:m="pan",mouseDownMoveModKey:p="alt",isZoom:L=!0,zoomSpeed:O=1,viewCenter:k,scaleBounds:j,translationBounds:x,onKeyDown:w=()=>{},onKeyUp:C=()=>{},onMouseDown:U=()=>{},onMouseUp:X=()=>{},onMouseMove:ae=()=>{},onWheel:Ae=()=>{}}={})=>{let se=S2(n,t,r,k,j,x),ft=0,Be=0,Ue=0,et=0,tt=0,Ye=0,rt=!1,wt=0,dt=1,xe=1,Ge=1,ze=!1,Ce=!1,Qe=!1,xt=m==="pan",zt=a,Dt=a,Qt=l,Ht=l,Pt=L,Kt=L;const Nn=()=>{zt=Array.isArray(a)?!!a[0]:a,Dt=Array.isArray(a)?!!a[1]:a,Qt=Array.isArray(l)?!!l[0]:l,Ht=Array.isArray(l)?!!l[1]:l,Pt=Array.isArray(L)?!!L[0]:L,Kt=Array.isArray(L)?!!L[1]:L};Nn();const In=i?Me=>Me/dt*2*Ge:Me=>Me,Yt=i?Me=>Me/xe*2:Me=>-Me,Bt=i?Me=>(-1+Me/dt*2)*Ge:Me=>Me,pt=i?Me=>1-Me/xe*2:Me=>Me,Et=()=>{if(o){const lt=Ce;return Ce=!1,lt}ze=!1;const Me=ft,Lt=Be;if((zt||Dt)&&rt&&(xt&&!Qe||!xt&&Qe)){const lt=Qt?tt-Me:Me-tt,tn=zt?In(u*lt):0,q=Ht?Ye-Lt:Lt-Ye,Xe=Dt?Yt(u*q):0;(tn!==0||Xe!==0)&&(se.pan([tn,Xe]),ze=!0)}if((Pt||Kt)&&wt){const lt=O*Math.exp(wt/xe),tn=Bt(Ue),q=pt(et);se.scale([Pt?1/lt:1,Kt?1/lt:1],[tn,q]),ze=!0}if(f&&rt&&(xt&&Qe||!xt&&!Qe)&&Math.abs(tt-Me)+Math.abs(Ye-Lt)>0){const lt=dt/2,tn=xe/2,q=tt-lt,Xe=tn-Ye,on=Me-lt,cn=tn-Lt,yr=_2([q,Xe],[on,cn]),ar=q*cn-on*Xe;se.rotate(h*yr*Math.sign(ar)),ze=!0}wt=0,tt=Me,Ye=Lt;const Nt=ze||Ce;return Ce=!1,Nt},gt=({defaultMouseDownMoveAction:Me=null,isFixed:Lt=null,isPan:Nt=null,isPanInverted:lt=null,isRotate:tn=null,isZoom:q=null,panSpeed:Xe=null,rotateSpeed:on=null,zoomSpeed:cn=null,mouseDownMoveModKey:yr=null}={})=>{m=Me!==null&&w2.includes(Me)?Me:m,xt=m==="pan",o=Lt!==null?Lt:o,a=Nt!==null?Nt:a,l=lt!==null?lt:l,f=tn!==null?tn:f,L=q!==null?q:L,u=+Xe>0?Xe:u,h=+on>0?on:h,O=+cn>0?cn:O,Nn(),p=yr!==null&&Object.keys(r1).includes(yr)?yr:p},Ct=()=>{const Me=e.getBoundingClientRect();dt=Me.width,xe=Me.height,Ge=dt/xe},Ot=Me=>{Qe=!1,C(Me)},Ut=Me=>{Qe=Me[r1[p]],w(Me)},qt=Me=>{rt=!1,X(Me)},Rn=Me=>{rt=Me.buttons===1,U(Me)},y=document.createEvent("MouseEvent").offsetX!==void 0?Me=>{Ue=Me.offsetX,et=Me.offsetY}:Me=>{const Lt=e.getBoundingClientRect();Ue=Me.clientX-Lt.left,et=Me.clientY-Lt.top},Rt=Me=>{ft=Me.clientX,Be=Me.clientY},Ft=Me=>{Rt(Me),ae(Me)},Ne=Me=>{if(Pt||Kt){Me.preventDefault(),Rt(Me),y(Me);const Lt=Me.deltaMode===1?12:1;wt+=Lt*(Me.deltaY||Me.deltaX||0)}Ae(Me)},ht=()=>{se=void 0,window.removeEventListener("keydown",Ut),window.removeEventListener("keyup",Ot),e.removeEventListener("mousedown",Rn),window.removeEventListener("mouseup",qt),window.removeEventListener("mousemove",Ft),e.removeEventListener("wheel",Ne)};window.addEventListener("keydown",Ut,{passive:!0}),window.addEventListener("keyup",Ot,{passive:!0}),e.addEventListener("mousedown",Rn,{passive:!0}),window.addEventListener("mouseup",qt,{passive:!0}),window.addEventListener("mousemove",Ft,{passive:!0}),e.addEventListener("wheel",Ne,{passive:!1}),se.config=gt,se.dispose=ht,se.refresh=Ct,se.tick=Et;const _t=Me=>function(){Me.apply(null,arguments),Ce=!0};return se.lookAt=_t(se.lookAt),se.translate=_t(se.translate),se.pan=_t(se.pan),se.rotate=_t(se.rotate),se.scale=_t(se.scale),se.zoom=_t(se.zoom),se.reset=_t(se.reset),se.set=_t(se.set),se.setScaleBounds=_t(se.setScaleBounds),se.setTranslationBounds=_t(se.setTranslationBounds),se.setView=_t(se.setView),se.setViewCenter=_t(se.setViewCenter),Ct(),se};function P0(e,t,n,r,i,o){if(i-r<=n)return;const a=r+i>>1;__(e,t,a,r,i,o%2),P0(e,t,n,r,a-1,o+1),P0(e,t,n,a+1,i,o+1)}function __(e,t,n,r,i,o){for(;i>r;){if(i-r>600){const f=i-r+1,h=n-r+1,m=Math.log(f),p=.5*Math.exp(2*m/3),L=.5*Math.sqrt(m*p*(f-p)/f)*(h-f/2<0?-1:1),O=Math.max(r,Math.floor(n-h*p/f+L)),k=Math.min(i,Math.floor(n+(f-h)*p/f+L));__(e,t,n,O,k,o)}const a=t[2*n+o];let l=r,u=i;for(du(e,t,r,n),t[2*i+o]>a&&du(e,t,r,i);l<u;){for(du(e,t,l,u),l++,u--;t[2*l+o]<a;)l++;for(;t[2*u+o]>a;)u--}t[2*r+o]===a?du(e,t,r,u):(u++,du(e,t,u,i)),u<=n&&(r=u+1),n<=u&&(i=u-1)}}function du(e,t,n,r){hp(e,n,r),hp(t,2*n,2*r),hp(t,2*n+1,2*r+1)}function hp(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function A2(e,t,n,r,i,o,a){const l=[0,e.length-1,0],u=[];let f,h;for(;l.length;){const m=l.pop(),p=l.pop(),L=l.pop();if(p-L<=a){for(let j=L;j<=p;j++)f=t[2*j],h=t[2*j+1],f>=n&&f<=i&&h>=r&&h<=o&&u.push(e[j]);continue}const O=Math.floor((L+p)/2);f=t[2*O],h=t[2*O+1],f>=n&&f<=i&&h>=r&&h<=o&&u.push(e[O]);const k=(m+1)%2;(m===0?n<=f:r<=h)&&(l.push(L),l.push(O-1),l.push(k)),(m===0?i>=f:o>=h)&&(l.push(O+1),l.push(p),l.push(k))}return u}function C2(e,t,n,r,i,o){const a=[0,e.length-1,0],l=[],u=i*i;for(;a.length;){const f=a.pop(),h=a.pop(),m=a.pop();if(h-m<=o){for(let j=m;j<=h;j++)i1(t[2*j],t[2*j+1],n,r)<=u&&l.push(e[j]);continue}const p=Math.floor((m+h)/2),L=t[2*p],O=t[2*p+1];i1(L,O,n,r)<=u&&l.push(e[p]);const k=(f+1)%2;(f===0?n-i<=L:r-i<=O)&&(a.push(m),a.push(p-1),a.push(k)),(f===0?n+i>=L:r+i>=O)&&(a.push(p+1),a.push(h),a.push(k))}return l}function i1(e,t,n,r){const i=e-n,o=t-r;return i*i+o*o}const b2=e=>e[0],R2=e=>e[1];class L2{constructor(t,n=b2,r=R2,i=64,o=Float64Array){this.nodeSize=i,this.points=t;const a=t.length<65536?Uint16Array:Uint32Array,l=this.ids=new a(t.length),u=this.coords=new o(t.length*2);for(let f=0;f<t.length;f++)l[f]=f,u[2*f]=n(t[f]),u[2*f+1]=r(t[f]);P0(l,u,i,0,l.length-1,0)}range(t,n,r,i){return A2(this.ids,this.coords,t,n,r,i,this.nodeSize)}within(t,n,r){return C2(this.ids,this.coords,t,n,r,this.nodeSize)}}const O2=`
precision mediump float;
varying vec4 color;
void main() {
  gl_FragColor = color;
}`;var P2=O2;const k2=`
uniform mat4 projectionViewModel;
uniform float aspectRatio;

uniform sampler2D colorTex;
uniform float colorTexRes;
uniform float colorTexEps;
uniform float width;
uniform float useOpacity;
uniform float useColorOpacity;
uniform int miter;

attribute vec3 prevPosition;
attribute vec3 currPosition;
attribute vec3 nextPosition;
attribute float opacity;
attribute float offsetScale;
attribute float colorIndex;

varying vec4 color;

void main() {
  vec2 aspectVec = vec2(aspectRatio, 1.0);
  vec4 prevProjected = projectionViewModel * vec4(prevPosition, 1.0);
  vec4 currProjected = projectionViewModel * vec4(currPosition, 1.0);
  vec4 nextProjected = projectionViewModel * vec4(nextPosition, 1.0);

  // get 2D screen space with W divide and aspect correction
  vec2 prevScreen = prevProjected.xy / prevProjected.w * aspectVec;
  vec2 currScreen = currProjected.xy / currProjected.w * aspectVec;
  vec2 nextScreen = nextProjected.xy / nextProjected.w * aspectVec;

  // starting point uses (next - current)
  vec2 dir = vec2(0.0);
  if (currScreen == prevScreen) {
    dir = normalize(nextScreen - currScreen);
  }
  // ending point uses (current - previous)
  else if (currScreen == nextScreen) {
    dir = normalize(currScreen - prevScreen);
  }
  // somewhere in middle, needs a join
  else {
    // get directions from (C - B) and (B - A)
    vec2 dirA = normalize((currScreen - prevScreen));
    if (miter == 1) {
      vec2 dirB = normalize((nextScreen - currScreen));
      // now compute the miter join normal and length
      vec2 tangent = normalize(dirA + dirB);
      vec2 perp = vec2(-dirA.y, dirA.x);
      vec2 miter = vec2(-tangent.y, tangent.x);
      dir = tangent;
    } else {
      dir = dirA;
    }
  }

  vec2 normal = vec2(-dir.y, dir.x) * width;
  normal.x /= aspectRatio;
  vec4 offset = vec4(normal * offsetScale, 0.0, 0.0);
  gl_Position = currProjected + offset;

  // Get color from texture
  float colorRowIndex = floor((colorIndex + colorTexEps) / colorTexRes);
  vec2 colorTexIndex = vec2(
    (colorIndex / colorTexRes) - colorRowIndex + colorTexEps,
    colorRowIndex / colorTexRes + colorTexEps
  );

  color = texture2D(colorTex, colorTexIndex);
  color.a = useColorOpacity * color.a + useOpacity * opacity;
}`;var N2=k2;const{push:o1,splice:I2}=Array.prototype,mp=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),er=Float32Array.BYTES_PER_ELEMENT,M2=(e,t=[])=>{let n=0;return e.forEach(r=>{for(let i=0;i<r-1;i++){const o=n+i*2,a=o+1,l=o+2,u=o+3;t.push(o,a,l,l,a,u)}n+=(r+2)*2}),t},Ar={duplicate(e,t=1,n=1){const r=[],i=new Array(t*2);for(let o=0,a=e.length/t;o<a;o++){const l=o*t;for(let u=0;u<t;u++){const f=e[l+u];i[u]=f,i[u+t]=f*n}o1.apply(r,i)}return r},mapElement(e,t,n,r){for(let i=0,o=e.length/n;i<o;i++){const a=t+i*n;e[a]=r(e[a],a,i)}return e},copyElement(e,t,n,r){const i=new Array(r),o=t*r;for(let a=0;a<r;a++)i[a]=e[o+a];return I2.call(e,n*r,0,...i),e},increaseStride(e,t,n,r=0){const i=[],o=new Array(n).fill(r);for(let a=0,l=e.length/t;a<l;a++){const u=a*t;for(let f=0;f<t;f++)o[f]=e[u+f];o1.apply(i,o)}return i}},D2=(e,{projection:t=mp,model:n=mp,view:r=mp,points:i=[],colorIndices:o=[],color:a=[.8,.5,0,1],opacity:l=null,opacities:u=[],width:f=1,widths:h=[],miter:m=1,is2d:p=!1,zPos2d:L=0}={})=>{if(!e){console.error("Regl instance is undefined.");return}const O=new Float32Array(16);let k,j,x,w,C,U,X,ae,Ae,se,ft,Be,Ue,et,tt,Ye,rt,wt,dt=p?2:3;const xe=()=>+(u.length===j||l!==null),Ge=()=>{se=e.buffer(),ft=e.buffer(),Be=e.buffer(),tt=e.buffer(),Ye={prevPosition:{buffer:()=>se,offset:0,stride:er*3},currPosition:{buffer:()=>se,offset:er*3*2,stride:er*3},nextPosition:{buffer:()=>se,offset:er*3*4,stride:er*3},opacity:{buffer:()=>ft,offset:er*2,stride:er},offsetScale:{buffer:()=>Be,offset:er*2,stride:er},colorIndex:{buffer:()=>tt,offset:er*2,stride:er}},rt=e.elements(),wt=e({attributes:Ye,depth:{enable:!p},blend:{enable:!0,func:{srcRGB:"src alpha",srcAlpha:"one",dstRGB:"one minus src alpha",dstAlpha:"one minus src alpha"}},uniforms:{projectionViewModel:(pt,Et)=>{const gt=pt.projection||Et.projection,Ct=pt.model||Et.model,Ot=pt.view||Et.view;return nr(O,gt,nr(O,Ot,Ct))},aspectRatio:({viewportWidth:pt,viewportHeight:Et})=>pt/Et,colorTex:()=>Ue,colorTexRes:()=>et,colorTexEps:()=>.5/et,pixelRatio:({pixelRatio:pt})=>pt,width:({pixelRatio:pt,viewportHeight:Et})=>f/Et*pt,useOpacity:xe,useColorOpacity:()=>+!xe(),miter:m},elements:()=>rt,vert:N2,frag:P2})},ze=()=>{k===1&&i.length%dt>0&&console.warn(`The length of points (${j}) does not match the dimensions (${dt}). Incomplete points are ignored.`),w=i.flat().slice(0,j*dt),p&&(w=Ar.increaseStride(w,2,3,L)),o.length!==j&&(o=new Array(j).fill(0)),h.length!==j&&(h=new Array(j).fill(1));let pt=o.slice(),Et=u.length===j?u.slice():new Array(j).fill(+l),gt=h.slice(),Ct=0;x.forEach(Ot=>{const Ut=Ct+Ot-1;Ar.copyElement(w,Ut,Ut,3),Ar.copyElement(w,Ct,Ct,3),Ar.copyElement(pt,Ut,Ut,1),Ar.copyElement(pt,Ct,Ct,1),Ar.copyElement(Et,Ut,Ut,1),Ar.copyElement(Et,Ct,Ct,1),Ar.copyElement(gt,Ut,Ut,1),Ar.copyElement(gt,Ct,Ct,1),Ct+=Ot+2}),C=new Float32Array(Ar.duplicate(w,3)),U=Ar.duplicate(pt),X=Ar.duplicate(Et),ae=Ar.duplicate(gt,1,-1),Ae=M2(x),se({usage:"dynamic",type:"float",length:C.length*er,data:C}),ft({usage:"dynamic",type:"float",length:X.length*er,data:X}),Be({usage:"dynamic",type:"float",length:ae.length*er,data:ae}),tt({usage:"dynamic",type:"float",length:U.length*er,data:U}),rt({primitive:"triangles",usage:"dynamic",type:Ae.length>2**16?"uint32":"uint16",data:Ae})},Ce=()=>{Qe(),Ge()},Qe=()=>{i=null,w=null,C=null,ae=null,Ae=null,se.destroy(),Be.destroy(),rt.destroy()},xt=({projection:pt,model:Et,view:gt}={})=>{pt&&(t=pt),Et&&(n=Et),gt&&(r=gt),i&&i.length>1&&wt({projection:t,model:n,view:r})},zt=(pt,Et)=>{const gt=Et.flat(2);return gt.length===j?gt:gt.length===k?x.map((Ct,Ot)=>Array(Ct).fill(gt[Ot])).flat():pt},Dt=()=>i,Qt=(pt=[],{colorIndices:Et=o,opacities:gt=u,widths:Ct=h,is2d:Ot=p}={})=>{i=pt,p=Ot,dt=p?2:3,k=Array.isArray(i[0])?i.length:1,x=k>1?i.map(Ut=>Math.floor(Ut.length/dt)):[Math.floor(i.length/dt)],j=x.reduce((Ut,qt)=>Ut+qt,0),o=zt(o,Et),u=zt(u,gt),h=zt(h,Ct),i&&j>1?ze():Ce()},Ht=(pt,Et=-1)=>Array.isArray(pt)?pt.length&&!Array.isArray(pt[0])?Et+1:Ht(pt[0],++Et):Et,Pt=()=>{const pt=Ht(a)===0?[a]:a;et=Math.max(2,Math.ceil(Math.sqrt(pt.length)));const Et=new Uint8Array(et**2*4);pt.forEach((gt,Ct)=>{Et[Ct*4]=Math.min(255,Math.max(0,Math.round(gt[0]*255))),Et[Ct*4+1]=Math.min(255,Math.max(0,Math.round(gt[1]*255))),Et[Ct*4+2]=Math.min(255,Math.max(0,Math.round(gt[2]*255))),Et[Ct*4+3]=Number.isNaN(+gt[3])?255:Math.min(255,Math.max(0,Math.round(gt[3]*255)))}),Ue=e.texture({data:Et,shape:[et,et,4]})},Kt=(pt,Et=l)=>{a=pt,l=Et,Ue&&Ue.destroy(),Pt()},Nn=()=>({color:a,miter:m,width:f}),In=({color:pt,opacity:Et,miter:gt,width:Ct}={})=>{pt&&Kt(pt,Et),gt&&(m=gt),+Ct>0&&(f=Ct)},Yt=()=>({points:se,widths:Be,opacities:ft,colorIndices:tt}),Bt=()=>({points:C,widths:ae,opacities:X,colorIndices:U});return Ge(),Pt(),i&&i.length>1&&Qt(i),{clear:Ce,destroy:Qe,draw:xt,getPoints:Dt,setPoints:Qt,getData:Bt,getBuffer:Yt,getStyle:Nn,setStyle:In}};var zf=D2;const F2=e=>e*e*e,S_=e=>e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1,B2=e=>--e*e*e+1,j2=e=>e,$2=e=>e*e,G2=e=>e<.5?2*e*e:-1+(4-2*e)*e,z2=e=>e*(2-e),jl=e=>e,U2=(e,t)=>{if(e===t)return!0;if(e.length!==t.length)return!1;const n=new Set(e),r=new Set(t);return n.size!==r.size?!1:t.every(i=>n.has(i))},V2=e=>e.reduce((t,n)=>n>t?n:t,-1/0),a1=(e,t=n=>n)=>{const n=[];for(let r=0;r<e;r++)n.push(t(r,e));return n},H2=(e,t)=>{const n=[];return e.forEach(r=>{n[r]=!0}),t.forEach(r=>{n[r]=!0}),n.reduce((r,i,o)=>(i&&r.push(o),r),[])},Bv=(e,...t)=>(t.forEach(n=>{const r=Object.keys(n).reduce((i,o)=>(i[o]=Object.getOwnPropertyDescriptor(n,o),i),{});Object.getOwnPropertySymbols(n).forEach(i=>{const o=Object.getOwnPropertyDescriptor(n,i);o.enumerable&&(r[i]=o)}),Object.defineProperties(e,r)}),e),W2=(...e)=>t=>e.reduce((n,r)=>r(n),t),X2=e=>t=>Bv({__proto__:{constructor:e}},t),l1=(e,t)=>n=>Bv(n,{get[e](){return t}}),Y2=(e,t,n,r)=>Math.sqrt((e-n)**2+(t-r)**2),Q2=e=>new Worker(window.URL.createObjectURL(new Blob([`(${e.toString()})()`],{type:"text/javascript"}))),Al=(e=1)=>new Promise(t=>{let n=0;const r=()=>requestAnimationFrame(()=>{n++,n<e?r():t()});r()}),w_=(e,t,n=null)=>{let r,i=0;n=n===null?t:n;const o=(...u)=>{const f=()=>{i>0&&(e(...u),i=0)};clearTimeout(r),r=setTimeout(f,n)};let a=!1;const l=(...u)=>{a?(i++,o(...u)):(e(...u),o(...u),a=!0,i=0,setTimeout(()=>{a=!1},t))};return l.reset=()=>{a=!1},l.cancel=()=>{clearTimeout(r)},l.now=(...u)=>e(...u),l},gi="auto",K2=0,pp=1,q2=2,s1=3,Z2=4,J2=Float32Array.BYTES_PER_ELEMENT,T_=["OES_texture_float","OES_element_index_uint","WEBGL_color_buffer_float","EXT_float_blend"],u1={color:[0,0,0,0],depth:1},jv="panZoom",A_="lasso",C_="rotate",eC=[jv,A_,C_],tC=jv,nC={cubicIn:F2,cubicInOut:S_,cubicOut:B2,linear:j2,quadIn:$2,quadInOut:G2,quadOut:z2},c1=S_,vi="continuous",Cl="categorical",f1=[vi,Cl],k0="deselect",$v="lassoEnd",rC=[k0,$v],iC=[0,.666666667,1,1],oC=2,aC=!1,lC=10,sC=3,uC=$v,cC=!1,Fd=750,Bd=500,jd=100,$d=250,Gv="lasso",Gd="rotate",zd="merge",fC=[Gv,Gd,zd],zv="alt",Uv="cmd",b_="ctrl",R_="meta",Vv="shift",dC=[zv,Uv,b_,R_,Vv],hC={[zv]:Gd,[Vv]:Gv,[Uv]:zd},mC=1,pC=gi,vC=gi,yC=1,vp=1,gC=6,xC=2,EC=2,yp=null,_C=2,SC=2,gp=null,wC=null,xp=null,TC=.66,AC=1,Ep=null,CC=.15,bC=25,RC=1,LC=1,hu=null,OC=[.66,.66,.66,AC],PC=[0,.55,1,1],kC=[1,1,1,1],NC=[0,0,0,1],_p=null,IC=[.66,.66,.66,.2],MC=[0,.55,1,1],DC=[1,1,1,1],FC=[0,0],BC=1,jC=0,$C=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),GC="IMAGE_LOAD_ERROR",zC=null,UC=!1,VC=[1,1,1,.5],HC=!0,WC=!0,XC=!1,YC=100,QC=1/500,KC="auto",qC=!1,ZC=200,JC=500,L_=new Set(["z","valueZ","valueA","value1","category"]),O_=new Set(["w","valueW","valueB","value2","value"]),Hv=15e3,d1="Points have not been drawn",eb=(e,t)=>e?T_.reduce((n,r)=>e.hasExtension(r)?n:(t||console.warn(`WebGL: ${r} extension not supported. Scatterplot might not render properly`),!1),!0):!1,tb=e=>{const t=e.getContext("webgl",{antialias:!0,preserveDrawingBuffer:!0}),n=[];return T_.forEach(r=>{t.getExtension(r)?n.push(r):console.warn(`WebGL: ${r} extension not supported. Scatterplot might not render properly`)}),m2({gl:t,extensions:n})},Sp=(e,t,n,r)=>Math.sqrt((e-n)**2+(t-r)**2),nb=e=>{let t=1/0,n=-1/0,r=1/0,i=-1/0;for(let o=0;o<e.length;o+=2)t=e[o]<t?e[o]:t,n=e[o]>n?e[o]:n,r=e[o+1]<r?e[o+1]:r,i=e[o+1]>i?e[o+1]:i;return[t,r,n,i]},rb=([e,t,n,r])=>Number.isFinite(e)&&Number.isFinite(t)&&Number.isFinite(n)&&Number.isFinite(r)&&n-e>0&&r-t>0,ib=(e,t=!1)=>e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(n,r,i,o)=>`#${r}${r}${i}${i}${o}${o}`).substring(1).match(/.{2}/g).map(n=>parseInt(n,16)/255**t),xo=(e,t,{minLength:n=0}={})=>Array.isArray(e)&&e.length>=n&&e.every(t),Eo=e=>!Number.isNaN(+e)&&+e>=0,Uf=e=>!Number.isNaN(+e)&&+e>0,h1=(e,t)=>n=>e.indexOf(n)>=0?n:t,ob=(e,t=!1,n=Hv)=>new Promise((r,i)=>{const o=new Image;t&&(o.crossOrigin="anonymous"),o.src=e,o.onload=()=>{r(o)};const a=()=>{i(new Error(GC))};o.onerror=a,setTimeout(a,n)}),m1=(e,t,n=Hv)=>new Promise((r,i)=>{ob(t,t.indexOf(window.location.origin)!==0&&t.indexOf("base64")===-1,n).then(o=>{r(e.texture(o))}).catch(o=>{i(o)})}),ab=(e,t=!1)=>[...ib(e,t),255**!t],lb=e=>/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e),sb=e=>e>=0&&e<=1,Ud=e=>Array.isArray(e)&&e.every(sb),ub=(e,[t,n]=[])=>{let r,i,o,a,l=!1;for(let u=0,f=e.length-2;u<e.length;u+=2)r=e[u],i=e[u+1],o=e[f],a=e[f+1],i>n!=a>n&&t<(o-r)*(n-i)/(a-i)+r&&(l=!l),f=u;return l},N0=e=>typeof e=="string"||e instanceof String,cb=e=>Number.isInteger(e)&&e>=0&&e<=255,P_=e=>Array.isArray(e)&&e.every(cb),fb=e=>e.length===3&&(Ud(e)||P_(e)),db=e=>e.length===4&&(Ud(e)||P_(e)),_o=e=>Array.isArray(e)&&e.length&&(Array.isArray(e[0])||N0(e[0])),Vf=(e,t)=>e>t?e:t,p1=(e,t)=>e<t?e:t,fr=(e,t)=>{if(db(e)){const n=Ud(e);return t&&n||!t&&!n?e:t&&!n?e.map(r=>r/255):e.map(r=>r*255)}if(fb(e)){const n=255**!t,r=Ud(e);return t&&r||!t&&!r?[...e,n]:t&&!r?[...e.map(i=>i/255),n]:[...e.map(i=>i*255),n]}return lb(e)?ab(e,t):(console.warn("Only HEX, RGB, and RGBA are handled by this function. Returning white instead."),t?[1,1,1,1]:[255,255,255,255])},v1=e=>Object.entries(e).reduce((t,[n,r])=>(t[r]?t[r]=[...t[r],n]:t[r]=n,t),{}),y1=e=>.21*e[0]+.72*e[1]+.07*e[2],hb=(e,t,n)=>Math.min(n,Math.max(t,e)),mb=(e={})=>{let{regl:t,canvas:n=document.createElement("canvas"),gamma:r=yC}=e;t||(t=tb(n));const i=eb(t),o=[n.width,n.height],a=t.framebuffer({width:o[0],height:o[1],colorFormat:"rgba",colorType:"float"}),l=t({vert:`
      precision highp float;
      attribute vec2 xy;
      void main () {
        gl_Position = vec4(xy, 0, 1);
      }`,frag:`
      precision highp float;
      uniform vec2 srcRes;
      uniform sampler2D src;
      uniform float gamma;

      vec3 approxLinearToSRGB (vec3 rgb, float gamma) {
        return pow(clamp(rgb, vec3(0), vec3(1)), vec3(1.0 / gamma));
      }

      void main () {
        vec4 color = texture2D(src, gl_FragCoord.xy / srcRes);
        gl_FragColor = vec4(approxLinearToSRGB(color.rgb, gamma), color.a);
      }`,attributes:{xy:[-4,-4,4,-4,0,4]},uniforms:{src:()=>a,srcRes:()=>o,gamma:()=>r},count:3,depth:{enable:!1},blend:{enable:!0,func:{srcRGB:"one",srcAlpha:"one",dstRGB:"one minus src alpha",dstAlpha:"one minus src alpha"}}}),u=j=>{const x=j.getContext("2d");x.clearRect(0,0,j.width,j.height),x.drawImage(n,(n.width-j.width)/2,(n.height-j.height)/2,j.width,j.height,0,0,j.width,j.height)},f=(j,x)=>{t.clear(u1),a.use(()=>{t.clear(u1),j()}),l(),u(x)},h=()=>{t.poll()},m=new Set,p=j=>(m.add(j),()=>{m.delete(j)}),L=t.frame(()=>{const j=m.values();let x=j.next();for(;!x.done;)x.value(),x=j.next()}),O=()=>{n.width=window.innerWidth*window.devicePixelRatio,n.height=window.innerHeight*window.devicePixelRatio,o[0]=n.width,o[1]=n.height,a.resize(...o)};return e.canvas||(window.addEventListener("resize",O),window.addEventListener("orientationchange",O),O()),{get canvas(){return n},get regl(){return t},get gamma(){return r},set gamma(j){r=+j},get isSupported(){return i},render:f,onFrame:p,refresh:h,destroy:()=>{L.cancel(),n=void 0,t=void 0,window.removeEventListener("resize",O),window.removeEventListener("orientationchange",O)}}},pb=!0,wp=8,g1=2,vb=2500,yb=250,gb=()=>{const e=document.createElement("div"),t=Math.random().toString(36).substring(2,5)+Math.random().toString(36).substring(2,5);e.id=`lasso-long-press-${t}`,e.style.position="fixed",e.style.width="1.25rem",e.style.height="1.25rem",e.style.pointerEvents="none",e.style.transform="translate(-50%,-50%)";const n=document.createElement("div");n.style.position="absolute",n.style.top=0,n.style.left=0,n.style.width="1.25rem",n.style.height="1.25rem",n.style.clipPath="inset(0px 0px 0px 50%)",n.style.opacity=0,e.appendChild(n);const r=document.createElement("div");r.style.position="absolute",r.style.top=0,r.style.left=0,r.style.width="0.8rem",r.style.height="0.8rem",r.style.border="0.2rem solid currentcolor",r.style.borderRadius="0.8rem",r.style.clipPath="inset(0px 50% 0px 0px)",r.style.transform="rotate(0deg)",n.appendChild(r);const i=document.createElement("div");i.style.position="absolute",i.style.top=0,i.style.left=0,i.style.width="0.8rem",i.style.height="0.8rem",i.style.border="0.2rem solid currentcolor",i.style.borderRadius="0.8rem",i.style.clipPath="inset(0px 50% 0px 0px)",i.style.transform="rotate(0deg)",n.appendChild(i);const o=document.createElement("div");return o.style.position="absolute",o.style.top=0,o.style.left=0,o.style.width="1.25rem",o.style.height="1.25rem",o.style.borderRadius="1.25rem",o.style.background="currentcolor",o.style.transform="scale(0)",o.style.opacity=0,e.appendChild(o),{longPress:e,longPressCircle:n,longPressCircleLeft:r,longPressCircleRight:i,longPressEffect:o}},xb=(e,t,n)=>(1-e)*t+n,Eb=(e,t)=>`${e}ms ease-out mainIn ${t}ms 1 normal forwards`,_b=(e,t)=>`${e}ms ease-out effectIn ${t}ms 1 normal forwards`,Sb=(e,t)=>`${e}ms linear leftSpinIn ${t}ms 1 normal forwards`,wb=(e,t)=>`${e}ms linear rightSpinIn ${t}ms 1 normal forwards`,Tb=(e,t)=>`${e}ms linear circleIn ${t}ms 1 normal forwards`,Ab=(e,t,n)=>`
  @keyframes mainIn {
    0% {
      color: ${t};
      opacity: 0;
    }
    0%, ${e}% {
      color: ${t};
      opacity: 1;
    }
    100% {
      color: ${n};
      opacity: 0.8;
    }
  }
`,Cb=(e,t,n,r)=>`
  @keyframes effectIn {
    0%, ${e}% {
      opacity: ${n};
      transform: scale(${r});
    }
    ${t}% {
      opacity: 0.66;
      transform: scale(1.5);
    }
    99% {
      opacity: 0;
      transform: scale(2);
    }
    100% {
      opacity: 0;
      transform: scale(0);
    }
  }
`,bb=(e,t,n)=>`
  @keyframes circleIn {
    0% {
      clip-path: ${t};
      opacity: ${n};
    }
    ${e}% {
      clip-path: ${t};
      opacity: 1;
    }
    ${e+.01}%, 100% {
      clip-path: inset(0);
      opacity: 1;
    }
  }
`,Rb=(e,t)=>`
  @keyframes leftSpinIn {
    0% {
      transform: rotate(${t}deg);
    }
    ${e}%, 100% {
      transform: rotate(360deg);
    }
  }
`,Lb=(e,t)=>`
  @keyframes rightSpinIn {
    0% {
      transform: rotate(${t}deg);
    }
    ${e}%, 100% {
      transform: rotate(180deg);
    }
  }
`,Ob=({time:e=Fd,extraTime:t=Bd,delay:n=jd,currentColor:r,targetColor:i,effectOpacity:o,effectScale:a,circleLeftRotation:l,circleRightRotation:u,circleClipPath:f,circleOpacity:h})=>{const m=l/360,p=xb(m,e,t),L=Math.round((1-m)*e/p*100),O=Math.round(L/2),k=L+(100-L)/4;return{rules:{main:Ab(L,r,i),effect:Cb(L,k,o,a),circleRight:Lb(O,u),circleLeft:Rb(L,l),circle:bb(O,f,h)},names:{main:Eb(p,n),effect:_b(p,n),circleLeft:Sb(p,n),circleRight:wb(p,n),circle:Tb(p,n)}}},Pb=e=>`${e}ms linear mainOut 0s 1 normal forwards`,kb=e=>`${e}ms linear effectOut 0s 1 normal forwards`,Nb=e=>`${e}ms linear leftSpinOut 0s 1 normal forwards`,Ib=e=>`${e}ms linear rightSpinOut 0s 1 normal forwards`,Mb=e=>`${e}ms linear circleOut 0s 1 normal forwards`,Db=(e,t)=>`
  @keyframes mainOut {
    0% {
      color: ${e};
    }
    100% {
      color: ${t};
    }
  }
`,Fb=(e,t)=>`
  @keyframes effectOut {
    0% {
      opacity: ${e};
      transform: scale(${t});
    }
    99% {
      opacity: 0;
      transform: scale(${t+.5});
    }
    100% {
      opacity: 0;
      transform: scale(0);
    }
  }
`,Bb=(e,t)=>`
  @keyframes rightSpinOut {
    0%, ${e}% {
      transform: rotate(${t}deg);
    }
    100% {
      transform: rotate(0deg);
    }
`,jb=e=>`
  @keyframes leftSpinOut {
    0% {
      transform: rotate(${e}deg);
    }
    100% {
      transform: rotate(0deg);
    }
  }
`,$b=(e,t,n)=>`
  @keyframes circleOut {
    0%, ${e}% {
      clip-path: ${t};
      opacity: ${n};
    }
    ${e+.01}% {
      clip-path: inset(0 0 0 50%);
      opacity: ${n};
    }
    100% {
      clip-path: inset(0 0 0 50%);
      opacity: 0;
    }
  }
`,Gb=({time:e=$d,currentColor:t,targetColor:n,effectOpacity:r,effectScale:i,circleLeftRotation:o,circleRightRotation:a,circleClipPath:l,circleOpacity:u})=>{const f=o/360,h=f*e,m=Math.min(100,f*100),p=m>50?Math.round((1-50/m)*100):0;return{rules:{main:Db(t,n),effect:Fb(r,i),circleRight:Bb(p,a),circleLeft:jb(o),circle:$b(p,l,u)},names:{main:Pb(h),effect:kb(h),circleRight:Nb(h),circleLeft:Ib(h),circle:Mb(h)}}},mu=(e,t=null)=>e===null?t:e;let Tp;const k_=()=>{if(!Tp){const e=document.createElement("style");document.head.appendChild(e),Tp=e.sheet}return Tp},Mr=e=>{const t=k_(),n=t.rules.length;return t.insertRule(e,n),n},Dr=e=>{k_().deleteRule(e)},zb=`${vb}ms ease scaleInFadeOut 0s 1 normal backwards`,Ub=(e,t,n)=>`
@keyframes scaleInFadeOut {
  0% {
    opacity: ${e};
    transform: translate(-50%,-50%) scale(${t}) rotate(${n}deg);
  }
  10% {
    opacity: 1;
    transform: translate(-50%,-50%) scale(1) rotate(${n+20}deg);
  }
  100% {
    opacity: 0;
    transform: translate(-50%,-50%) scale(0.9) rotate(${n+60}deg);
  }
}
`;let Ap=null;const Vb=`${yb}ms ease fadeScaleOut 0s 1 normal backwards`,Hb=(e,t,n)=>`
@keyframes fadeScaleOut {
  0% {
    opacity: ${e};
    transform: translate(-50%,-50%) scale(${t}) rotate(${n}deg);
  }
  100% {
    opacity: 0;
    transform: translate(-50%,-50%) scale(0) rotate(${n}deg);
  }
}
`;let Cp=null;const N_=(e,{onDraw:t=jl,onStart:n=jl,onEnd:r=jl,enableInitiator:i=pb,initiatorParentElement:o=document.body,longPressIndicatorParentElement:a=document.body,minDelay:l=wp,minDist:u=g1,pointNorm:f=jl}={})=>{let h=i,m=o,p=a,L=t,O=n,k=r,j=f;const x=document.createElement("div"),w=Math.random().toString(36).substring(2,5)+Math.random().toString(36).substring(2,5);x.id=`lasso-initiator-${w}`,x.style.position="fixed",x.style.display="flex",x.style.justifyContent="center",x.style.alignItems="center",x.style.zIndex=99,x.style.width="4rem",x.style.height="4rem",x.style.borderRadius="4rem",x.style.opacity=.5,x.style.transform="translate(-50%,-50%) scale(0) rotate(0deg)";const{longPress:C,longPressCircle:U,longPressCircleLeft:X,longPressCircleRight:ae,longPressEffect:Ae}=gb();let se=!1,ft=!1,Be=[],Ue=[],et,tt=!1,Ye=null,rt=null,wt=null,dt=null,xe=null,Ge=null,ze=null,Ce=null,Qe=null,xt=null;const zt=()=>{se=!1},Dt=Rt=>{const{left:Ft,top:Ne}=e.getBoundingClientRect();return[Rt.clientX-Ft,Rt.clientY-Ne]};window.addEventListener("mouseup",zt);const Qt=()=>{x.style.opacity=.5,x.style.transform="translate(-50%,-50%) scale(0) rotate(0deg)"},Ht=(Rt,Ft)=>{const Ne=getComputedStyle(Rt),ht=+Ne.opacity,_t=Ne.transform.match(/([0-9.-]+)+/g),Me=+_t[0],Lt=+_t[1],Nt=Math.sqrt(Me*Me+Lt*Lt);let lt=Math.atan2(Lt,Me)*(180/Math.PI);return lt=Ft&&lt<=0?360+lt:lt,{opacity:ht,scale:Nt,rotate:lt}},Pt=Rt=>{if(!h||se)return;const Ft=Rt.clientX,Ne=Rt.clientY;x.style.top=`${Ne}px`,x.style.left=`${Ft}px`;const ht=Ht(x),_t=ht.opacity,Me=ht.scale,Lt=ht.rotate;x.style.opacity=_t,x.style.transform=`translate(-50%,-50%) scale(${Me}) rotate(${Lt}deg)`,x.style.animation="none",Al().then(()=>{Ap!==null&&Dr(Ap),Ap=Mr(Ub(_t,Me,Lt)),x.style.animation=zb,Al().then(()=>{Qt()})})},Kt=()=>{const{opacity:Rt,scale:Ft,rotate:Ne}=Ht(x);x.style.opacity=Rt,x.style.transform=`translate(-50%,-50%) scale(${Ft}) rotate(${Ne}deg)`,x.style.animation="none",Al(2).then(()=>{Cp!==null&&Dr(Cp),Cp=Mr(Hb(Rt,Ft,Ne)),x.style.animation=Vb,Al().then(()=>{Qt()})})},Nn=(Rt,Ft,{time:Ne=Fd,extraTime:ht=Bd,delay:_t=jd}={time:Fd,extraTime:Bd,delay:jd})=>{tt=!0;const Me=getComputedStyle(C);C.style.color=Me.color,C.style.top=`${Ft}px`,C.style.left=`${Rt}px`,C.style.animation="none";const Lt=getComputedStyle(U);U.style.clipPath=Lt.clipPath,U.style.opacity=Lt.opacity,U.style.animation="none";const Nt=Ht(Ae);Ae.style.opacity=Nt.opacity,Ae.style.transform=`scale(${Nt.scale})`,Ae.style.animation="none";const lt=Ht(X);X.style.transform=`rotate(${lt.rotate}deg)`,X.style.animation="none";const tn=Ht(ae);ae.style.transform=`rotate(${tn.rotate}deg)`,ae.style.animation="none",Al().then(()=>{if(!tt)return;xe!==null&&Dr(xe),dt!==null&&Dr(dt),wt!==null&&Dr(wt),rt!==null&&Dr(rt),Ye!==null&&Dr(Ye);const{rules:q,names:Xe}=Ob({time:Ne,extraTime:ht,delay:_t,currentColor:Me.color||"currentcolor",targetColor:C.dataset.activeColor,effectOpacity:Nt.opacity||0,effectScale:Nt.scale||0,circleLeftRotation:lt.rotate||0,circleRightRotation:tn.rotate||0,circleClipPath:Lt.clipPath||"inset(0 0 0 50%)",circleOpacity:Lt.opacity||0});Ye=Mr(q.main),rt=Mr(q.effect),wt=Mr(q.circleLeft),dt=Mr(q.circleRight),xe=Mr(q.circle),C.style.animation=Xe.main,Ae.style.animation=Xe.effect,X.style.animation=Xe.circleLeft,ae.style.animation=Xe.circleRight,U.style.animation=Xe.circle})},In=({time:Rt=$d}={time:$d})=>{if(!tt)return;tt=!1;const Ft=getComputedStyle(C);C.style.color=Ft.color,C.style.animation="none";const Ne=getComputedStyle(U);U.style.clipPath=Ne.clipPath,U.style.opacity=Ne.opacity,U.style.animation="none";const ht=Ht(Ae);Ae.style.opacity=ht.opacity,Ae.style.transform=`scale(${ht.scale})`,Ae.style.animation="none";const _t=Ne.clipPath.slice(-2,-1)==="x",Me=Ht(X,_t);X.style.transform=`rotate(${Me.rotate}deg)`,X.style.animation="none";const Lt=Ht(ae);ae.style.transform=`rotate(${Lt.rotate}deg)`,ae.style.animation="none",Al().then(()=>{xt!==null&&Dr(xt),Qe!==null&&Dr(Qe),Ce!==null&&Dr(Ce),ze!==null&&Dr(ze),Ge!==null&&Dr(Ge);const{rules:Nt,names:lt}=Gb({time:Rt,currentColor:Ft.color||"currentcolor",targetColor:C.dataset.color,effectOpacity:ht.opacity||0,effectScale:ht.scale||0,circleLeftRotation:Me.rotate||0,circleRightRotation:Lt.rotate||0,circleClipPath:Ne.clipPath||"inset(0px)",circleOpacity:Ne.opacity||1});Ge=Mr(Nt.main),ze=Mr(Nt.effect),Ce=Mr(Nt.circleLeft),Qe=Mr(Nt.circleRight),xt=Mr(Nt.circle),C.style.animation=lt.main,Ae.style.animation=lt.effect,X.style.animation=lt.circleLeft,ae.style.animation=lt.circleRight,U.style.animation=lt.circle})},Yt=()=>{L(Be,Ue)},Bt=Rt=>{if(et){if(Y2(Rt[0],Rt[1],et[0],et[1])>g1){et=Rt;const Ne=j(Rt);Be.push(Ne),Ue.push(Ne[0],Ne[1]),Be.length>1&&Yt()}}else{ft||(ft=!0,O()),et=Rt;const Ft=j(Rt);Be=[Ft],Ue=[Ft[0],Ft[1]]}},pt=w_(Bt,wp,wp),Et=(Rt,Ft)=>{const Ne=Dt(Rt);return Ft?pt(Ne):Bt(Ne)},gt=()=>{Be=[],Ue=[],et=void 0,Yt()},Ct=Rt=>{Pt(Rt)},Ot=()=>{se=!0,ft=!0,gt(),O()},Ut=()=>{Kt()},qt=({merge:Rt=!1}={})=>{ft=!1;const Ft=[...Be],Ne=[...Ue];return pt.cancel(),gt(),Ft.length&&k(Ft,Ne,{merge:Rt}),Ft},Rn=({onDraw:Rt=null,onStart:Ft=null,onEnd:Ne=null,enableInitiator:ht=null,initiatorParentElement:_t=null,longPressIndicatorParentElement:Me=null,minDelay:Lt=null,minDist:Nt=null,pointNorm:lt=null}={})=>{L=mu(Rt,L),O=mu(Ft,O),k=mu(Ne,k),h=mu(ht,h),j=mu(lt,j),_t!==null&&_t!==m&&(m.removeChild(x),_t.appendChild(x),m=_t),Me!==null&&Me!==p&&(p.removeChild(C),Me.appendChild(C),p=Me),h?(x.addEventListener("click",Ct),x.addEventListener("mousedown",Ot),x.addEventListener("mouseleave",Ut)):(x.removeEventListener("mousedown",Ot),x.removeEventListener("mouseleave",Ut))},Vr=()=>{m.removeChild(x),p.removeChild(C),window.removeEventListener("mouseup",zt),x.removeEventListener("click",Ct),x.removeEventListener("mousedown",Ot),x.removeEventListener("mouseleave",Ut)},y=()=>Rt=>Bv(Rt,{clear:gt,destroy:Vr,end:qt,extend:Et,set:Rn,showInitiator:Pt,hideInitiator:Kt,showLongPressIndicator:Nn,hideLongPressIndicator:In});return m.appendChild(x),p.appendChild(C),Rn({onDraw:L,onStart:O,onEnd:k,enableInitiator:h,initiatorParentElement:m}),W2(l1("initiator",x),l1("longPressIndicator",C),y(),X2(N_))({})},Wb=`
precision mediump float;

uniform sampler2D texture;

varying vec2 uv;

void main () {
  gl_FragColor = texture2D(texture, uv);
}
`,Xb=`
precision mediump float;

uniform mat4 modelViewProjection;

attribute vec2 position;

varying vec2 uv;

void main () {
  uv = position;
  gl_Position = modelViewProjection * vec4(-1.0 + 2.0 * uv.x, 1.0 - 2.0 * uv.y, 0, 1);
}
`,Yb=`
precision highp float;

varying vec4 color;
varying float finalPointSize;

float linearstep(float edge0, float edge1, float x) {
  return clamp((x - edge0) / (edge1 - edge0), 0.0, 1.0);
}

void main() {
  vec2 c = gl_PointCoord * 2.0 - 1.0;
  float sdf = length(c) * finalPointSize;
  float alpha = linearstep(finalPointSize + 0.5, finalPointSize - 0.5, sdf);

  gl_FragColor = vec4(color.rgb, alpha * color.a);
}
`,Qb=`precision highp float;

varying vec4 color;

void main() {
  gl_FragColor = color;
}
`,Kb=e=>`
precision highp float;

uniform sampler2D colorTex;
uniform float colorTexRes;
uniform float colorTexEps;
uniform sampler2D stateTex;
uniform float stateTexRes;
uniform float stateTexEps;
uniform float devicePixelRatio;
uniform sampler2D encodingTex;
uniform float encodingTexRes;
uniform float encodingTexEps;
uniform float pointSizeExtra;
uniform float pointOpacityMax;
uniform float pointOpacityScale;
uniform float numPoints;
uniform float globalState;
uniform float isColoredByZ;
uniform float isColoredByW;
uniform float isOpacityByZ;
uniform float isOpacityByW;
uniform float isOpacityByDensity;
uniform float isSizedByZ;
uniform float isSizedByW;
uniform float colorMultiplicator;
uniform float opacityMultiplicator;
uniform float opacityDensity;
uniform float sizeMultiplicator;
uniform float numColorStates;
uniform float pointScale;
uniform mat4 modelViewProjection;

attribute vec2 stateIndex;

varying vec4 color;
varying float finalPointSize;

void main() {
  vec4 state = texture2D(stateTex, stateIndex);

  gl_Position = modelViewProjection * vec4(state.x, state.y, 0.0, 1.0);

  // Determine color index
  float colorIndexZ =  isColoredByZ * floor(state.z * colorMultiplicator);
  float colorIndexW =  isColoredByW * floor(state.w * colorMultiplicator);

  // Multiply by the number of color states per color
  // I.e., normal, active, hover, background, etc.
  float colorIndex = (colorIndexZ + colorIndexW) * numColorStates;

  // Half a "pixel" or "texel" in texture coordinates
  float colorLinearIndex = colorIndex + globalState;

  // Need to add cEps here to avoid floating point issue that can lead to
  // dramatic changes in which color is loaded as floor(3/2.9999) = 1 but
  // floor(3/3.0001) = 0!
  float colorRowIndex = floor((colorLinearIndex + colorTexEps) / colorTexRes);

  vec2 colorTexIndex = vec2(
    (colorLinearIndex / colorTexRes) - colorRowIndex + colorTexEps,
    colorRowIndex / colorTexRes + colorTexEps
  );

  color = texture2D(colorTex, colorTexIndex);

  // Retrieve point size
  float pointSizeIndexZ = isSizedByZ * floor(state.z * sizeMultiplicator);
  float pointSizeIndexW = isSizedByW * floor(state.w * sizeMultiplicator);
  float pointSizeIndex = pointSizeIndexZ + pointSizeIndexW;

  float pointSizeRowIndex = floor((pointSizeIndex + encodingTexEps) / encodingTexRes);
  vec2 pointSizeTexIndex = vec2(
    (pointSizeIndex / encodingTexRes) - pointSizeRowIndex + encodingTexEps,
    pointSizeRowIndex / encodingTexRes + encodingTexEps
  );
  float pointSize = texture2D(encodingTex, pointSizeTexIndex).x;

  // Retrieve opacity
  ${e===3?"":`
        if (isOpacityByDensity < 0.5) {
          float opacityIndexZ = isOpacityByZ * floor(state.z * opacityMultiplicator);
          float opacityIndexW = isOpacityByW * floor(state.w * opacityMultiplicator);
          float opacityIndex = opacityIndexZ + opacityIndexW;

          float opacityRowIndex = floor((opacityIndex + encodingTexEps) / encodingTexRes);
          vec2 opacityTexIndex = vec2(
            (opacityIndex / encodingTexRes) - opacityRowIndex + encodingTexEps,
            opacityRowIndex / encodingTexRes + encodingTexEps
          );
          color.a = texture2D(encodingTex, opacityTexIndex)[${1+e}];
        } else {
          color.a = min(1.0, opacityDensity + globalState);
        }
      `}

  color.a = min(pointOpacityMax, color.a) * pointOpacityScale;
  finalPointSize = (pointSize * pointScale) + pointSizeExtra;
  gl_PointSize = finalPointSize;
}
`,qb=`precision highp float;

uniform sampler2D startStateTex;
uniform sampler2D endStateTex;
uniform float t;

varying vec2 particleTextureIndex;

void main() {
  // Interpolate x, y, and value
  vec3 start = texture2D(startStateTex, particleTextureIndex).xyw;
  vec3 end = texture2D(endStateTex, particleTextureIndex).xyw;
  vec3 curr = start * (1.0 - t) + end * t;

  // The category cannot be interpolated
  float endCategory = texture2D(endStateTex, particleTextureIndex).z;

  gl_FragColor = vec4(curr.xy, endCategory, curr.z);
}`,Zb=`precision highp float;

attribute vec2 position;
varying vec2 particleTextureIndex;

void main() {
  // map normalized device coords to texture coords
  particleTextureIndex = 0.5 * (1.0 + position);

  gl_Position = vec4(position, 0, 1);
}`,Jb=function(){const t=(f,h,m,p,L)=>{const O=(p-h)*.5,k=(L-m)*.5;return(2*m-2*p+O+k)*f*f*f+(-3*m+3*p-2*O-k)*f*f+O*f+m},n=(f,h,m)=>{const p=m*f,L=Math.floor(p),O=p-L,k=h[Math.max(0,L-1)],j=h[L],x=h[Math.min(m,L+1)],w=h[Math.min(m,L+2)];return[t(O,k[0],j[0],x[0],w[0]),t(O,k[1],j[1],x[1],w[1])]},r=(f,h,m,p)=>(f-m)**2+(h-p)**2;/**
 * Douglas Peucker square segment distance
 * Implementation from https://github.com/mourner/simplify-js
 * @author Vladimir Agafonkin
 * @copyright Vladimir Agafonkin 2013
 * @license BSD
 * @param {array} p - Point
 * @param {array} p1 - First boundary point
 * @param {array} p2 - Second boundary point
 * @return {number} Distance
 */const i=(f,h,m)=>{let p=h[0],L=h[1],O=m[0]-p,k=m[1]-L;if(O!==0||k!==0){const j=((f[0]-p)*O+(f[1]-L)*k)/(O*O+k*k);j>1?(p=m[0],L=m[1]):j>0&&(p+=O*j,L+=k*j)}return O=f[0]-p,k=f[1]-L,O*O+k*k};/**
 * Douglas Peucker step function
 * Implementation from https://github.com/mourner/simplify-js
 * @author Vladimir Agafonkin
 * @copyright Vladimir Agafonkin 2013
 * @license BSD
 * @param   {[type]}  points  [description]
 * @param   {[type]}  first  [description]
 * @param   {[type]}  last  [description]
 * @param   {[type]}  tolerance  [description]
 * @param   {[type]}  simplified  [description]
 * @return  {[type]}  [description]
 */const o=(f,h,m,p,L)=>{let O=p,k;for(let j=h+1;j<m;j++){const x=i(f[j],f[h],f[m]);x>O&&(k=j,O=x)}O>p&&(k-h>1&&o(f,h,k,p,L),L.push(f[k]),m-k>1&&o(f,k,m,p,L))};/**
 * Douglas Peucker. Implementation from https://github.com/mourner/simplify-js
 * @author Vladimir Agafonkin
 * @copyright Vladimir Agafonkin 2013
 * @license BSD
 * @param {array} points - List of points to be simplified
 * @param {number} tolerance - Tolerance level. Points below this distance level will be ignored
 * @return {array} Simplified point list
 */const a=(f,h)=>{const m=f.length-1,p=[f[0]];return o(f,0,m,h,p),p.push(f[m]),p},l=(f,{maxIntPointsPerSegment:h=100,tolerance:m=.002}={})=>{const p=f.length,L=p-1,O=L*h+1,k=m**2;let j=[],x;for(let w=0;w<p-1;w++){let C=[f[w].slice(0,2)];x=f[w];for(let U=1;U<h;U++){const X=(w*h+U)/O,ae=n(X,f,L);r(x[0],x[1],ae[0],ae[1])>k&&(C.push(ae),x=ae)}C.push(f[w+1]),C=a(C,k),j=j.concat(C.slice(0,C.length-1))}return j.push(f[f.length-1].slice(0,2)),j.flat()},u=f=>{const h={},m=!Number.isNaN(+f[0][5]);return f.forEach(p=>{const L=p[4];h[L]||(h[L]=[]),m?h[L][p[5]]=p:h[L].push(p)}),Object.entries(h).forEach(p=>{h[p[0]]=p[1].filter(L=>L),h[p[0]].reference=p[1][0]}),h};self.onmessage=function(h){(h.data.points?+h.data.points.length:0)||self.postMessage({error:new Error("No points provided")}),h.data.points;const p=u(h.data.points);self.postMessage({points:Object.entries(p).reduce((L,O)=>(L[O[0]]=l(O[1],h.data.options),L[O[0]].reference=O[1].reference,L),{})})}},eR=(e,t={tolerance:.002,maxIntPointsPerSegment:100})=>new Promise((n,r)=>{const i=Q2(Jb);i.onmessage=o=>{o.data.error?r(o.data.error):n(o.data.points),i.terminate()},i.postMessage({points:e,options:t})});var tR="1.8.5";const bp={showRecticle:"showReticle",recticleColor:"reticleColor"},Rp=e=>{Object.keys(e).filter(t=>bp[t]).forEach(t=>{console.warn(`regl-scatterplot: the "${t}" property is deprecated. Please use "${bp[t]}" instead.`),e[bp[t]]=e[t],delete e[t]})},Fr=(e,t,{allowSegment:n=!1,allowDensity:r=!1}={})=>L_.has(e)?"valueZ":O_.has(e)?"valueW":e==="segment"?n?"segment":t:e==="density"&&r?"density":t,Lp=e=>{switch(e){case"valueZ":return 2;case"valueW":return 3;default:return null}},nR=(e={})=>{const t=f2({async:!e.syncEvents,caseInsensitive:!0}),n=new Float32Array(16),r=new Float32Array(16),i=[0,0];Rp(e);let{renderer:o,backgroundColor:a=NC,backgroundImage:l=zC,canvas:u=document.createElement("canvas"),colorBy:f=hu,deselectOnDblClick:h=HC,deselectOnEscape:m=WC,lassoColor:p=iC,lassoLineWidth:L=oC,lassoMinDelay:O=lC,lassoMinDist:k=sC,lassoClearEvent:j=uC,lassoInitiator:x=aC,lassoInitiatorParentElement:w=document.body,lassoOnLongPress:C=cC,lassoLongPressTime:U=Fd,lassoLongPressAfterEffectTime:X=Bd,lassoLongPressEffectDelay:ae=jd,lassoLongPressRevertEffectTime:Ae=$d,keyMap:se=hC,mouseMode:ft=tC,showReticle:Be=UC,reticleColor:Ue=VC,pointColor:et=OC,pointColorActive:tt=PC,pointColorHover:Ye=kC,showPointConnections:rt=XC,pointConnectionColor:wt=IC,pointConnectionColorActive:dt=MC,pointConnectionColorHover:xe=DC,pointConnectionColorBy:Ge=_p,pointConnectionOpacity:ze=wC,pointConnectionOpacityBy:Ce=xp,pointConnectionOpacityActive:Qe=TC,pointConnectionSize:xt=_C,pointConnectionSizeActive:zt=SC,pointConnectionSizeBy:Dt=gp,pointConnectionMaxIntPointsPerSegment:Qt=YC,pointConnectionTolerance:Ht=QC,pointSize:Pt=gC,pointSizeSelected:Kt=xC,pointSizeMouseDetection:Nn=KC,pointOutlineWidth:In=EC,opacity:Yt=gi,opacityBy:Bt=Ep,opacityByDensityFill:pt=CC,opacityInactiveMax:Et=RC,opacityInactiveScale:gt=LC,sizeBy:Ct=yp,height:Ot=vC,width:Ut=pC}=e,qt=Ut===gi?1:Ut,Rn=Ot===gi?1:Ot;const{performanceMode:Vr=qC,opacityByDensityDebounceTime:y=bC}=e;o||(o=mb({regl:e.regl,gamma:e.gamma})),a=fr(a,!0),p=fr(p,!0),Ue=fr(Ue,!0);let Rt=!1,Ft=y1(a),Ne,ht,_t=!1,Me=null,Lt=[0,0],Nt=-1,lt=[];const tn=new Set,q=new Set;let Xe=!1;const on=new Set;let cn=0,yr=0,ar=!1,Hr=[],jn,Yi,$a=e.aspectRatio||mC,Ga,Qi,Ki,fn,gr,ss,Wo,Xo,us,za=v1(se),qi,Yo,Zi,Ua=!1,yt=!0,wi=!1,Va;et=_o(et)?[...et]:[et],tt=_o(tt)?[...tt]:[tt],Ye=_o(Ye)?[...Ye]:[Ye],et=et.map(s=>fr(s,!0)),tt=tt.map(s=>fr(s,!0)),Ye=Ye.map(s=>fr(s,!0)),Yt=!Array.isArray(Yt)&&Number.isNaN(+Yt)?et[0][3]:Yt,Yt=xo(Yt,Eo,{minLength:1})?[...Yt]:[Yt],Pt=xo(Pt,Eo,{minLength:1})?[...Pt]:[Pt];let rc=vp/Pt[0];wt==="inherit"?wt=[...et]:(wt=_o(wt)?[...wt]:[wt],wt=wt.map(s=>fr(s,!0))),dt==="inherit"?dt=[...tt]:(dt=_o(dt)?[...dt]:[dt],dt=dt.map(s=>fr(s,!0))),xe==="inherit"?xe=[...Ye]:(xe=_o(xe)?[...xe]:[xe],xe=xe.map(s=>fr(s,!0))),ze==="inherit"?ze=[...Yt]:ze=xo(ze,Eo,{minLength:1})?[...ze]:[ze],xt==="inherit"?xt=[...Pt]:xt=xo(xt,Eo,{minLength:1})?[...xt]:[xt],f=Fr(f,hu),Bt=Fr(Bt,Ep,{allowDensity:!0}),Ct=Fr(Ct,yp),Ge=Fr(Ge,_p,{allowSegment:!0}),Ce=Fr(Ce,xp,{allowSegment:!0}),Dt=Fr(Dt,gp,{allowSegment:!0});let ii,oi,ai,ic,xr=0,cs=0,Qo,fs,Ko,Ha,Wa,Xa,Ya,Ti=!1,qo=null,ds,hs,oc=Be,Ji,eo=0,Qa,to=0,ms=!1,lr=!1,li=!1,si=Cl,Ai=Cl,Ln,kr=!1,Mn=e.xScale||null,yn=e.yScale||null,no=0,Ka=0,qa=0,Za=0;Mn&&(no=Mn.domain()[0],Ka=Mn.domain()[1]-Mn.domain()[0],Mn.range([0,qt])),yn&&(qa=yn.domain()[0],Za=yn.domain()[1]-yn.domain()[0],yn.range([Rn,0]));const ac=s=>-1+s/qt*2,sr=s=>1+s/Rn*-2,Jn=()=>[ac(i[0]),sr(i[1])],Er=(s,N)=>{const $=[s,N,1,1],ie=O0(n,nr(n,Ga,nr(n,Ne.view,Ki)));return sd($,$,ie),$.slice(0,2)},lc=(s=0)=>{const N=ia(),ie=(Yo[1]-Zi[1])/u.height;return(us*N+s)*ie},ps=()=>Xe?jn.points.filter((s,N)=>on.has(N)):jn.points,Ja=(s,N,$,ie)=>{const Se=jn.range(s,N,$,ie);return Xe?Se.filter(De=>on.has(De)):Se},vs=()=>{const[s,N]=Jn(),[$,ie]=Er(s,N),Se=lc(4),De=Ja($-Se,ie-Se,$+Se,ie+Se);let He=Se,mt=-1;return De.forEach(jt=>{const[It,gn]=jn.points[jt],Wt=Sp(It,gn,$,ie);Wt<He&&(He=Wt,mt=jt)}),mt},gh=(s,N)=>{Hr=s,ht.setPoints(N),t.publish("lassoExtend",{coordinates:s})},xh=s=>{const N=nb(s);if(!rb(N))return[];const $=Ja(...N),ie=[];return $.forEach(Se=>{ub(s,jn.points[Se])&&ie.push(Se)}),ie},ro=()=>{Hr=[],ht&&ht.clear()},Zo=s=>s&&s.length>4,Ci=(s,N)=>{if(ss||!rt||!Zo(jn.points[s[0]]))return;const $=N===0,ie=N===1?He=>q.add(He):jl,Se=Object.keys(s.reduce((He,mt)=>{const jt=jn.points[mt],gn=Array.isArray(jt[4])?jt[4][0]:jt[4];return He[gn]=!0,He},{})),De=fn.getData().opacities;Se.filter(He=>!q.has(+He)).forEach(He=>{const mt=gr[He][0],jt=gr[He][2],It=gr[He][3],gn=mt*4+It*2,Wt=gn+jt*2+4;De.__original__===void 0&&(De.__original__=De.slice());for(let Mt=gn;Mt<Wt;Mt++)De[Mt]=$?De.__original__[Mt]:Qe;ie(He)}),fn.getBuffer().opacities.subdata(De,0)},el=s=>[s%xr/xr+cs,Math.floor(s/xr)/xr+cs],Eh=s=>Xe&&!on.has(s),tl=({preventEvent:s=!1}={})=>{j===k0&&ro(),lt.length&&(s||t.publish("deselect"),q.clear(),Ci(lt,0),lt=[],tn.clear(),yt=!0)},io=(s,{merge:N=!1,preventEvent:$=!1}={})=>{const ie=Array.isArray(s)?s:[s],Se=[...lt];if(N){if(lt=H2(lt,ie),Se.length===lt.length){yt=!0;return}}else{if(lt&&lt.length&&Ci(lt,0),Se.length>0&&ie.length===0){tl({preventEvent:$});return}lt=ie}if(U2(Se,lt)){yt=!0;return}const De=[];tn.clear(),q.clear();for(let He=lt.length-1;He>=0;He--){const mt=lt[He];if(mt<0||mt>=cn||Eh(mt)){lt.splice(He,1);continue}tn.add(mt),De.push.apply(De,el(mt))}fs({usage:"dynamic",type:"float",data:De}),Ci(lt,1),$||t.publish("select",{points:lt}),yt=!0},Jo=(s,{showReticleOnce:N=!1,preventEvent:$=!1}={})=>{let ie=!1;if(s>=0&&s<cn){ie=!0;const Se=Ln,De=s!==Ln;+Se>=0&&De&&!tn.has(Se)&&Ci([Se],0),Ln=s,Ko.subdata(el(s)),tn.has(s)||Ci([s],2),De&&!$&&t.publish("pointover",Ln)}else ie=+Ln>=0,ie&&(tn.has(Ln)||Ci([Ln],0),$||t.publish("pointout",Ln)),Ln=void 0;ie&&(yt=!0,wi=N)},ys=s=>{const N=u.getBoundingClientRect();return i[0]=s.clientX-N.left,i[1]=s.clientY-N.top,[...i]},Sn=N_(u,{onStart:()=>{Ne.config({isFixed:!0}),_t=!0,ar=!0,ro(),Nt>=0&&(clearTimeout(Nt),Nt=-1),t.publish("lassoStart")},onDraw:gh,onEnd:(s,N,{merge:$=!1}={})=>{Ne.config({isFixed:!1}),Hr=[...s];const ie=xh(N);io(ie,{merge:$}),t.publish("lassoEnd",{coordinates:Hr}),j===$v&&ro()},enableInitiator:x,initiatorParentElement:w,pointNorm:([s,N])=>Er(ac(s),sr(N))}),nl=()=>ft===A_,ea=(s,N)=>{switch(za[N]){case zv:return s.altKey;case Uv:return s.metaKey;case b_:return s.ctrlKey;case R_:return s.metaKey;case Vv:return s.shiftKey;default:return!1}},sc=s=>document.elementsFromPoint(s.clientX,s.clientY).some(N=>N===u),gs=s=>{!lr||s.buttons!==1||(_t=!0,Me=performance.now(),Lt=ys(s),ar=nl()||ea(s,Gv),!ar&&C&&(Sn.showLongPressIndicator(s.clientX,s.clientY,{time:U,extraTime:X,delay:ae}),Nt=setTimeout(()=>{Nt=-1,ar=!0},U)))},xs=s=>{lr&&(_t=!1,Nt>=0&&(clearTimeout(Nt),Nt=-1),ar&&(s.preventDefault(),ar=!1,Sn.end({merge:ea(s,zd)})),C&&Sn.hideLongPressIndicator({time:Ae}))},rl=s=>{if(!lr)return;s.preventDefault();const N=ys(s);if(Sp(...N,...Lt)>=k)return;const $=performance.now()-Me;if(!x||$<JC){const ie=vs();ie>=0?(lt.length&&j===k0&&ro(),io([ie],{merge:ea(s,zd)})):qi||(qi=setTimeout(()=>{qi=null,Sn.showInitiator(s)},ZC))}},il=s=>{Sn.hideInitiator(),qi&&(clearTimeout(qi),qi=null),h&&(s.preventDefault(),tl())},Wr=s=>{if(li||(kr=sc(s),li=!0),!lr||!kr&&!_t)return;const N=ys(s),ie=Sp(...N,...Lt)>=k;kr&&!ar&&Jo(vs()),ar?(s.preventDefault(),Sn.extend(s,!0)):_t&&C&&ie&&Sn.hideLongPressIndicator({time:Ae}),Nt>=0&&ie&&(clearTimeout(Nt),Nt=-1),_t&&(yt=!0)},ta=()=>{Ln=void 0,kr=!1,li=!1,lr&&(+Ln>=0&&!tn.has(Ln)&&Ci([Ln],0),xs(),yt=!0)},ol=()=>{const s=Math.max(Pt.length,Yt.length);to=Math.max(2,Math.ceil(Math.sqrt(s)));const N=new Float32Array(to**2*4);for(let $=0;$<s;$++){N[$*4]=Pt[$]||0,N[$*4+1]=Math.min(1,Yt[$]||0);const ie=Number((tt[$]||tt[0])[3]);N[$*4+2]=Math.min(1,Number.isNaN(ie)?1:ie);const Se=Number((Ye[$]||Ye[0])[3]);N[$*4+3]=Math.min(1,Number.isNaN(Se)?1:Se)}return o.regl.texture({data:N,shape:[to,to,4],type:"float"})},Es=(s=et,N=tt,$=Ye)=>{const ie=s.length,Se=N.length,De=$.length,He=[];if(ie===Se&&Se===De)for(let mt=0;mt<ie;mt++)He.push(s[mt],N[mt],$[mt],a);else for(let mt=0;mt<ie;mt++){const jt=[s[mt][0],s[mt][1],s[mt][2],1],It=f===hu?N[0]:jt,gn=f===hu?$[0]:jt;He.push(s[mt],It,gn,a)}return He},_s=()=>{const s=Es(),N=s.length;eo=Math.max(2,Math.ceil(Math.sqrt(N)));const $=new Float32Array(eo**2*4);return s.forEach((ie,Se)=>{$[Se*4]=ie[0],$[Se*4+1]=ie[1],$[Se*4+2]=ie[2],$[Se*4+3]=ie[3]}),o.regl.texture({data:$,shape:[eo,eo,4],type:"float"})},_h=(s,N)=>{Qi[0]=s/Yi,Qi[5]=N},Ss=()=>{Yi=qt/Rn,Ga=ld([],[1/Yi,1,1]),Qi=ld([],[1/Yi,1,1]),Ki=ld([],[$a,1,1])},Sh=s=>{+s<=0||($a=s)},ws=(s,N)=>$=>{if(!$||!$.length)return;const Se=[...s()];let De=_o($)?$:[$];De=De.map(He=>fr(He,!0)),Ji&&Ji.destroy();try{N(De),Ji=_s()}catch{console.error("Invalid colors. Switching back to default colors."),N(Se),Ji=_s()}},wh=ws(()=>et,s=>{et=s}),Th=ws(()=>tt,s=>{tt=s}),ui=ws(()=>Ye,s=>{Ye=s}),Ah=()=>{const s=Er(-1,-1),N=Er(1,1),$=(s[0]+1)/2,ie=(N[0]+1)/2,Se=(s[1]+1)/2,De=(N[1]+1)/2,He=[no+$*Ka,no+ie*Ka],mt=[qa+Se*Za,qa+De*Za];return[He,mt]},bi=()=>{if(!Mn&&!yn)return;const[s,N]=Ah();Mn&&Mn.domain(s),yn&&yn.domain(N)},Ri=s=>{Rn=Math.max(1,s),u.height=Math.floor(Rn*window.devicePixelRatio),yn&&(yn.range([Rn,0]),bi())},Ch=s=>{if(s===gi){Ot=s,u.style.height="100%",window.requestAnimationFrame(()=>{u&&Ri(u.getBoundingClientRect().height)});return}!+s||+s<=0||(Ot=+s,Ri(Ot),u.style.height=`${Ot}px`)},ci=()=>{us=Nn,Nn===gi&&(us=Array.isArray(Pt)?V2(Pt):Pt)},uc=s=>{xo(s,Eo,{minLength:1})&&(Pt=[...s]),Uf(+s)&&(Pt=[+s]),rc=vp/Pt[0],Qa=ol(),ci()},ao=s=>{!+s||+s<0||(Kt=+s)},cc=s=>{!+s||+s<0||(In=+s)},Xr=s=>{qt=Math.max(1,s),u.width=Math.floor(qt*window.devicePixelRatio),Mn&&(Mn.range([0,qt]),bi())},Ts=s=>{if(s===gi){Ut=s,u.style.width="100%",window.requestAnimationFrame(()=>{u&&Xr(u.getBoundingClientRect().width)});return}!+s||+s<=0||(Ut=+s,Xr(Ut),u.style.width=`${qt}px`)},bh=s=>{xo(s,Eo,{minLength:1})&&(Yt=[...s]),Uf(+s)&&(Yt=[+s]),Qa=ol()},As=s=>{switch(s){case"valueZ":return si;case"valueW":return Ai;default:return null}},Cs=(s,N)=>{switch(s){case vi:return $=>Math.round($*(N.length-1));case Cl:default:return jl}},fc=s=>{f=Fr(s,hu)},Rh=s=>{Bt=Fr(s,Ep,{allowDensity:!0})},Lh=s=>{Ct=Fr(s,yp)},dc=s=>{Ge=Fr(s,_p,{allowSegment:!0})},Jt=s=>{Ce=Fr(s,xp,{allowSegment:!0})},hc=s=>{Dt=Fr(s,gp,{allowSegment:!0})},Oh=()=>[u.width,u.height],Nr=()=>l,bs=()=>Ji,al=()=>eo,Li=()=>.5/eo,Rs=()=>window.devicePixelRatio,ll=()=>Qo,Oi=()=>fs,sl=()=>Qa,mc=()=>to,Ls=()=>.5/to,Os=()=>0,Ph=()=>ai||ii,kh=()=>xr,Nh=()=>.5/xr,pc=()=>Qi,ul=()=>Ne.view,na=()=>Ki,ra=()=>nr(r,Qi,nr(r,Ne.view,Ki)),ia=()=>Ne.scaling[0]>1?Math.asinh(Vf(1,Ne.scaling[0]))/Math.asinh(1)*window.devicePixelRatio:Vf(rc,Ne.scaling[0])*window.devicePixelRatio,lo=()=>Xe?on.size:cn,Pi=()=>lt.length,Ps=()=>Pi()>0?Et:1,ks=()=>Pi()>0?gt:1,Ns=()=>+(f==="valueZ"),vc=()=>+(f==="valueW"),yc=()=>+(Bt==="valueZ"),gc=()=>+(Bt==="valueW"),xc=()=>+(Bt==="density"),Ec=()=>+(Ct==="valueZ"),_c=()=>+(Ct==="valueW"),Sc=()=>f==="valueZ"?si===vi?et.length-1:1:Ai===vi?et.length-1:1,wc=()=>Bt==="valueZ"?si===vi?Yt.length-1:1:Ai===vi?Yt.length-1:1,so=()=>Ct==="valueZ"?si===vi?Pt.length-1:1:Ai===vi?Pt.length-1:1,Is=s=>{if(Bt!=="density")return 1;const N=ia(),$=Pt[0]*N,ie=2/(2/Ne.view[0])*(2/(2/Ne.view[5])),Se=s.viewportHeight,De=s.viewportWidth;let He=pt*De*Se/(yr*$*$)*p1(1,ie);He*=Vr?1:1/(.25*Math.PI);const mt=Vf(vp,$)+.5;return He*=($/mt)**2,p1(1,Vf(0,He))},Ms=o.regl({framebuffer:()=>ic,vert:Zb,frag:qb,attributes:{position:[-4,0,4,4,4,-4]},uniforms:{startStateTex:()=>oi,endStateTex:()=>ii,t:(s,N)=>N.t},count:3}),_r=(s,N,$,ie=K2,Se=Ps,De=ks)=>o.regl({frag:Vr?Qb:Yb,vert:Kb(ie),blend:{enable:!Vr,func:{srcRGB:"src alpha",srcAlpha:"one",dstRGB:"one minus src alpha",dstAlpha:"one minus src alpha"}},depth:{enable:!1},attributes:{stateIndex:{buffer:$,size:2}},uniforms:{resolution:Oh,modelViewProjection:ra,devicePixelRatio:Rs,pointScale:ia,encodingTex:sl,encodingTexRes:mc,encodingTexEps:Ls,pointOpacityMax:Se,pointOpacityScale:De,pointSizeExtra:s,globalState:ie,colorTex:bs,colorTexRes:al,colorTexEps:Li,stateTex:Ph,stateTexRes:kh,stateTexEps:Nh,isColoredByZ:Ns,isColoredByW:vc,isOpacityByZ:yc,isOpacityByW:gc,isOpacityByDensity:xc,isSizedByZ:Ec,isSizedByW:_c,colorMultiplicator:Sc,opacityMultiplicator:wc,opacityDensity:Is,sizeMultiplicator:so,numColorStates:Z2},count:N,primitive:"points"}),Ih=_r(Os,lo,ll),Mh=_r(Os,()=>1,()=>Ko,q2,()=>1,()=>1),Dh=_r(()=>(Kt+In*2)*window.devicePixelRatio,Pi,Oi,pp,()=>1,()=>1),Ds=_r(()=>(Kt+In)*window.devicePixelRatio,Pi,Oi,s1,()=>1,()=>1),Fh=_r(()=>Kt*window.devicePixelRatio,Pi,Oi,pp,()=>1,()=>1),Bh=()=>{Dh(),Ds(),Fh()},jh=o.regl({frag:Wb,vert:Xb,attributes:{position:[0,1,0,0,1,0,0,1,1,1,1,0]},uniforms:{modelViewProjection:ra,texture:Nr},count:6}),Fs=o.regl({vert:`
      precision mediump float;
      uniform mat4 modelViewProjection;
      attribute vec2 position;
      void main () {
        gl_Position = modelViewProjection * vec4(position, 0, 1);
      }`,frag:`
      precision mediump float;
      uniform vec4 color;
      void main () {
        gl_FragColor = vec4(color.rgb, 0.2);
      }`,depth:{enable:!1},blend:{enable:!0,func:{srcRGB:"src alpha",srcAlpha:"one",dstRGB:"one minus src alpha",dstAlpha:"one minus src alpha"}},attributes:{position:()=>Hr},uniforms:{modelViewProjection:ra,color:()=>p},elements:()=>Array.from({length:Hr.length-2},(s,N)=>[0,N+1,N+2])}),$h=()=>{if(!(Ln>=0))return;const[s,N]=jn.points[Ln].slice(0,2),$=[s,N,0,1];nr(n,Qi,nr(n,Ne.view,Ki)),sd($,$,n),Wo.setPoints([-1,$[1],1,$[1]]),Xo.setPoints([$[0],1,$[0],-1]),Wo.draw(),Xo.draw(),_r(()=>(Kt+In*2)*window.devicePixelRatio,()=>1,Ko,pp)(),_r(()=>(Kt+In)*window.devicePixelRatio,()=>1,Ko,s1)()},cl=s=>{const N=new Float32Array(s*2);let $=0;for(let ie=0;ie<s;++ie){const Se=el(ie);N[$]=Se[0],N[$+1]=Se[1],$+=2}return N},Bs=(s,N={})=>{const $=s.length;xr=Math.max(2,Math.ceil(Math.sqrt($))),cs=.5/xr;const ie=new Float32Array(xr**2*4);let Se=!0,De=!0,He=0,mt=0,jt=0;for(let It=0;It<$;++It)He=It*4,ie[He]=s[It][0],ie[He+1]=s[It][1],mt=s[It][2]||0,jt=s[It][3]||0,ie[He+2]=mt,ie[He+3]=jt,Se&&(Se=Number.isInteger(mt)),De&&(De=Number.isInteger(jt));return N.z&&f1.includes(N.z)?si=N.z:si=Se?Cl:vi,N.w&&f1.includes(N.w)?Ai=N.w:Ai=De?Cl:vi,o.regl.texture({data:ie,shape:[xr,xr,4],type:"float"})},Tc=(s,N={})=>{if(!ii)return!1;if(Ti){const $=oi;oi=ai,$.destroy()}else oi=ii;return ai=Bs(s,N),ic=o.regl.framebuffer({color:ai,depth:!1,stencil:!1}),ii=void 0,!0},js=()=>!!(oi&&ai),Gh=()=>{oi&&(oi.destroy(),oi=void 0),ai&&(ai.destroy(),ai=void 0)},oa=(s,N={})=>{lr=!1,cn=s.length,yr=cn,ii&&ii.destroy(),ii=Bs(s,N),Qo({usage:"static",type:"float",data:cl(cn)}),jn=new L2(s,$=>$[0],$=>$[1],16),lr=!0},Ac=(s,N)=>{Ha=Ne.target,Wa=s,Xa=Ne.distance[0],Ya=N},zh=()=>Ha!==void 0&&Wa!==void 0&&Xa!==void 0&&Ya!==void 0,Uh=()=>{Ha=void 0,Wa=void 0,Xa=void 0,Ya=void 0},Vh=s=>{const N=Ge==="inherit"?f:Ge;if(N==="segment"){const $=wt.length-1;return $<1?[]:s.reduce((ie,Se,De)=>{let He=0;const mt=[];for(let It=2;It<Se.length;It+=2){const gn=Math.sqrt((Se[It-2]-Se[It])**2+(Se[It-1]-Se[It+1])**2);mt.push(gn),He+=gn}ie[De]=[0];let jt=0;for(let It=0;It<Se.length/2-1;It++)jt+=mt[It],ie[De].push(Math.floor(jt/He*$)*4);return ie},[])}if(N){const $=Lp(N),ie=Cs(As(N),Ge==="inherit"?et:wt);return gr.reduce((Se,[De,He])=>(Se[De]=ie(He[$])*4,Se),[])}return Array(gr.length).fill(0)},Hh=()=>{const s=Ce==="inherit"?Bt:Ce;if(s==="segment"){const N=ze.length-1;return N<1?[]:gr.reduce(($,[ie,Se,De])=>($[ie]=a1(De,He=>ze[Math.floor(He/(De-1)*N)]),$),[])}if(s){const N=Lp(s),$=Ce==="inherit"?Yt:ze,ie=Cs(As(s),$);return gr.reduce((Se,[De,He])=>(Se[De]=$[ie(He[N])],Se),[])}},Wh=()=>{const s=Dt==="inherit"?Ct:Dt;if(s==="segment"){const N=xt.length-1;return N<1?[]:gr.reduce(($,[ie,Se,De])=>($[ie]=a1(De,He=>xt[Math.floor(He/(De-1)*N)]),$),[])}if(s){const N=Lp(s),$=Dt==="inherit"?Pt:xt,ie=Cs(As(s),$);return gr.reduce((Se,[De,He])=>(Se[De]=$[ie(He[N])],Se),[])}},Xh=s=>{gr=[];let N=0;Object.keys(s).forEach(($,ie)=>{gr[$]=[ie,s[$].reference,s[$].length/2,N],N+=s[$].length/2})},uo=s=>new Promise(N=>{fn.setPoints([]),!s||!s.length?N():(ss=!0,eR(s,{maxIntPointsPerSegment:Qt,tolerance:Ht}).then($=>{Xh($);const ie=Object.values($);fn.setPoints(ie.length===1?ie[0]:ie,{colorIndices:Vh(ie),opacities:Hh(),widths:Wh()}),ss=!1,N()}))}),aa=({preventEvent:s=!1}={})=>(Xe=!1,on.clear(),Qo.subdata(cl(cn)),new Promise(N=>{const $=()=>{t.subscribe("draw",()=>{s||t.publish("unfilter"),N()},1),yt=!0};rt||Zo(jn.points[0])?uo(ps()).then(()=>{s||t.publish("pointConnectionsDraw"),$()}):$()})),Cc=(s,{preventEvent:N=!1}={})=>{const $=Array.isArray(s)?s:[s];Xe=!0,on.clear();const ie=[],Se=[];for(let De=$.length-1;De>=0;De--){const He=$[De];if(He<0||He>=cn){$.splice(De,1);continue}on.add(He),ie.push.apply(ie,el(He)),tn.has(He)&&Se.push(He)}return Qo.subdata(ie),io(Se,{preventEvent:N}),on.has(Ln)||Jo(-1,{preventEvent:N}),new Promise(De=>{const He=()=>{t.subscribe("draw",()=>{N||t.publish("filter",{points:$}),De()},1),yt=!0};rt||Zo(jn.points[0])?uo(ps()).then(()=>{N||t.publish("pointConnectionsDraw"),io(Se,{preventEvent:N}),He()}):He()})},la=()=>Ja(Zi[0],Zi[1],Yo[0],Yo[1]),co=w_(()=>{yr=la().length},y),bc=s=>{const[N,$]=Ha,[ie,Se]=Wa,De=1-s,He=N*De+ie*s,mt=$*De+Se*s,jt=Xa*De+Ya*s;Ne.lookAt([He,mt],jt)},Rc=()=>js(),Lc=()=>zh(),Oc=(s,N)=>{qo||(qo=performance.now());const $=performance.now()-qo,ie=hb(N($/s),0,1);return Rc()&&Ms({t:ie}),Lc()&&bc(ie),$<s},Pc=()=>{Ti=!1,qo=null,ds=void 0,hs=void 0,Be=oc,Gh(),Uh(),t.publish("transitionEnd")},fl=({duration:s=500,easing:N=c1})=>{Ti&&t.publish("transitionEnd"),Ti=!0,qo=null,ds=s,hs=N0(N)?nC[N]||c1:N,oc=Be,Be=!1,t.publish("transitionStart")},Yh=s=>new Promise((N,$)=>{if(!s||Array.isArray(s))N(s);else{const ie=Array.isArray(s.x)||ArrayBuffer.isView(s.x)?s.x.length:0,Se=(Array.isArray(s.x)||ArrayBuffer.isView(s.x))&&(Wt=>s.x[Wt]),De=(Array.isArray(s.y)||ArrayBuffer.isView(s.y))&&(Wt=>s.y[Wt]),He=(Array.isArray(s.line)||ArrayBuffer.isView(s.line))&&(Wt=>s.line[Wt]),mt=(Array.isArray(s.lineOrder)||ArrayBuffer.isView(s.lineOrder))&&(Wt=>s.lineOrder[Wt]),jt=Object.keys(s),It=(()=>{const Wt=jt.find(Mt=>L_.has(Mt));return Wt&&(Array.isArray(s[Wt])||ArrayBuffer.isView(s[Wt]))&&(Mt=>s[Wt][Mt])})(),gn=(()=>{const Wt=jt.find(Mt=>O_.has(Mt));return Wt&&(Array.isArray(s[Wt])||ArrayBuffer.isView(s[Wt]))&&(Mt=>s[Wt][Mt])})();Se&&De&&It&&gn&&He&&mt?N(s.x.map((Wt,Mt)=>[Wt,De(Mt),It(Mt),gn(Mt),He(Mt),mt(Mt)])):Se&&De&&It&&gn&&He?N(Array.from({length:ie},(Wt,Mt)=>[Se(Mt),De(Mt),It(Mt),gn(Mt),He(Mt)])):Se&&De&&It&&gn?N(Array.from({length:ie},(Wt,Mt)=>[Se(Mt),De(Mt),It(Mt),gn(Mt)])):Se&&De&&It?N(Array.from({length:ie},(Wt,Mt)=>[Se(Mt),De(Mt),It(Mt)])):Se&&De?N(Array.from({length:ie},(Wt,Mt)=>[Se(Mt),De(Mt)])):$(new Error("You need to specify at least x and y"))}}),fo=(s,N={})=>Rt?Promise.reject(new Error("The instance was already destroyed")):Yh(s).then($=>new Promise(ie=>{if(Rt){ie();return}let Se=!1;(!N.preventFilterReset||($==null?void 0:$.length)!==cn)&&(Xe=!1,on.clear());const De=$&&Zo($[0])&&(rt||N.showPointConnectionsOnce),{zDataType:He,wDataType:mt}=N;$&&(N.transition&&($.length===cn?Se=Tc($,{z:He,w:mt}):console.warn("Cannot transition! The number of points between the previous and current draw call must be identical.")),oa($,{z:He,w:mt}),N.hover!==void 0&&Jo(N.hover,{preventEvent:!0}),N.select!==void 0&&io(N.select,{preventEvent:!0}),N.filter!==void 0&&Cc(N.filter,{preventEvent:!0}),De&&uo($).then(()=>{t.publish("pointConnectionsDraw"),yt=!0,wi=N.showReticleOnce})),N.transition&&Se?(De?Promise.all([new Promise(jt=>{t.subscribe("transitionEnd",()=>{yt=!0,wi=N.showReticleOnce,jt()},1)}),new Promise(jt=>{t.subscribe("pointConnectionsDraw",jt,1)})]).then(ie):t.subscribe("transitionEnd",()=>{yt=!0,wi=N.showReticleOnce,ie()},1),fl({duration:N.transitionDuration,easing:N.transitionEasing})):(De?Promise.all([new Promise(jt=>{t.subscribe("draw",jt,1)}),new Promise(jt=>{t.subscribe("pointConnectionsDraw",jt,1)})]).then(ie):t.subscribe("draw",ie,1),yt=!0,wi=N.showReticleOnce)})),wn=s=>(...N)=>{const $=s(...N);return yt=!0,$},kc=s=>{let N=1/0,$=-1/0,ie=1/0,Se=-1/0;for(let De=0;De<s.length;De++){const[He,mt]=jn.points[s[De]];N=Math.min(N,He),$=Math.max($,He),ie=Math.min(ie,mt),Se=Math.max(Se,mt)}return{x:N,y:ie,width:$-N,height:Se-ie}},$s=(s,N={})=>new Promise($=>{const ie=[s.x+s.width/2,s.y+s.height/2],Se=2*Math.atan(1),De=s.height*Yi>s.width?s.height/2/Math.tan(Se/2):s.width/2/Math.tan(Se*Yi/2);N.transition?(Ne.config({isFixed:!0}),Ac(ie,De),t.subscribe("transitionEnd",()=>{$(),Ne.config({isFixed:!1})},1),fl({duration:N.transitionDuration,easing:N.transitionEasing})):(Ne.lookAt(ie,De),t.subscribe("draw",$,1),yt=!0)}),ki=(s,N={})=>{if(!lr)return Promise.reject(new Error(d1));const $=kc(s),ie=$.x+$.width/2,Se=$.y+$.height/2,De=lc(),He=1+(N.padding||0),mt=Math.max($.width,De)*He,jt=Math.max($.height,De)*He,It=ie-mt/2,gn=Se-jt/2;return $s({x:It,y:gn,width:mt,height:jt},N)},Gs=(s,N,$={})=>new Promise(ie=>{$.transition?(Ne.config({isFixed:!0}),Ac(s,N),t.subscribe("transitionEnd",()=>{ie(),Ne.config({isFixed:!1})},1),fl({duration:$.transitionDuration,easing:$.transitionEasing})):(Ne.lookAt(s,N),t.subscribe("draw",ie,1),yt=!0)}),Nc=(s={})=>Gs([0,0],1,s),Qh=s=>{if(!lr)throw new Error(d1);const N=jn.points[s];if(!N)return;const $=[N[0],N[1],0,1];nr(n,Ga,nr(n,Ne.view,Ki)),sd($,$,n);const ie=qt*($[0]+1)/2,Se=Rn*(.5-$[1]/2);return[ie,Se]},zs=()=>{fn.setStyle({color:Es(wt,dt,xe),opacity:ze===null?null:ze[0],width:xt[0]})},Ic=()=>{const s=Math.round(Ft)>.5?0:255;Sn.initiator.style.border=`1px dashed rgba(${s}, ${s}, ${s}, 0.33)`,Sn.initiator.style.background=`rgba(${s}, ${s}, ${s}, 0.1)`},Mc=()=>{const s=Math.round(Ft)>.5?0:255;Sn.longPressIndicator.style.color=`rgb(${s}, ${s}, ${s})`,Sn.longPressIndicator.dataset.color=`rgb(${s}, ${s}, ${s})`;const N=p.map($=>Math.round($*255));Sn.longPressIndicator.dataset.activeColor=`rgb(${N[0]}, ${N[1]}, ${N[2]})`},Us=s=>{s&&(a=fr(s,!0),Ft=y1(a),Ic(),Mc())},Dc=s=>{s?N0(s)?m1(o.regl,s).then(N=>{l=N,yt=!0,t.publish("backgroundImageReady")}).catch(()=>{console.error(`Count not create texture from ${s}`),l=null}):s._reglType==="texture2d"?l=s:l=null:l=null},Kh=s=>{s>0&&Ne.lookAt(Ne.target,s,Ne.rotation)},Fc=s=>{s!==null&&Ne.lookAt(Ne.target,Ne.distance[0],s)},Bc=s=>{s&&Ne.lookAt(s,Ne.distance[0],Ne.rotation)},jc=s=>{s&&Ne.setView(s)},dl=s=>{if(!s)return;p=fr(s,!0),ht.setStyle({color:p});const N=p.map($=>Math.round($*255));Sn.longPressIndicator.dataset.activeColor=`rgb(${N[0]}, ${N[1]}, ${N[2]})`},qh=s=>{Number.isNaN(+s)||+s<1||(L=+s,ht.setStyle({width:L}))},fi=s=>{+s&&(O=+s,Sn.set({minDelay:O}))},hl=s=>{+s&&(k=+s,Sn.set({minDist:k}))},$c=s=>{j=h1(rC,j)(s)},Gc=s=>{x=!!s,Sn.set({enableInitiator:x})},zc=s=>{w=s,Sn.set({startInitiatorParentElement:w})},Uc=s=>{C=!!s},Vc=s=>{U=Number(s)},Hc=s=>{X=Number(s)},Wc=s=>{ae=Number(s)},Xc=s=>{Ae=Number(s)},Yc=s=>{se=Object.entries(s).reduce((N,[$,ie])=>(dC.includes($)&&fC.includes(ie)&&(N[$]=ie),N),{}),za=v1(se),za[Gd]?Ne.config({isRotate:!0,mouseDownMoveModKey:za[Gd]}):Ne.config({isRotate:!1})},wr=s=>{ft=h1(eC,jv)(s),Ne.config({defaultMouseDownMoveAction:ft===C_?"rotate":"pan"})},Qc=s=>{s!==null&&(Be=s)},Zh=s=>{s&&(Ue=fr(s,!0),Wo.setStyle({color:Ue}),Xo.setStyle({color:Ue}))},Yr=s=>{s&&(Mn=s,no=s.domain()[0],Ka=s?s.domain()[1]-s.domain()[0]:0,Mn.range([0,qt]),bi())},Vs=s=>{s&&(yn=s,qa=yn.domain()[0],Za=yn?yn.domain()[1]-yn.domain()[0]:0,yn.range([Rn,0]),bi())},Ni=s=>{h=!!s},ml=s=>{m=!!s},Kc=s=>{rt=!!s,rt?Zo(jn.points[0])&&uo(ps()).then(()=>{t.publish("pointConnectionsDraw"),yt=!0}):uo()},pl=(s,N)=>$=>{if($==="inherit")s([...N()]);else{const ie=_o($)?$:[$];s(ie.map(Se=>fr(Se,!0)))}zs()},qc=pl(s=>{wt=s},()=>et),Zc=pl(s=>{dt=s},()=>tt),Jc=pl(s=>{xe=s},()=>Ye),Jh=s=>{xo(s,Eo,{minLength:1})&&(ze=[...s]),Uf(+s)&&(ze=[+s]),wt=wt.map(N=>(N[3]=Number.isNaN(+ze[0])?N[3]:+ze[0],N)),zs()},em=s=>{!Number.isNaN(+s)&&+s&&(Qe=+s)},tm=s=>{xo(s,Eo,{minLength:1})&&(xt=[...s]),Uf(+s)&&(xt=[+s]),zs()},nm=s=>{!Number.isNaN(+s)&&+s&&(zt=Math.max(0,s))},rm=s=>{Qt=Math.max(0,s)},im=s=>{Ht=Math.max(0,s)},om=s=>{Nn=s,ci()},ef=s=>{pt=+s},tf=s=>{Et=+s},am=s=>{gt=+s},lm=s=>{o.gamma=s},Hs=s=>{if(Rp({property:!0}),s==="aspectRatio")return $a;if(s==="background"||s==="backgroundColor")return a;if(s==="backgroundImage")return l;if(s==="camera")return Ne;if(s==="cameraTarget")return Ne.target;if(s==="cameraDistance")return Ne.distance[0];if(s==="cameraRotation")return Ne.rotation;if(s==="cameraView")return Ne.view;if(s==="canvas")return u;if(s==="colorBy")return f;if(s==="sizeBy")return Ct;if(s==="deselectOnDblClick")return h;if(s==="deselectOnEscape")return m;if(s==="height")return Ot;if(s==="lassoColor")return p;if(s==="lassoLineWidth")return L;if(s==="lassoMinDelay")return O;if(s==="lassoMinDist")return k;if(s==="lassoClearEvent")return j;if(s==="lassoInitiator")return x;if(s==="lassoInitiatorElement")return Sn.initiator;if(s==="lassoInitiatorParentElement")return w;if(s==="keyMap")return{...se};if(s==="mouseMode")return ft;if(s==="opacity")return Yt.length===1?Yt[0]:Yt;if(s==="opacityBy")return Bt;if(s==="opacityByDensityFill")return pt;if(s==="opacityByDensityDebounceTime")return y;if(s==="opacityInactiveMax")return Et;if(s==="opacityInactiveScale")return gt;if(s==="points")return jn.points;if(s==="hoveredPoint")return Ln;if(s==="selectedPoints")return[...lt];if(s==="filteredPoints")return Xe?Array.from(on):Array.from({length:jn.points.length},(N,$)=>$);if(s==="pointsInView")return la();if(s==="pointColor")return et.length===1?et[0]:et;if(s==="pointColorActive")return tt.length===1?tt[0]:tt;if(s==="pointColorHover")return Ye.length===1?Ye[0]:Ye;if(s==="pointOutlineWidth")return In;if(s==="pointSize")return Pt.length===1?Pt[0]:Pt;if(s==="pointSizeSelected")return Kt;if(s==="pointSizeMouseDetection")return Nn;if(s==="showPointConnections")return rt;if(s==="pointConnectionColor")return wt.length===1?wt[0]:wt;if(s==="pointConnectionColorActive")return dt.length===1?dt[0]:dt;if(s==="pointConnectionColorHover")return xe.length===1?xe[0]:xe;if(s==="pointConnectionColorBy")return Ge;if(s==="pointConnectionOpacity")return ze.length===1?ze[0]:ze;if(s==="pointConnectionOpacityBy")return Ce;if(s==="pointConnectionOpacityActive")return Qe;if(s==="pointConnectionSize")return xt.length===1?xt[0]:xt;if(s==="pointConnectionSizeActive")return zt;if(s==="pointConnectionSizeBy")return Dt;if(s==="pointConnectionMaxIntPointsPerSegment")return Qt;if(s==="pointConnectionTolerance")return Ht;if(s==="reticleColor")return Ue;if(s==="regl")return o.regl;if(s==="showReticle")return Be;if(s==="version")return tR;if(s==="width")return Ut;if(s==="xScale")return Mn;if(s==="yScale")return yn;if(s==="performanceMode")return Vr;if(s==="gamma")return o.gamma;if(s==="renderer")return o;if(s==="isDestroyed")return Rt;if(s==="isPointsDrawn")return lr;if(s==="isPointsFiltered")return Xe;if(s==="zDataType")return si;if(s==="wDataType")return Ai},sa=(s={})=>(Rp(s),(s.backgroundColor!==void 0||s.background!==void 0)&&Us(s.backgroundColor||s.background),s.backgroundImage!==void 0&&Dc(s.backgroundImage),s.cameraTarget!==void 0&&Bc(s.cameraTarget),s.cameraDistance!==void 0&&Kh(s.cameraDistance),s.cameraRotation!==void 0&&Fc(s.cameraRotation),s.cameraView!==void 0&&jc(s.cameraView),s.colorBy!==void 0&&fc(s.colorBy),s.pointColor!==void 0&&wh(s.pointColor),s.pointColorActive!==void 0&&Th(s.pointColorActive),s.pointColorHover!==void 0&&ui(s.pointColorHover),s.pointSize!==void 0&&uc(s.pointSize),s.pointSizeSelected!==void 0&&ao(s.pointSizeSelected),s.pointSizeMouseDetection!==void 0&&om(s.pointSizeMouseDetection),s.sizeBy!==void 0&&Lh(s.sizeBy),s.opacity!==void 0&&bh(s.opacity),s.showPointConnections!==void 0&&Kc(s.showPointConnections),s.pointConnectionColor!==void 0&&qc(s.pointConnectionColor),s.pointConnectionColorActive!==void 0&&Zc(s.pointConnectionColorActive),s.pointConnectionColorHover!==void 0&&Jc(s.pointConnectionColorHover),s.pointConnectionColorBy!==void 0&&dc(s.pointConnectionColorBy),s.pointConnectionOpacityBy!==void 0&&Jt(s.pointConnectionOpacityBy),s.pointConnectionOpacity!==void 0&&Jh(s.pointConnectionOpacity),s.pointConnectionOpacityActive!==void 0&&em(s.pointConnectionOpacityActive),s.pointConnectionSize!==void 0&&tm(s.pointConnectionSize),s.pointConnectionSizeActive!==void 0&&nm(s.pointConnectionSizeActive),s.pointConnectionSizeBy!==void 0&&hc(s.pointConnectionSizeBy),s.pointConnectionMaxIntPointsPerSegment!==void 0&&rm(s.pointConnectionMaxIntPointsPerSegment),s.pointConnectionTolerance!==void 0&&im(s.pointConnectionTolerance),s.opacityBy!==void 0&&Rh(s.opacityBy),s.lassoColor!==void 0&&dl(s.lassoColor),s.lassoLineWidth!==void 0&&qh(s.lassoLineWidth),s.lassoMinDelay!==void 0&&fi(s.lassoMinDelay),s.lassoMinDist!==void 0&&hl(s.lassoMinDist),s.lassoClearEvent!==void 0&&$c(s.lassoClearEvent),s.lassoInitiator!==void 0&&Gc(s.lassoInitiator),s.lassoInitiatorParentElement!==void 0&&zc(s.lassoInitiatorParentElement),s.lassoOnLongPress!==void 0&&Uc(s.lassoOnLongPress),s.lassoLongPressTime!==void 0&&Vc(s.lassoLongPressTime),s.lassoLongPressAfterEffectTime!==void 0&&Hc(s.lassoLongPressAfterEffectTime),s.lassoLongPressEffectDelay!==void 0&&Wc(s.lassoLongPressEffectDelay),s.lassoLongPressRevertEffectTime!==void 0&&Xc(s.lassoLongPressRevertEffectTime),s.keyMap!==void 0&&Yc(s.keyMap),s.mouseMode!==void 0&&wr(s.mouseMode),s.showReticle!==void 0&&Qc(s.showReticle),s.reticleColor!==void 0&&Zh(s.reticleColor),s.pointOutlineWidth!==void 0&&cc(s.pointOutlineWidth),s.height!==void 0&&Ch(s.height),s.width!==void 0&&Ts(s.width),s.aspectRatio!==void 0&&Sh(s.aspectRatio),s.xScale!==void 0&&Yr(s.xScale),s.yScale!==void 0&&Vs(s.yScale),s.deselectOnDblClick!==void 0&&Ni(s.deselectOnDblClick),s.deselectOnEscape!==void 0&&ml(s.deselectOnEscape),s.opacityByDensityFill!==void 0&&ef(s.opacityByDensityFill),s.opacityInactiveMax!==void 0&&tf(s.opacityInactiveMax),s.opacityInactiveScale!==void 0&&am(s.opacityInactiveScale),s.gamma!==void 0&&lm(s.gamma),new Promise(N=>{window.requestAnimationFrame(()=>{u&&(Ss(),Ne.refresh(),o.refresh(),yt=!0,N())})})),sm=(s,{preventEvent:N=!1}={})=>{jc(s),yt=!0,Ua=N},nf=()=>{Ne||(Ne=T2(u,{isPanInverted:[!1,!0]})),e.cameraView?Ne.setView(t1(e.cameraView)):e.cameraTarget||e.cameraDistance||e.cameraRotation?Ne.lookAt([...e.cameraTarget||FC],e.cameraDistance||BC,e.cameraRotation||jC):Ne.setView(t1($C)),Yo=Er(1,1),Zi=Er(-1,-1)},um=({preventEvent:s=!1}={})=>{nf(),bi(),!s&&t.publish("view",{view:Ne.view,camera:Ne,xScale:Mn,yScale:yn})},rf=({key:s})=>{switch(s){case"Escape":m&&tl();break}},of=()=>{kr=!0,li=!0},Ws=()=>{Jo(),kr=!1,li=!0,yt=!0},af=()=>{yt=!0},cm=()=>{oa([]),fn.clear()},ua=()=>{Ne.refresh();const s=Ut===gi,N=Ot===gi;if(s||N){const{width:$,height:ie}=u.getBoundingClientRect();s&&Xr($),N&&Ri(ie),Ss(),yt=!0}},fm=()=>u.getContext("2d").getImageData(0,0,u.width,u.height),dm=()=>{Ss(),nf(),bi(),ht=zf(o.regl,{color:p,width:L,is2d:!0}),fn=zf(o.regl,{color:wt,colorHover:xe,colorActive:dt,opacity:ze===null?null:ze[0],width:xt[0],widthActive:zt,is2d:!0}),Wo=zf(o.regl,{color:Ue,width:1,is2d:!0}),Xo=zf(o.regl,{color:Ue,width:1,is2d:!0}),ci(),u.addEventListener("wheel",af),Qo=o.regl.buffer(),fs=o.regl.buffer(),Ko=o.regl.buffer({usage:"dynamic",type:"float",length:J2*2}),Ji=_s(),Qa=ol();const s=sa({backgroundImage:l,width:Ut,height:Ot,keyMap:se});Ic(),Mc(),window.addEventListener("keyup",rf,!1),window.addEventListener("blur",ta,!1),window.addEventListener("mouseup",xs,!1),window.addEventListener("mousemove",Wr,!1),u.addEventListener("mousedown",gs,!1),u.addEventListener("mouseenter",of,!1),u.addEventListener("mouseleave",Ws,!1),u.addEventListener("click",rl,!1),u.addEventListener("dblclick",il,!1),"ResizeObserver"in window?(Va=new ResizeObserver(ua),Va.observe(u)):(window.addEventListener("resize",ua),window.addEventListener("orientationchange",ua)),s.then(()=>{t.publish("init")})},ho=o.onFrame(()=>{ms=Ne.tick(),!(!lr||!(yt||Ti))&&(Ti&&!Oc(ds,hs)&&Pc(),ms&&(Yo=Er(1,1),Zi=Er(-1,-1),Bt==="density"&&co()),o.render(()=>{const s=u.width/o.canvas.width,N=u.height/o.canvas.height;_h(s,N),l&&l._reglType&&jh(),Hr.length>2&&Fs(),Ti||fn.draw({projection:pc(),model:na(),view:ul()}),Ih(),!_t&&(Be||wi)&&$h(),Ln>=0&&Mh(),lt.length&&Bh(),ht.draw({projection:pc(),model:na(),view:ul()})},u),ms&&(bi(),Ua?Ua=!1:t.publish("view",{view:Ne.view,camera:Ne,xScale:Mn,yScale:yn})),yt=!1,wi=!1,t.publish("draw"))}),hm=()=>{yt=!0},mm=()=>{lr=!1,Rt=!0,ho(),window.removeEventListener("keyup",rf,!1),window.removeEventListener("blur",ta,!1),window.removeEventListener("mouseup",xs,!1),window.removeEventListener("mousemove",Wr,!1),u.removeEventListener("mousedown",gs,!1),u.removeEventListener("mouseenter",of,!1),u.removeEventListener("mouseleave",Ws,!1),u.removeEventListener("click",rl,!1),u.removeEventListener("dblclick",il,!1),u.removeEventListener("wheel",af,!1),Va?Va.disconnect():(window.removeEventListener("resize",ua),window.removeEventListener("orientationchange",ua)),u=void 0,Ne.dispose(),Ne=void 0,ht.destroy(),Sn.destroy(),fn.destroy(),Wo.destroy(),Xo.destroy(),e.renderer||o.destroy(),t.publish("destroy"),t.clear()};return dm(),{get isSupported(){return o.isSupported},clear:wn(cm),createTextureFromUrl:(s,N=Hv)=>m1(o.regl,s,N),deselect:tl,destroy:mm,draw:fo,filter:Cc,get:Hs,getScreenPosition:Qh,hover:Jo,redraw:hm,refresh:o.refresh,reset:wn(um),select:io,set:sa,export:fm,subscribe:t.subscribe,unfilter:aa,unsubscribe:t.unsubscribe,view:sm,zoomToLocation:Gs,zoomToArea:$s,zoomToPoints:ki,zoomToOrigin:Nc}};function ud(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function rR(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function I_(e){let t,n,r;e.length!==2?(t=ud,n=(l,u)=>ud(e(l),u),r=(l,u)=>e(l)-u):(t=e===ud||e===rR?e:iR,n=e,r=e);function i(l,u,f=0,h=l.length){if(f<h){if(t(u,u)!==0)return h;do{const m=f+h>>>1;n(l[m],u)<0?f=m+1:h=m}while(f<h)}return f}function o(l,u,f=0,h=l.length){if(f<h){if(t(u,u)!==0)return h;do{const m=f+h>>>1;n(l[m],u)<=0?f=m+1:h=m}while(f<h)}return f}function a(l,u,f=0,h=l.length){const m=i(l,u,f,h-1);return m>f&&r(l[m-1],u)>-r(l[m],u)?m-1:m}return{left:i,center:a,right:o}}function iR(){return 0}function oR(e){return e===null?NaN:+e}const aR=I_(ud),lR=aR.right;I_(oR).center;const sR=lR;function uR(e,t){let n,r;if(t===void 0)for(const i of e)i!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)));else{let i=-1;for(let o of e)(o=t(o,++i,e))!=null&&(n===void 0?o>=o&&(n=r=o):(n>o&&(n=o),r<o&&(r=o)))}return[n,r]}class cR extends Map{constructor(t,n=hR){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(x1(this,t))}has(t){return super.has(x1(this,t))}set(t,n){return super.set(fR(this,t),n)}delete(t){return super.delete(dR(this,t))}}function x1({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function fR({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function dR({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function hR(e){return e!==null&&typeof e=="object"?e.valueOf():e}function mR(e){return e}function pR(e,...t){return vR(e,Array.from,mR,t)}function vR(e,t,n,r){return function i(o,a){if(a>=r.length)return n(o);const l=new cR,u=r[a++];let f=-1;for(const h of o){const m=u(h,++f,o),p=l.get(m);p?p.push(h):l.set(m,[h])}for(const[h,m]of l)l.set(h,i(m,a));return t(l)}(e,0)}const yR=Math.sqrt(50),gR=Math.sqrt(10),xR=Math.sqrt(2);function Vd(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=yR?10:o>=gR?5:o>=xR?2:1;let l,u,f;return i<0?(f=Math.pow(10,-i)/a,l=Math.round(e*f),u=Math.round(t*f),l/f<e&&++l,u/f>t&&--u,f=-f):(f=Math.pow(10,i)*a,l=Math.round(e/f),u=Math.round(t/f),l*f<e&&++l,u*f>t&&--u),u<l&&.5<=n&&n<2?Vd(e,t,n*2):[l,u,f]}function I0(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,o,a]=r?Vd(t,e,n):Vd(e,t,n);if(!(o>=i))return[];const l=o-i+1,u=new Array(l);if(r)if(a<0)for(let f=0;f<l;++f)u[f]=(o-f)/-a;else for(let f=0;f<l;++f)u[f]=(o-f)*a;else if(a<0)for(let f=0;f<l;++f)u[f]=(i+f)/-a;else for(let f=0;f<l;++f)u[f]=(i+f)*a;return u}function M0(e,t,n){return t=+t,e=+e,n=+n,Vd(e,t,n)[2]}function ER(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?M0(t,e,n):M0(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function M_(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function _R(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}function mh(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Wv(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function ls(){}var Ma=.7,ts=1/Ma,Wl="\\s*([+-]?\\d+)\\s*",Xu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Si="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",SR=/^#([0-9a-f]{3,8})$/,wR=new RegExp(`^rgb\\(${Wl},${Wl},${Wl}\\)$`),TR=new RegExp(`^rgb\\(${Si},${Si},${Si}\\)$`),AR=new RegExp(`^rgba\\(${Wl},${Wl},${Wl},${Xu}\\)$`),CR=new RegExp(`^rgba\\(${Si},${Si},${Si},${Xu}\\)$`),bR=new RegExp(`^hsl\\(${Xu},${Si},${Si}\\)$`),RR=new RegExp(`^hsla\\(${Xu},${Si},${Si},${Xu}\\)$`),E1={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};mh(ls,Yu,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:_1,formatHex:_1,formatHex8:LR,formatHsl:OR,formatRgb:S1,toString:S1});function _1(){return this.rgb().formatHex()}function LR(){return this.rgb().formatHex8()}function OR(){return F_(this).formatHsl()}function S1(){return this.rgb().formatRgb()}function Yu(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=SR.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?w1(t):n===3?new qn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Hf(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Hf(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=wR.exec(e))?new qn(t[1],t[2],t[3],1):(t=TR.exec(e))?new qn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=AR.exec(e))?Hf(t[1],t[2],t[3],t[4]):(t=CR.exec(e))?Hf(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=bR.exec(e))?C1(t[1],t[2]/100,t[3]/100,1):(t=RR.exec(e))?C1(t[1],t[2]/100,t[3]/100,t[4]):E1.hasOwnProperty(e)?w1(E1[e]):e==="transparent"?new qn(NaN,NaN,NaN,0):null}function w1(e){return new qn(e>>16&255,e>>8&255,e&255,1)}function Hf(e,t,n,r){return r<=0&&(e=t=n=NaN),new qn(e,t,n,r)}function D_(e){return e instanceof ls||(e=Yu(e)),e?(e=e.rgb(),new qn(e.r,e.g,e.b,e.opacity)):new qn}function Hd(e,t,n,r){return arguments.length===1?D_(e):new qn(e,t,n,r??1)}function qn(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}mh(qn,Hd,Wv(ls,{brighter(e){return e=e==null?ts:Math.pow(ts,e),new qn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Ma:Math.pow(Ma,e),new qn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new qn(ba(this.r),ba(this.g),ba(this.b),Wd(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:T1,formatHex:T1,formatHex8:PR,formatRgb:A1,toString:A1}));function T1(){return`#${Ta(this.r)}${Ta(this.g)}${Ta(this.b)}`}function PR(){return`#${Ta(this.r)}${Ta(this.g)}${Ta(this.b)}${Ta((isNaN(this.opacity)?1:this.opacity)*255)}`}function A1(){const e=Wd(this.opacity);return`${e===1?"rgb(":"rgba("}${ba(this.r)}, ${ba(this.g)}, ${ba(this.b)}${e===1?")":`, ${e})`}`}function Wd(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ba(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ta(e){return e=ba(e),(e<16?"0":"")+e.toString(16)}function C1(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new ei(e,t,n,r)}function F_(e){if(e instanceof ei)return new ei(e.h,e.s,e.l,e.opacity);if(e instanceof ls||(e=Yu(e)),!e)return new ei;if(e instanceof ei)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),a=NaN,l=o-i,u=(o+i)/2;return l?(t===o?a=(n-r)/l+(n<r)*6:n===o?a=(r-t)/l+2:a=(t-n)/l+4,l/=u<.5?o+i:2-o-i,a*=60):l=u>0&&u<1?0:a,new ei(a,l,u,e.opacity)}function kR(e,t,n,r){return arguments.length===1?F_(e):new ei(e,t,n,r??1)}function ei(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}mh(ei,kR,Wv(ls,{brighter(e){return e=e==null?ts:Math.pow(ts,e),new ei(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Ma:Math.pow(Ma,e),new ei(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new qn(Op(e>=240?e-240:e+120,i,r),Op(e,i,r),Op(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new ei(b1(this.h),Wf(this.s),Wf(this.l),Wd(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Wd(this.opacity);return`${e===1?"hsl(":"hsla("}${b1(this.h)}, ${Wf(this.s)*100}%, ${Wf(this.l)*100}%${e===1?")":`, ${e})`}`}}));function b1(e){return e=(e||0)%360,e<0?e+360:e}function Wf(e){return Math.max(0,Math.min(1,e||0))}function Op(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const NR=Math.PI/180,IR=180/Math.PI;var B_=-.14861,Xv=1.78277,Yv=-.29227,ph=-.90649,Qu=1.97294,R1=Qu*ph,L1=Qu*Xv,O1=Xv*Yv-ph*B_;function MR(e){if(e instanceof Ra)return new Ra(e.h,e.s,e.l,e.opacity);e instanceof qn||(e=D_(e));var t=e.r/255,n=e.g/255,r=e.b/255,i=(O1*r+R1*t-L1*n)/(O1+R1-L1),o=r-i,a=(Qu*(n-i)-Yv*o)/ph,l=Math.sqrt(a*a+o*o)/(Qu*i*(1-i)),u=l?Math.atan2(a,o)*IR-120:NaN;return new Ra(u<0?u+360:u,l,i,e.opacity)}function Go(e,t,n,r){return arguments.length===1?MR(e):new Ra(e,t,n,r??1)}function Ra(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}mh(Ra,Go,Wv(ls,{brighter(e){return e=e==null?ts:Math.pow(ts,e),new Ra(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Ma:Math.pow(Ma,e),new Ra(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=isNaN(this.h)?0:(this.h+120)*NR,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),i=Math.sin(e);return new qn(255*(t+n*(B_*r+Xv*i)),255*(t+n*(Yv*r+ph*i)),255*(t+n*(Qu*r)),this.opacity)}}));const vh=e=>()=>e;function j_(e,t){return function(n){return e+n*t}}function DR(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function FR(e,t){var n=t-e;return n?j_(e,n>180||n<-180?n-360*Math.round(n/360):n):vh(isNaN(e)?t:e)}function BR(e){return(e=+e)==1?Xl:function(t,n){return n-t?DR(t,n,e):vh(isNaN(t)?n:t)}}function Xl(e,t){var n=t-e;return n?j_(e,n):vh(isNaN(e)?t:e)}const P1=function e(t){var n=BR(t);function r(i,o){var a=n((i=Hd(i)).r,(o=Hd(o)).r),l=n(i.g,o.g),u=n(i.b,o.b),f=Xl(i.opacity,o.opacity);return function(h){return i.r=a(h),i.g=l(h),i.b=u(h),i.opacity=f(h),i+""}}return r.gamma=e,r}(1);function jR(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=e[i]*(1-o)+t[i]*o;return r}}function $R(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function GR(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),o=new Array(n),a;for(a=0;a<r;++a)i[a]=yh(e[a],t[a]);for(;a<n;++a)o[a]=t[a];return function(l){for(a=0;a<r;++a)o[a]=i[a](l);return o}}function zR(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Xd(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function UR(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=yh(e[i],t[i]):r[i]=t[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var D0=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Pp=new RegExp(D0.source,"g");function VR(e){return function(){return e}}function HR(e){return function(t){return e(t)+""}}function WR(e,t){var n=D0.lastIndex=Pp.lastIndex=0,r,i,o,a=-1,l=[],u=[];for(e=e+"",t=t+"";(r=D0.exec(e))&&(i=Pp.exec(t));)(o=i.index)>n&&(o=t.slice(n,o),l[a]?l[a]+=o:l[++a]=o),(r=r[0])===(i=i[0])?l[a]?l[a]+=i:l[++a]=i:(l[++a]=null,u.push({i:a,x:Xd(r,i)})),n=Pp.lastIndex;return n<t.length&&(o=t.slice(n),l[a]?l[a]+=o:l[++a]=o),l.length<2?u[0]?HR(u[0].x):VR(t):(t=u.length,function(f){for(var h=0,m;h<t;++h)l[(m=u[h]).i]=m.x(f);return l.join("")})}function yh(e,t){var n=typeof t,r;return t==null||n==="boolean"?vh(t):(n==="number"?Xd:n==="string"?(r=Yu(t))?(t=r,P1):WR:t instanceof Yu?P1:t instanceof Date?zR:$R(t)?jR:Array.isArray(t)?GR:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?UR:Xd)(e,t)}function $_(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function G_(e){return function t(n){n=+n;function r(i,o){var a=e((i=Go(i)).h,(o=Go(o)).h),l=Xl(i.s,o.s),u=Xl(i.l,o.l),f=Xl(i.opacity,o.opacity);return function(h){return i.h=a(h),i.s=l(h),i.l=u(Math.pow(h,n)),i.opacity=f(h),i+""}}return r.gamma=t,r}(1)}G_(FR);var z_=G_(Xl);function XR(e){return function(){return e}}function YR(e){return+e}var k1=[0,1];function Lo(e){return e}function F0(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:XR(isNaN(t)?NaN:.5)}function QR(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function KR(e,t,n){var r=e[0],i=e[1],o=t[0],a=t[1];return i<r?(r=F0(i,r),o=n(a,o)):(r=F0(r,i),o=n(o,a)),function(l){return o(r(l))}}function qR(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),a=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<r;)i[a]=F0(e[a],e[a+1]),o[a]=n(t[a],t[a+1]);return function(l){var u=sR(e,l,1,r)-1;return o[u](i[u](l))}}function U_(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function V_(){var e=k1,t=k1,n=yh,r,i,o,a=Lo,l,u,f;function h(){var p=Math.min(e.length,t.length);return a!==Lo&&(a=QR(e[0],e[p-1])),l=p>2?qR:KR,u=f=null,m}function m(p){return p==null||isNaN(p=+p)?o:(u||(u=l(e.map(r),t,n)))(r(a(p)))}return m.invert=function(p){return a(i((f||(f=l(t,e.map(r),Xd)))(p)))},m.domain=function(p){return arguments.length?(e=Array.from(p,YR),h()):e.slice()},m.range=function(p){return arguments.length?(t=Array.from(p),h()):t.slice()},m.rangeRound=function(p){return t=Array.from(p),n=$_,h()},m.clamp=function(p){return arguments.length?(a=p?!0:Lo,h()):a!==Lo},m.interpolate=function(p){return arguments.length?(n=p,h()):n},m.unknown=function(p){return arguments.length?(o=p,m):o},function(p,L){return r=p,i=L,h()}}function ZR(){return V_()(Lo,Lo)}function JR(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Yd(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function ns(e){return e=Yd(Math.abs(e)),e?e[1]:NaN}function eL(e,t){return function(n,r){for(var i=n.length,o=[],a=0,l=e[0],u=0;i>0&&l>0&&(u+l+1>r&&(l=Math.max(1,r-u)),o.push(n.substring(i-=l,i+l)),!((u+=l+1)>r));)l=e[a=(a+1)%e.length];return o.reverse().join(t)}}function tL(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var nL=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ku(e){if(!(t=nL.exec(e)))throw new Error("invalid format: "+e);var t;return new Qv({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Ku.prototype=Qv.prototype;function Qv(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Qv.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function rL(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var H_;function iL(e,t){var n=Yd(e,t);if(!n)return e+"";var r=n[0],i=n[1],o=i-(H_=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Yd(e,Math.max(0,t+o-1))[0]}function N1(e,t){var n=Yd(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const I1={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:JR,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>N1(e*100,t),r:N1,s:iL,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function M1(e){return e}var D1=Array.prototype.map,F1=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function oL(e){var t=e.grouping===void 0||e.thousands===void 0?M1:eL(D1.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?M1:tL(D1.call(e.numerals,String)),a=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"−":e.minus+"",u=e.nan===void 0?"NaN":e.nan+"";function f(m){m=Ku(m);var p=m.fill,L=m.align,O=m.sign,k=m.symbol,j=m.zero,x=m.width,w=m.comma,C=m.precision,U=m.trim,X=m.type;X==="n"?(w=!0,X="g"):I1[X]||(C===void 0&&(C=12),U=!0,X="g"),(j||p==="0"&&L==="=")&&(j=!0,p="0",L="=");var ae=k==="$"?n:k==="#"&&/[boxX]/.test(X)?"0"+X.toLowerCase():"",Ae=k==="$"?r:/[%p]/.test(X)?a:"",se=I1[X],ft=/[defgprs%]/.test(X);C=C===void 0?6:/[gprs]/.test(X)?Math.max(1,Math.min(21,C)):Math.max(0,Math.min(20,C));function Be(Ue){var et=ae,tt=Ae,Ye,rt,wt;if(X==="c")tt=se(Ue)+tt,Ue="";else{Ue=+Ue;var dt=Ue<0||1/Ue<0;if(Ue=isNaN(Ue)?u:se(Math.abs(Ue),C),U&&(Ue=rL(Ue)),dt&&+Ue==0&&O!=="+"&&(dt=!1),et=(dt?O==="("?O:l:O==="-"||O==="("?"":O)+et,tt=(X==="s"?F1[8+H_/3]:"")+tt+(dt&&O==="("?")":""),ft){for(Ye=-1,rt=Ue.length;++Ye<rt;)if(wt=Ue.charCodeAt(Ye),48>wt||wt>57){tt=(wt===46?i+Ue.slice(Ye+1):Ue.slice(Ye))+tt,Ue=Ue.slice(0,Ye);break}}}w&&!j&&(Ue=t(Ue,1/0));var xe=et.length+Ue.length+tt.length,Ge=xe<x?new Array(x-xe+1).join(p):"";switch(w&&j&&(Ue=t(Ge+Ue,Ge.length?x-tt.length:1/0),Ge=""),L){case"<":Ue=et+Ue+tt+Ge;break;case"=":Ue=et+Ge+Ue+tt;break;case"^":Ue=Ge.slice(0,xe=Ge.length>>1)+et+Ue+tt+Ge.slice(xe);break;default:Ue=Ge+et+Ue+tt;break}return o(Ue)}return Be.toString=function(){return m+""},Be}function h(m,p){var L=f((m=Ku(m),m.type="f",m)),O=Math.max(-8,Math.min(8,Math.floor(ns(p)/3)))*3,k=Math.pow(10,-O),j=F1[8+O/3];return function(x){return L(k*x)+j}}return{format:f,formatPrefix:h}}var Xf,Kv,W_;aL({thousands:",",grouping:[3],currency:["$",""]});function aL(e){return Xf=oL(e),Kv=Xf.format,W_=Xf.formatPrefix,Xf}function lL(e){return Math.max(0,-ns(Math.abs(e)))}function sL(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ns(t)/3)))*3-ns(Math.abs(e)))}function uL(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,ns(t)-ns(e))+1}function cL(e,t,n,r){var i=ER(e,t,n),o;switch(r=Ku(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(o=sL(i,a))&&(r.precision=o),W_(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=uL(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=lL(i))&&(r.precision=o-(r.type==="%")*2);break}}return Kv(r)}function X_(e){var t=e.domain;return e.ticks=function(n){var r=t();return I0(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return cL(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,o=r.length-1,a=r[i],l=r[o],u,f,h=10;for(l<a&&(f=a,a=l,l=f,f=i,i=o,o=f);h-- >0;){if(f=M0(a,l,n),f===u)return r[i]=a,r[o]=l,t(r);if(f>0)a=Math.floor(a/f)*f,l=Math.ceil(l/f)*f;else if(f<0)a=Math.ceil(a*f)/f,l=Math.floor(l*f)/f;else break;u=f}return e},e}function Da(){var e=ZR();return e.copy=function(){return U_(e,Da())},M_.apply(e,arguments),X_(e)}function fL(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],o=e[r],a;return o<i&&(a=n,n=r,r=a,a=i,i=o,o=a),e[n]=t.floor(i),e[r]=t.ceil(o),e}function B1(e){return Math.log(e)}function j1(e){return Math.exp(e)}function dL(e){return-Math.log(-e)}function hL(e){return-Math.exp(-e)}function mL(e){return isFinite(e)?+("1e"+e):e<0?0:e}function pL(e){return e===10?mL:e===Math.E?Math.exp:t=>Math.pow(e,t)}function vL(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function $1(e){return(t,n)=>-e(-t,n)}function yL(e){const t=e(B1,j1),n=t.domain;let r=10,i,o;function a(){return i=vL(r),o=pL(r),n()[0]<0?(i=$1(i),o=$1(o),e(dL,hL)):e(B1,j1),t}return t.base=function(l){return arguments.length?(r=+l,a()):r},t.domain=function(l){return arguments.length?(n(l),a()):n()},t.ticks=l=>{const u=n();let f=u[0],h=u[u.length-1];const m=h<f;m&&([f,h]=[h,f]);let p=i(f),L=i(h),O,k;const j=l==null?10:+l;let x=[];if(!(r%1)&&L-p<j){if(p=Math.floor(p),L=Math.ceil(L),f>0){for(;p<=L;++p)for(O=1;O<r;++O)if(k=p<0?O/o(-p):O*o(p),!(k<f)){if(k>h)break;x.push(k)}}else for(;p<=L;++p)for(O=r-1;O>=1;--O)if(k=p>0?O/o(-p):O*o(p),!(k<f)){if(k>h)break;x.push(k)}x.length*2<j&&(x=I0(f,h,j))}else x=I0(p,L,Math.min(L-p,j)).map(o);return m?x.reverse():x},t.tickFormat=(l,u)=>{if(l==null&&(l=10),u==null&&(u=r===10?"s":","),typeof u!="function"&&(!(r%1)&&(u=Ku(u)).precision==null&&(u.trim=!0),u=Kv(u)),l===1/0)return u;const f=Math.max(1,r*l/t.ticks().length);return h=>{let m=h/o(Math.round(i(h)));return m*r<r-.5&&(m*=r),m<=f?u(h):""}},t.nice=()=>n(fL(n(),{floor:l=>o(Math.floor(i(l))),ceil:l=>o(Math.ceil(i(l)))})),t}function qv(){const e=yL(V_()).domain([1,10]);return e.copy=()=>U_(e,qv()).base(e.base()),M_.apply(e,arguments),e}function gL(){var e=0,t=1,n,r,i,o,a=Lo,l=!1,u;function f(m){return m==null||isNaN(m=+m)?u:a(i===0?.5:(m=(o(m)-n)*i,l?Math.max(0,Math.min(1,m)):m))}f.domain=function(m){return arguments.length?([e,t]=m,n=o(e=+e),r=o(t=+t),i=n===r?0:1/(r-n),f):[e,t]},f.clamp=function(m){return arguments.length?(l=!!m,f):l},f.interpolator=function(m){return arguments.length?(a=m,f):a};function h(m){return function(p){var L,O;return arguments.length?([L,O]=p,a=m(L,O),f):[a(0),a(1)]}}return f.range=h(yh),f.rangeRound=h($_),f.unknown=function(m){return arguments.length?(u=m,f):u},function(m){return o=m,n=m(e),r=m(t),i=n===r?0:1/(r-n),f}}function xL(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function Y_(){var e=X_(gL()(Lo));return e.copy=function(){return xL(e,Y_())},_R.apply(e,arguments)}z_(Go(-100,.75,.35),Go(80,1.5,.8));var EL=z_(Go(260,.75,.35),Go(80,1.5,.8));Go();const _L="_scatter_lrznx_2",SL={scatter:_L};Q_.propTypes={points:qe.array.isRequired,colors:qe.array,width:qe.number.isRequired,height:qe.number.isRequired,onScatter:qe.func,onView:qe.func,onSelect:qe.func,onHover:qe.func};const wL=e=>qv().domain([100,1e6]).range([6,1]).clamp(!0)(e),TL=e=>qv().domain([100,1e6]).range([.7,.2]).clamp(!0)(e);function Q_({points:e,colors:t,width:n,height:r,onScatter:i,onView:o,onSelect:a,onHover:l}){const u=re.useRef(),f=re.useRef([-1,1]),h=re.useRef([-1,1]),m=Da().domain(f.current),p=Da().domain(h.current);return re.useEffect(()=>{if(e&&e.length){const L=wL(e.length),O=TL(e.length);let k=[250/255,128/255,114/255,1],j=e;if(t!=null&&t.length){j=e.map((X,ae)=>[X[0],X[1],t[ae]]);const C=pR(t,X=>X).map(X=>X[0]).sort((X,ae)=>X-ae),U=Y_(EL).domain(uR(C).reverse());k=C.map(X=>Hd(U(X)).hex())}const x={canvas:u.current,width:n,height:r,pointSize:L,opacity:O,pointColor:k,pointColorHover:[.1,.1,.1,.5],xScale:m,yScale:p};t!=null&&t.length&&(x.colorBy="valueA");const w=nR(x);return w.draw(j),o&&o(m,p),w.subscribe("view",({camera:C,view:U,xScale:X,yScale:ae})=>{f.current=X.domain(),h.current=ae.domain(),o&&o(f.current,h.current)}),w.subscribe("select",({points:C})=>{a&&a(C)}),w.subscribe("deselect",()=>{a&&a([])}),w.subscribe("pointOver",C=>{l&&l(C)}),w.subscribe("pointOut",()=>{l&&l(null)}),i&&i(w),()=>{w.destroy()}}},[e,t]),de.jsx("canvas",{className:SL.scatter,ref:u})}const Yf=({points:e,fill:t,stroke:n,size:r,symbol:i,xDomain:o,yDomain:a,width:l,height:u})=>{const f=re.useRef();return re.useEffect(()=>{if(o&&a){const h=Da().domain(o).range([0,l]),m=Da().domain(a).range([u,0]),p=j=>j/(.1+o[1]-o[0]),O=f.current.getContext("2d");O.clearRect(0,0,l,u),O.fillStyle=t,O.strokeStyle=n,O.font=`${p(r)}px monospace`,O.globalAlpha=.75;let k=p(r);if(!e.length)return;e.map(j=>{t&&O.fillRect(h(j[0])-k/2,m(j[1])-k/2,k,k),n&&O.strokeRect(h(j[0])-k/2,m(j[1])-k/2,k,k),i&&O.fillText(i,h(j[0])-k/3.2,m(j[1])+k/3.2)})}},[e,t,n,r,o,a,l,u]),de.jsx("canvas",{className:"annotation-plot",ref:f,width:l,height:u})},kp=({points:e,hulls:t,fill:n,stroke:r,size:i,symbol:o,xDomain:a,yDomain:l,width:u,height:f})=>{const h=re.useRef();return re.useEffect(()=>{if(a&&l){const m=Da().domain(a).range([0,u]),p=Da().domain(l).range([f,0]),L=j=>j/(.1+a[1]-a[0]),k=h.current.getContext("2d");if(k.clearRect(0,0,u,f),k.fillStyle=n,k.strokeStyle=r,k.font=`${L(i)}px monospace`,k.globalAlpha=.75,L(i),!t.length||!e.length)return;t.forEach(j=>{j&&(k.beginPath(),j.forEach((x,w)=>{w===0?k.moveTo(m(e[x][0]),p(e[x][1])):k.lineTo(m(e[x][0]),p(e[x][1]))}),k.lineTo(m(e[j[0]][0]),p(e[j[0]][1])),n&&k.fill(),r&&k.stroke())})}},[e,t,n,r,i,a,l,u,f]),de.jsx("canvas",{className:"hull-plot",ref:h,width:u,height:f})},Di=500,Fi=500,Kr="https://api.latentscope.com/api";function AL(){var tn;const[e,t]=re.useState(null),{dataset:n,scope:r}=NA(),i=Mv(),o=[{id:0,name:"Selected"},{id:1,name:"Search"},{id:2,name:"Clusters"},{id:3,name:"Tags"}],[a,l]=re.useState(2);re.useEffect(()=>{fetch(`${Kr}/datasets/${n}/meta`).then(q=>q.json()).then(q=>{console.log("dataset",q),t(q)})},[n,t]);const[u,f]=re.useState([]);re.useEffect(()=>{fetch(`${Kr}/datasets/${n}/scopes`).then(q=>q.json()).then(q=>{f(q)})},[n,f]);const[h,m]=re.useState(null);re.useEffect(()=>{fetch(`${Kr}/datasets/${n}/scopes/${r}`).then(q=>q.json()).then(q=>{console.log("scope",q),m(q)})},[n,r,m]);const[p,L]=re.useState(null),[O,k]=re.useState(null),[j,x]=re.useState([]),[w,C]=re.useState([]),[U,X]=re.useState(p==null?void 0:p.id),[ae,Ae]=re.useState([]);re.useEffect(()=>{fetch(`${Kr}/datasets/${n}/embeddings`).then(q=>q.json()).then(q=>{Ae(q)})},[n,Ae]),re.useEffect(()=>{h&&(L(ae.find(q=>q.id==h.embedding_id)),fetch(`${Kr}/datasets/${n}/umaps/${h.umap_id}`).then(q=>q.json()).then(q=>{console.log("umap",q),k(q)}),fetch(`${Kr}/datasets/${n}/clusters/${h.cluster_id}/labels/${h.cluster_labels_id||"default"}`).then(q=>q.json()).then(q=>{console.log("labels",q),C(q)}),fetch(`${Kr}/datasets/${n}/clusters/${h.cluster_id}/indices`).then(q=>q.json()).then(q=>{console.log("cluster indices",q),x(q)}))},[n,h,ae,k,C,L,X]);const se=re.useMemo(()=>j.map(q=>q.cluster),[j]);re.useEffect(()=>{p&&X(p.id)},[p,X]);const ft=q=>{console.log("selected",q),X(q)},[Be,Ue]=re.useState([]),[et,tt]=re.useState(!1);re.useEffect(()=>{O&&fetch(`${Kr}/datasets/${e.id}/umaps/${O.id}/points`).then(q=>q.json()).then(q=>{console.log("umap points",q),Ue(q.map(Xe=>[Xe.x,Xe.y]))})},[e,O]);const Ye=re.useCallback((q,Xe,on=[])=>{fetch(`${Kr}/indexed?dataset=${n}&indices=${JSON.stringify(q)}`).then(cn=>cn.json()).then(cn=>{if(!e)return;let yr=cn.map((ar,Hr)=>({index:q[Hr],...ar}));Xe(yr)})},[e,n]),[rt,wt]=re.useState({}),[dt,xe]=re.useState([-1,1]),[Ge,ze]=re.useState([-1,1]),Ce=re.useCallback((q,Xe)=>{xe(q),ze(Xe)},[xe,ze]),[Qe,xt]=re.useState([]),zt=re.useCallback(q=>{console.log("handle selected",q),xt(q),l(0)},[xt,l]),[Dt,Qt]=re.useState(null),[Ht,Pt]=re.useState(null);re.useEffect(()=>{Dt!=null?Ye([Dt],q=>{Pt(q[0])}):Pt(null)},[Dt,Pt,Ye]);const[Kt,Nn]=re.useState(null);re.useEffect(()=>{if(Ht&&j.length&&w.length){const q=Ht.index,Xe=j[q],on=w[Xe==null?void 0:Xe.cluster];Nn({cluster:Xe.cluster,...on})}else Nn(null)},[Ht,j,w,Nn]);const[In,Yt]=re.useState([]);re.useEffect(()=>{Dt!=null?Yt([Be[Dt]]):Yt([])},[Dt,Be]);const[Bt,pt]=re.useState({});re.useEffect(()=>{fetch(`${Kr}/tags?dataset=${n}`).then(q=>q.json()).then(q=>pt(q))},[n]);const Et=re.useMemo(()=>{const q=[];for(const Xe in Bt)q.push(Xe);return q},[Bt]),[gt,Ct]=re.useState(Et[0]),[Ot,Ut]=re.useState([]);re.useEffect(()=>{if(Bt[gt]){const q=Bt[gt].map(Xe=>Be[Xe]);Ut(q)}else Ut([]),rt&&rt.config&&(rt==null||rt.zoomToOrigin({transition:!0,transitionDuration:1500}))},[Bt,gt,Be,rt,Ut]);const[qt,Rn]=re.useState([]),[Vr,y]=re.useState([]),Rt=re.useCallback(q=>{fetch(`${Kr}/search/nn?dataset=${n}&query=${q}&embedding_id=${U}`).then(Xe=>Xe.json()).then(Xe=>{y(Xe.distances),Rn(Xe.indices),rt==null||rt.zoomToPoints(Xe.indices,{transition:!0,padding:.2,transitionDuration:1500})})},[U,n,rt,y,Rn]),[Ft,Ne]=re.useState([]);re.useEffect(()=>{const q=qt.map(Xe=>Be[Xe]);Ne(q)},[qt,Be]);const[ht,_t]=re.useState(null),[Me,Lt]=re.useState([]);re.useEffect(()=>{if(ht){const q=ht.indices.map(Xe=>Be[Xe]);Lt(q)}else Lt([]),rt&&rt.config&&(rt==null||rt.zoomToOrigin({transition:!0,transitionDuration:1500}))},[ht,Be,rt,Lt]);const Nt=re.useCallback(q=>{rt==null||rt.zoomToPoints([q],{transition:!0,padding:.9,transitionDuration:1500})},[rt]),lt=re.useCallback(q=>{Qt(q)},[Qt]);return e?de.jsxs("div",{className:"dataset--explore",children:[de.jsxs("div",{className:"column",children:[de.jsxs("div",{className:"first-row summary",children:[de.jsxs("div",{className:"scope-card",children:[de.jsxs("h3",{children:[" ",(h==null?void 0:h.label)||(h==null?void 0:h.id),null,de.jsx("select",{className:"scope-selector",onChange:q=>i(`/datasets/${e==null?void 0:e.id}/explore/${q.target.value}`),children:u.map((q,Xe)=>de.jsx("option",{value:q.id,selected:q.id===(h==null?void 0:h.id),children:q.label||q.id},Xe))})]}),de.jsxs("span",{children:["Embeddings: ",p==null?void 0:p.model_id]}),de.jsxs("span",{children:["Clusters: ",w==null?void 0:w.length]})]}),de.jsxs("div",{className:"dataset-card",children:[de.jsx("b",{children:n}),de.jsxs("span",{children:[e==null?void 0:e.length," rows"]})]})]}),de.jsxs("div",{className:"second-row",children:[de.jsx("div",{className:"umap-container",children:de.jsxs("div",{className:"scatters",style:{width:Di,height:Fi},children:[de.jsx(Q_,{points:Be,colors:se,loading:et,width:Di,height:Fi,onScatter:wt,onView:Ce,onSelect:zt,onHover:lt}),Kt&&Kt.hull?de.jsx(kp,{points:Be,hulls:[Kt==null?void 0:Kt.hull],fill:"lightgray",xDomain:dt,yDomain:Ge,width:Di,height:Fi}):null,ht&&ht.hull?de.jsx(kp,{points:Be,hulls:[ht==null?void 0:ht.hull],fill:"darkgray",xDomain:dt,yDomain:Ge,width:Di,height:Fi}):null,de.jsx(kp,{points:Be,hulls:w.map(q=>q.hull),stroke:"lightgray",xDomain:dt,yDomain:Ge,width:Di,height:Fi}),de.jsx(Yf,{points:Ft,fill:"black",size:"8",xDomain:dt,yDomain:Ge,width:Di,height:Fi}),de.jsx(Yf,{points:Me,fill:"darkred",size:"8",xDomain:dt,yDomain:Ge,width:Di,height:Fi}),de.jsx(Yf,{points:Ot,symbol:gt,size:"20",xDomain:dt,yDomain:Ge,width:Di,height:Fi}),de.jsx(Yf,{points:In,stroke:"black",fill:"orange",size:"16",xDomain:dt,yDomain:Ge,width:Di,height:Fi})]})}),de.jsxs("div",{className:"hovered-point",children:[Ht&&Object.keys(Ht).map(q=>de.jsxs("span",{children:[de.jsxs("span",{className:"key",children:[q,":"]}),de.jsx("span",{className:"value",children:Ht[q]})]},q)),Kt?de.jsxs("span",{children:[de.jsx("span",{className:"key",children:"Cluster:"}),de.jsx("span",{className:"value",children:Kt.label})]}):null]})]})]}),de.jsx("div",{className:"column",children:de.jsxs("div",{className:"second-row tab-tables",children:[de.jsx("div",{className:"tab-header",children:o.map(q=>de.jsx("button",{onClick:()=>l(q.id),className:q.id===a?"tab-active":"tab-inactive",children:q.name},q.id))}),a===0?de.jsxs("div",{className:"tab-content tab-selected",children:[de.jsxs("span",{children:["Selected: ",Qe==null?void 0:Qe.length,(Qe==null?void 0:Qe.length)>0?de.jsx("button",{className:"deselect",onClick:()=>{xt([]),rt==null||rt.select([]),rt==null||rt.zoomToOrigin({transition:!0,transitionDuration:1500})},children:"X"}):null]}),(Qe==null?void 0:Qe.length)>0?de.jsx(xu,{indices:Qe,clusterIndices:j,clusterLabels:w,tagset:Bt,dataset:e,maxRows:150,onTagset:q=>pt(q),onHover:lt,onClick:Nt}):null]}):null,a===1?de.jsxs("div",{className:"tab-content tab-neighbors",children:[de.jsx("div",{className:"search-box",children:de.jsxs("form",{onSubmit:q=>{q.preventDefault(),Rt(q.target.elements.searchBox.value),l(1)},children:[de.jsx("input",{type:"text",id:"searchBox"}),de.jsx("button",{type:"submit",children:"Similarity Search"}),de.jsx("br",{}),de.jsx("label",{htmlFor:"embeddingModel"}),de.jsx("select",{id:"embeddingModel",onChange:q=>ft(q.target.value),value:U,children:ae.map((q,Xe)=>de.jsxs("option",{value:q.id,children:[q.id," - ",q.model_id]},Xe))})]})}),de.jsxs("span",{children:[qt.length?de.jsxs("span",{children:["Nearest Neighbors: ",qt.length," (capped at 150) "]}):null,qt.length>0?de.jsx("button",{className:"deselect",onClick:()=>{Rn([]),document.getElementById("searchBox").value=""},children:"X"}):null]}),qt.length>0?de.jsx(xu,{indices:qt,distances:Vr,clusterIndices:j,clusterLabels:w,tagset:Bt,dataset:e,onTagset:q=>pt(q),onHover:lt,onClick:Nt}):null]}):null,a===2?de.jsxs("div",{className:"tab-content tab-cluster",children:[de.jsx("div",{className:"clusters-select",children:de.jsxs("select",{onChange:q=>{const Xe=w.find(on=>on.label===q.target.value);Xe&&_t(Xe)},value:ht==null?void 0:ht.label,children:[de.jsx("option",{value:"",children:"Select a cluster"}),w.map((q,Xe)=>de.jsx("option",{value:q.label,children:q.label},Xe))]})}),de.jsx("div",{className:"cluster-selected",children:de.jsxs("span",{children:[ht==null?void 0:ht.indices.length," ",ht!=null&&ht.indices.length?"Rows":"",ht?de.jsx("button",{className:"deselect",onClick:()=>{_t(null)},children:"X"}):null]})}),de.jsx("div",{className:"cluster-table",children:ht!=null&&ht.indices?de.jsx(xu,{indices:ht==null?void 0:ht.indices,clusterIndices:j,clusterLabels:w,dataset:e,tagset:Bt,onTagset:q=>pt(q),onHover:lt,onClick:Nt}):null})]}):null,a===3?de.jsxs("div",{className:"tab-content tab-tag",children:[de.jsxs("div",{className:"tags-box",children:[de.jsxs("div",{className:"tags-select",children:["Tags: ",Et.map(q=>de.jsxs("button",{className:"dataset--tag-link",onClick:()=>{Ct(q),l(3),rt==null||rt.zoomToPoints(Bt[q],{transition:!0,padding:.2,transitionDuration:1500})},children:[q,"(",Bt[q].length,")"]},q))]}),null]}),de.jsxs("span",{children:[gt," ",(tn=Bt[gt])==null?void 0:tn.length,gt?de.jsx("button",{className:"deselect",onClick:()=>{Ct(null)},children:"X"}):null]}),Bt[gt]?de.jsx(xu,{indices:Bt[gt],clusterIndices:j,clusterLabels:w,tagset:Bt,dataset:e,onTagset:q=>pt(q),onHover:lt,onClick:Nt}):null]}):null]})})]}):de.jsx("div",{children:"Loading..."})}qe.shape({id:qe.string.isRequired}).isRequired,qe.string.isRequired,qe.object,qe.array,qe.array,qe.func.isRequired,qe.func.isRequired;qe.shape({id:qe.string.isRequired}).isRequired,qe.object,qe.object,qe.array.isRequired,qe.func.isRequired,qe.func.isRequired;qe.shape({id:qe.string.isRequired}).isRequired,qe.object,qe.object,qe.array,qe.func.isRequired,qe.func.isRequired;qe.shape({id:qe.string.isRequired}).isRequired,qe.object,qe.string,qe.func.isRequired,qe.func,qe.func,qe.func;qe.shape({id:qe.string.isRequired}).isRequired,qe.object,qe.object,qe.object,qe.object,qe.string,qe.func.isRequired,qe.func.isRequired;const CL=()=>de.jsx("nav",{children:de.jsx("ul",{children:de.jsx("li",{children:de.jsx(f_,{to:"/",children:"Latent Scope"})})})});var bL={VITE_API_URL:"https://api.latentscope.com/api",BASE_URL:"/latent-scope/",MODE:"read_only",DEV:!1,PROD:!0,SSR:!1};const K_=bL;console.log("ENV",K_);function RL(){return de.jsxs(JA,{basename:K_.BASE_NAME,children:[de.jsx(CL,{}),de.jsx("div",{className:"page",children:de.jsxs(XA,{children:[de.jsx(b0,{path:"/",element:de.jsx(s2,{})}),null,null,null,null,de.jsx(b0,{path:"/datasets/:dataset/explore/:scope",element:de.jsx(AL,{})})]})})]})}Np.createRoot(document.getElementById("root")).render(de.jsx(K1.StrictMode,{children:de.jsx(RL,{})}));
